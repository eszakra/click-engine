import{j as f,m as ae,L as gv,a as vr,U as ks,A as $t,X as Za,W as On,D as ji,C as Ei,b as Ns,M as ic,S as pv,c as pm,R as vv,P as vm,I as cr,d as bv,e as yv,B as wv,E as xv,f as _v,g as Sv,h as Zm,i as Im,k as Pm,l as Wm,Z as sc,n as jv,o as Ev,p as Ov,q as Av,r as Tv,s as Nv,t as Rv,u as Cv,v as Uv,w as zv,x as kv,y as Dv,F as Mv,z as Bv,G as qv}from"./ui-B6BqYUWw.js";import{a as Lv,r as X,R as lc}from"./konva-YWJE7ic-.js";import{r as $v,a as Hv,g as Fm,b as Gv}from"./vendor-BerfLJhL.js";function Vv(r,n){for(var s=0;s<n.length;s++){const l=n[s];if(typeof l!="string"&&!Array.isArray(l)){for(const d in l)if(d!=="default"&&!(d in r)){const c=Object.getOwnPropertyDescriptor(l,d);c&&Object.defineProperty(r,d,c.get?c:{enumerable:!0,get:()=>l[d]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const c of d)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(d){const c={};return d.integrity&&(c.integrity=d.integrity),d.referrerPolicy&&(c.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?c.credentials="include":d.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(d){if(d.ep)return;d.ep=!0;const c=s(d);fetch(d.href,c)}})();var Du={exports:{}},Ss={};/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function Kv(){if(bm)return Ss;bm=1;var r=Lv(),n=$v(),s=Hv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(l(188))}function b(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===i)return p(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==i.return)a=o,i=u;else{for(var m=!1,v=o.child;v;){if(v===a){m=!0,a=o,i=u;break}if(v===i){m=!0,i=o,a=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===a){m=!0,a=u,i=o;break}if(v===i){m=!0,i=u,a=o;break}v=v.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var at=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===at?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case q:return"Profiler";case C:return"StrictMode";case ne:return"Suspense";case Y:return"SuspenseList";case Ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case B:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:it(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return it(e(t))}catch{}}return null}var Be=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xt={pending:!1,data:null,method:null,action:null},Pa=[],ya=-1;function At(e){return{current:e}}function qe(e){0>ya||(e.current=Pa[ya],Pa[ya]=null,ya--)}function ve(e,t){ya++,Pa[ya]=e.current,e.current=t}var Tt=At(null),Wa=At(null),Ht=At(null),An=At(null);function Tn(e,t){switch(ve(Ht,t),ve(Wa,e),ve(Tt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lf(t),e=$f(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qe(Tt),ve(Tt,e)}function wa(){qe(Tt),qe(Wa),qe(Ht)}function Nn(e){e.memoizedState!==null&&ve(An,e);var t=Tt.current,a=$f(t,e.type);t!==a&&(ve(Wa,e),ve(Tt,a))}function xa(e){Wa.current===e&&(qe(Tt),qe(Wa)),An.current===e&&(qe(An),ys._currentValue=Xt)}var M,W;function oe(e){if(M===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||"",W=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+W}var Oe=!1;function Ne(e,t){if(!e||Oe)return"";Oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var D=function(){throw Error()};if(Object.defineProperty(D.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(D,[])}catch(R){var N=R}Reflect.construct(e,[],D)}else{try{D.call()}catch(R){N=R}e.call(D.prototype)}}else{try{throw Error()}catch(R){N=R}(D=e())&&typeof D.catch=="function"&&D.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var y=m.split(`
`),T=v.split(`
`);for(o=i=0;i<y.length&&!y[i].includes("DetermineComponentFrameRoot");)i++;for(;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;if(i===y.length||o===T.length)for(i=y.length-1,o=T.length-1;1<=i&&0<=o&&y[i]!==T[o];)o--;for(;1<=i&&0<=o;i--,o--)if(y[i]!==T[o]){if(i!==1||o!==1)do if(i--,o--,0>o||y[i]!==T[o]){var z=`
`+y[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=o);break}}}finally{Oe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?oe(a):""}function Le(e,t){switch(e.tag){case 26:case 27:case 5:return oe(e.type);case 16:return oe("Lazy");case 13:return e.child!==t&&t!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return Ne(e.type,!1);case 11:return Ne(e.type.render,!1);case 1:return Ne(e.type,!0);case 31:return oe("Activity");default:return""}}function je(e){try{var t="",a=null;do t+=Le(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var $e=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,Ni=r.unstable_cancelCallback,xr=r.unstable_shouldYield,Ri=r.unstable_requestPaint,st=r.unstable_now,Zg=r.unstable_getCurrentPriorityLevel,pc=r.unstable_ImmediatePriority,vc=r.unstable_UserBlockingPriority,Ms=r.unstable_NormalPriority,Ig=r.unstable_LowPriority,bc=r.unstable_IdlePriority,Pg=r.log,Wg=r.unstable_setDisableYieldValue,Ci=null,gt=null;function _a(e){if(typeof Pg=="function"&&Wg(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Ci,e)}catch{}}var pt=Math.clz32?Math.clz32:t0,Fg=Math.log,e0=Math.LN2;function t0(e){return e>>>=0,e===0?32:31-(Fg(e)/e0|0)|0}var Bs=256,qs=262144,Ls=4194304;function Fa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $s(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~u,i!==0?o=Fa(i):(m&=v,m!==0?o=Fa(m):a||(a=v&~e,a!==0&&(o=Fa(a))))):(v=i&~u,v!==0?o=Fa(v):m!==0?o=Fa(m):a||(a=i&~e,a!==0&&(o=Fa(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ui(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function a0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var e=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),e}function _r(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function zi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function n0(e,t,a,i,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,y=e.expirationTimes,T=e.hiddenUpdates;for(a=m&~a;0<a;){var z=31-pt(a),D=1<<z;v[z]=0,y[z]=-1;var N=T[z];if(N!==null)for(T[z]=null,z=0;z<N.length;z++){var R=N[z];R!==null&&(R.lane&=-536870913)}a&=~D}i!==0&&wc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function wc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function xc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-pt(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function _c(e,t){var a=t&-t;return a=(a&42)!==0?1:Sr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sc(){var e=ce.p;return e!==0?e:(e=window.event,e===void 0?32:um(e.type))}function jc(e,t){var a=ce.p;try{return ce.p=e,t()}finally{ce.p=a}}var Sa=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Sa,rt="__reactProps$"+Sa,Rn="__reactContainer$"+Sa,Er="__reactEvents$"+Sa,i0="__reactListeners$"+Sa,s0="__reactHandles$"+Sa,Ec="__reactResources$"+Sa,ki="__reactMarker$"+Sa;function Or(e){delete e[Ie],delete e[rt],delete e[Er],delete e[i0],delete e[s0]}function Cn(e){var t=e[Ie];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Rn]||a[Ie]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Qf(e);e!==null;){if(a=e[Ie])return a;e=Qf(e)}return t}e=a,a=e.parentNode}return null}function Un(e){if(e=e[Ie]||e[Rn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Di(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function zn(e){var t=e[Ec];return t||(t=e[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[ki]=!0}var Oc=new Set,Ac={};function en(e,t){kn(e,t),kn(e+"Capture",t)}function kn(e,t){for(Ac[e]=t,e=0;e<t.length;e++)Oc.add(t[e])}var l0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},Nc={};function r0(e){return $e.call(Nc,e)?!0:$e.call(Tc,e)?!1:l0.test(e)?Nc[e]=!0:(Tc[e]=!0,!1)}function Hs(e,t,a){if(r0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Gs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o0(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){if(!e._valueTracker){var t=Rc(e)?"checked":"value";e._valueTracker=o0(e,t,""+e[t])}}function Cc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=Rc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var u0=/[\n"\\]/g;function Ct(e){return e.replace(u0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tr(e,t,a,i,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Nr(e,m,Rt(t)):a!=null?Nr(e,m,Rt(a)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Rt(v):e.removeAttribute("name")}function Uc(e,t,a,i,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ar(e);return}a=a!=null?""+Rt(a):"",t=t!=null?""+Rt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ar(e)}function Nr(e,t,a){t==="number"&&Vs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dn(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Rt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zc(e,t,a){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Rt(a):""}function kc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(Be(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Rt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),Ar(e)}function Mn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var c0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||c0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Mc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&Dc(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&Dc(e,u,t[u])}function Rr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return h0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ta(){}var Cr=null;function Ur(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bn=null,qn=null;function Bc(e){var t=Un(e);if(t&&(e=t.stateNode)){var a=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[rt]||null;if(!o)throw Error(l(90));Tr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&Cc(i)}break e;case"textarea":zc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Dn(e,!!a.multiple,t,!1)}}}var zr=!1;function qc(e,t,a){if(zr)return e(t,a);zr=!0;try{var i=e(t);return i}finally{if(zr=!1,(Bn!==null||qn!==null)&&(Cl(),Bn&&(t=Bn,e=qn,qn=Bn=null,Bc(t),e)))for(t=0;t<e.length;t++)Bc(e[t])}}function Mi(e,t){var a=e.stateNode;if(a===null)return null;var i=a[rt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(aa)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{kr=!1}var ja=null,Dr=null,Ys=null;function Lc(){if(Ys)return Ys;var e,t=Dr,a=t.length,i,o="value"in ja?ja.value:ja.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(i=1;i<=m&&t[a-i]===o[u-i];i++);return Ys=o.slice(e,1<i?1-i:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function $c(){return!1}function ot(e){function t(a,i,o,u,m){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Qs:$c,this.isPropagationStopped=$c,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=ot(tn),qi=_({},tn,{view:0,detail:0}),f0=ot(qi),Mr,Br,Li,Zs=_({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Mr=e.screenX-Li.screenX,Br=e.screenY-Li.screenY):Br=Mr=0,Li=e),Mr)},movementY:function(e){return"movementY"in e?e.movementY:Br}}),Hc=ot(Zs),m0=_({},Zs,{dataTransfer:0}),g0=ot(m0),p0=_({},qi,{relatedTarget:0}),qr=ot(p0),v0=_({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),b0=ot(v0),y0=_({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w0=ot(y0),x0=_({},tn,{data:0}),Gc=ot(x0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j0[e])?!!t[e]:!1}function Lr(){return E0}var O0=_({},qi,{key:function(e){if(e.key){var t=_0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A0=ot(O0),T0=_({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=ot(T0),N0=_({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),R0=ot(N0),C0=_({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),U0=ot(C0),z0=_({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=ot(z0),D0=_({},tn,{newState:0,oldState:0}),M0=ot(D0),B0=[9,13,27,32],$r=aa&&"CompositionEvent"in window,$i=null;aa&&"documentMode"in document&&($i=document.documentMode);var q0=aa&&"TextEvent"in window&&!$i,Kc=aa&&(!$r||$i&&8<$i&&11>=$i),Yc=" ",Jc=!1;function Qc(e,t){switch(e){case"keyup":return B0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function L0(e,t){switch(e){case"compositionend":return Xc(t);case"keypress":return t.which!==32?null:(Jc=!0,Yc);case"textInput":return e=t.data,e===Yc&&Jc?null:e;default:return null}}function $0(e,t){if(Ln)return e==="compositionend"||!$r&&Qc(e,t)?(e=Lc(),Ys=Dr=ja=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kc&&t.locale!=="ko"?null:t.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H0[e.type]:t==="textarea"}function Ic(e,t,a,i){Bn?qn?qn.push(i):qn=[i]:Bn=i,t=ql(t,"onChange"),0<t.length&&(a=new Xs("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Hi=null,Gi=null;function G0(e){zf(e,0)}function Is(e){var t=Di(e);if(Cc(t))return e}function Pc(e,t){if(e==="change")return t}var Wc=!1;if(aa){var Hr;if(aa){var Gr="oninput"in document;if(!Gr){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),Gr=typeof Fc.oninput=="function"}Hr=Gr}else Hr=!1;Wc=Hr&&(!document.documentMode||9<document.documentMode)}function ed(){Hi&&(Hi.detachEvent("onpropertychange",td),Gi=Hi=null)}function td(e){if(e.propertyName==="value"&&Is(Gi)){var t=[];Ic(t,Gi,e,Ur(e)),qc(G0,t)}}function V0(e,t,a){e==="focusin"?(ed(),Hi=t,Gi=a,Hi.attachEvent("onpropertychange",td)):e==="focusout"&&ed()}function K0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(Gi)}function Y0(e,t){if(e==="click")return Is(t)}function J0(e,t){if(e==="input"||e==="change")return Is(t)}function Q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Q0;function Vi(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!$e.call(t,o)||!vt(e[o],t[o]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var a=ad(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ad(a)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Vs(e.document)}return t}function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var X0=aa&&"documentMode"in document&&11>=document.documentMode,$n=null,Kr=null,Ki=null,Yr=!1;function ld(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yr||$n==null||$n!==Vs(i)||(i=$n,"selectionStart"in i&&Vr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ki&&Vi(Ki,i)||(Ki=i,i=ql(Kr,"onSelect"),0<i.length&&(t=new Xs("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=$n)))}function an(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hn={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},Jr={},rd={};aa&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function nn(e){if(Jr[e])return Jr[e];if(!Hn[e])return e;var t=Hn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in rd)return Jr[e]=t[a];return e}var od=nn("animationend"),ud=nn("animationiteration"),cd=nn("animationstart"),Z0=nn("transitionrun"),I0=nn("transitionstart"),P0=nn("transitioncancel"),dd=nn("transitionend"),hd=new Map,Qr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qr.push("scrollEnd");function Gt(e,t){hd.set(e,t),en(t,[e])}var Ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Gn=0,Xr=0;function Ws(){for(var e=Gn,t=Xr=Gn=0;t<e;){var a=Ut[t];Ut[t++]=null;var i=Ut[t];Ut[t++]=null;var o=Ut[t];Ut[t++]=null;var u=Ut[t];if(Ut[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}u!==0&&fd(a,o,u)}}function Fs(e,t,a,i){Ut[Gn++]=e,Ut[Gn++]=t,Ut[Gn++]=a,Ut[Gn++]=i,Xr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Zr(e,t,a,i){return Fs(e,t,a,i),el(e)}function sn(e,t){return Fs(e,null,null,t),el(e)}function fd(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,i=u.alternate,i!==null&&(i.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-pt(a),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),u):null}function el(e){if(50<hs)throw hs=0,su=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Vn={};function W0(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,a,i){return new W0(e,t,a,i)}function Ir(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,t){var a=e.alternate;return a===null?(a=bt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function md(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function tl(e,t,a,i,o,u){var m=0;if(i=e,typeof e=="function")Ir(e)&&(m=1);else if(typeof e=="string")m=nv(e,a,Tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ce:return e=bt(31,a,t,o),e.elementType=Ce,e.lanes=u,e;case U:return ln(a.children,o,u,t);case C:m=8,o|=24;break;case q:return e=bt(12,a,t,o|2),e.elementType=q,e.lanes=u,e;case ne:return e=bt(13,a,t,o),e.elementType=ne,e.lanes=u,e;case Y:return e=bt(19,a,t,o),e.elementType=Y,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:m=10;break e;case L:m=9;break e;case H:m=11;break e;case ee:m=14;break e;case fe:m=16,i=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=bt(m,a,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function ln(e,t,a,i){return e=bt(7,e,i,t),e.lanes=a,e}function Pr(e,t,a){return e=bt(6,e,null,t),e.lanes=a,e}function gd(e){var t=bt(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,a){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pd=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var a=pd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:je(t)},pd.set(e,t),t)}return{value:e,source:t,stack:je(t)}}var Kn=[],Yn=0,al=null,Yi=0,kt=[],Dt=0,Ea=null,Zt=1,It="";function ia(e,t){Kn[Yn++]=Yi,Kn[Yn++]=al,al=e,Yi=t}function vd(e,t,a){kt[Dt++]=Zt,kt[Dt++]=It,kt[Dt++]=Ea,Ea=e;var i=Zt;e=It;var o=32-pt(i)-1;i&=~(1<<o),a+=1;var u=32-pt(t)+o;if(30<u){var m=o-o%5;u=(i&(1<<m)-1).toString(32),i>>=m,o-=m,Zt=1<<32-pt(t)+o|a<<o|i,It=u+e}else Zt=1<<u|a<<o|i,It=e}function Fr(e){e.return!==null&&(ia(e,1),vd(e,1,0))}function eo(e){for(;e===al;)al=Kn[--Yn],Kn[Yn]=null,Yi=Kn[--Yn],Kn[Yn]=null;for(;e===Ea;)Ea=kt[--Dt],kt[Dt]=null,It=kt[--Dt],kt[Dt]=null,Zt=kt[--Dt],kt[Dt]=null}function bd(e,t){kt[Dt++]=Zt,kt[Dt++]=It,kt[Dt++]=Ea,Zt=t.id,It=t.overflow,Ea=e}var Pe=null,Ae=null,ue=!1,Oa=null,Mt=!1,to=Error(l(519));function Aa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ji(zt(t,e)),to}function yd(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[Ie]=e,t[rt]=i,a){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(a=0;a<ms.length;a++)se(ms[a],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),Uc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),kc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Bf(t.textContent,a)?(i.popover!=null&&(se("beforetoggle",t),se("toggle",t)),i.onScroll!=null&&se("scroll",t),i.onScrollEnd!=null&&se("scrollend",t),i.onClick!=null&&(t.onclick=ta),t=!0):t=!1,t||Aa(e,!0)}function wd(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:Pe=Pe.return}}function Jn(e){if(e!==Pe)return!1;if(!ue)return wd(e),ue=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wu(e.type,e.memoizedProps)),a=!a),a&&Ae&&Aa(e),wd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ae=Jf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ae=Jf(e)}else t===27?(t=Ae,Ha(e.type)?(e=Eu,Eu=null,Ae=e):Ae=t):Ae=Pe?qt(e.stateNode.nextSibling):null;return!0}function rn(){Ae=Pe=null,ue=!1}function ao(){var e=Oa;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),Oa=null),e}function Ji(e){Oa===null?Oa=[e]:Oa.push(e)}var no=At(null),on=null,sa=null;function Ta(e,t,a){ve(no,t._currentValue),t._currentValue=a}function la(e){e._currentValue=no.current,qe(no)}function io(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function so(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var y=0;y<t.length;y++)if(v.context===t[y]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),io(u.return,a,e),i||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),io(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Qn(e,t,a,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var v=o.type;vt(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===An.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ys):e=[ys])}o=o.return}e!==null&&so(t,e,a,i),t.flags|=262144}function nl(e){for(e=e.firstContext;e!==null;){if(!vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function un(e){on=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return xd(on,e)}function il(e,t){return on===null&&un(e),xd(e,t)}function xd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sa===null){if(e===null)throw Error(l(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return a}var F0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ep=r.unstable_scheduleCallback,tp=r.unstable_NormalPriority,He={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lo(){return{controller:new F0,data:new Map,refCount:0}}function Qi(e){e.refCount--,e.refCount===0&&ep(tp,function(){e.controller.abort()})}var Xi=null,ro=0,Xn=0,Zn=null;function ap(e,t){if(Xi===null){var a=Xi=[];ro=0,Xn=du(),Zn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return ro++,t.then(_d,_d),t}function _d(){if(--ro===0&&Xi!==null){Zn!==null&&(Zn.status="fulfilled");var e=Xi;Xi=null,Xn=0,Zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function np(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var Sd=I.S;I.S=function(e,t){rf=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ap(e,t),Sd!==null&&Sd(e,t)};var cn=At(null);function oo(){var e=cn.current;return e!==null?e:xe.pooledCache}function sl(e,t){t===null?ve(cn,cn.current):ve(cn,t.pool)}function jd(){var e=oo();return e===null?null:{parent:He._currentValue,pool:e}}var In=Error(l(460)),uo=Error(l(474)),ll=Error(l(542)),rl={then:function(){}};function Ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Od(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ta,ta),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(ta,ta);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw hn=t,In}}function dn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hn=a,In):a}}var hn=null;function Ad(){if(hn===null)throw Error(l(459));var e=hn;return hn=null,e}function Td(e){if(e===In||e===ll)throw Error(l(483))}var Pn=null,Zi=0;function ol(e){var t=Zi;return Zi+=1,Pn===null&&(Pn=[]),Od(Pn,e,t)}function Ii(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ul(e,t){throw t.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Nd(e){function t(j,S){if(e){var A=j.deletions;A===null?(j.deletions=[S],j.flags|=16):A.push(S)}}function a(j,S){if(!e)return null;for(;S!==null;)t(j,S),S=S.sibling;return null}function i(j){for(var S=new Map;j!==null;)j.key!==null?S.set(j.key,j):S.set(j.index,j),j=j.sibling;return S}function o(j,S){return j=na(j,S),j.index=0,j.sibling=null,j}function u(j,S,A){return j.index=A,e?(A=j.alternate,A!==null?(A=A.index,A<S?(j.flags|=67108866,S):A):(j.flags|=67108866,S)):(j.flags|=1048576,S)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function v(j,S,A,k){return S===null||S.tag!==6?(S=Pr(A,j.mode,k),S.return=j,S):(S=o(S,A),S.return=j,S)}function y(j,S,A,k){var Q=A.type;return Q===U?z(j,S,A.props.children,k,A.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===fe&&dn(Q)===S.type)?(S=o(S,A.props),Ii(S,A),S.return=j,S):(S=tl(A.type,A.key,A.props,null,j.mode,k),Ii(S,A),S.return=j,S)}function T(j,S,A,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Wr(A,j.mode,k),S.return=j,S):(S=o(S,A.children||[]),S.return=j,S)}function z(j,S,A,k,Q){return S===null||S.tag!==7?(S=ln(A,j.mode,k,Q),S.return=j,S):(S=o(S,A),S.return=j,S)}function D(j,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Pr(""+S,j.mode,A),S.return=j,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case x:return A=tl(S.type,S.key,S.props,null,j.mode,A),Ii(A,S),A.return=j,A;case O:return S=Wr(S,j.mode,A),S.return=j,S;case fe:return S=dn(S),D(j,S,A)}if(Be(S)||Se(S))return S=ln(S,j.mode,A,null),S.return=j,S;if(typeof S.then=="function")return D(j,ol(S),A);if(S.$$typeof===B)return D(j,il(j,S),A);ul(j,S)}return null}function N(j,S,A,k){var Q=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Q!==null?null:v(j,S,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case x:return A.key===Q?y(j,S,A,k):null;case O:return A.key===Q?T(j,S,A,k):null;case fe:return A=dn(A),N(j,S,A,k)}if(Be(A)||Se(A))return Q!==null?null:z(j,S,A,k,null);if(typeof A.then=="function")return N(j,S,ol(A),k);if(A.$$typeof===B)return N(j,S,il(j,A),k);ul(j,A)}return null}function R(j,S,A,k,Q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return j=j.get(A)||null,v(S,j,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return j=j.get(k.key===null?A:k.key)||null,y(S,j,k,Q);case O:return j=j.get(k.key===null?A:k.key)||null,T(S,j,k,Q);case fe:return k=dn(k),R(j,S,A,k,Q)}if(Be(k)||Se(k))return j=j.get(A)||null,z(S,j,k,Q,null);if(typeof k.then=="function")return R(j,S,A,ol(k),Q);if(k.$$typeof===B)return R(j,S,A,il(S,k),Q);ul(S,k)}return null}function G(j,S,A,k){for(var Q=null,de=null,K=S,te=S=0,re=null;K!==null&&te<A.length;te++){K.index>te?(re=K,K=null):re=K.sibling;var he=N(j,K,A[te],k);if(he===null){K===null&&(K=re);break}e&&K&&he.alternate===null&&t(j,K),S=u(he,S,te),de===null?Q=he:de.sibling=he,de=he,K=re}if(te===A.length)return a(j,K),ue&&ia(j,te),Q;if(K===null){for(;te<A.length;te++)K=D(j,A[te],k),K!==null&&(S=u(K,S,te),de===null?Q=K:de.sibling=K,de=K);return ue&&ia(j,te),Q}for(K=i(K);te<A.length;te++)re=R(K,j,te,A[te],k),re!==null&&(e&&re.alternate!==null&&K.delete(re.key===null?te:re.key),S=u(re,S,te),de===null?Q=re:de.sibling=re,de=re);return e&&K.forEach(function(Ja){return t(j,Ja)}),ue&&ia(j,te),Q}function Z(j,S,A,k){if(A==null)throw Error(l(151));for(var Q=null,de=null,K=S,te=S=0,re=null,he=A.next();K!==null&&!he.done;te++,he=A.next()){K.index>te?(re=K,K=null):re=K.sibling;var Ja=N(j,K,he.value,k);if(Ja===null){K===null&&(K=re);break}e&&K&&Ja.alternate===null&&t(j,K),S=u(Ja,S,te),de===null?Q=Ja:de.sibling=Ja,de=Ja,K=re}if(he.done)return a(j,K),ue&&ia(j,te),Q;if(K===null){for(;!he.done;te++,he=A.next())he=D(j,he.value,k),he!==null&&(S=u(he,S,te),de===null?Q=he:de.sibling=he,de=he);return ue&&ia(j,te),Q}for(K=i(K);!he.done;te++,he=A.next())he=R(K,j,te,he.value,k),he!==null&&(e&&he.alternate!==null&&K.delete(he.key===null?te:he.key),S=u(he,S,te),de===null?Q=he:de.sibling=he,de=he);return e&&K.forEach(function(mv){return t(j,mv)}),ue&&ia(j,te),Q}function we(j,S,A,k){if(typeof A=="object"&&A!==null&&A.type===U&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case x:e:{for(var Q=A.key;S!==null;){if(S.key===Q){if(Q=A.type,Q===U){if(S.tag===7){a(j,S.sibling),k=o(S,A.props.children),k.return=j,j=k;break e}}else if(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===fe&&dn(Q)===S.type){a(j,S.sibling),k=o(S,A.props),Ii(k,A),k.return=j,j=k;break e}a(j,S);break}else t(j,S);S=S.sibling}A.type===U?(k=ln(A.props.children,j.mode,k,A.key),k.return=j,j=k):(k=tl(A.type,A.key,A.props,null,j.mode,k),Ii(k,A),k.return=j,j=k)}return m(j);case O:e:{for(Q=A.key;S!==null;){if(S.key===Q)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){a(j,S.sibling),k=o(S,A.children||[]),k.return=j,j=k;break e}else{a(j,S);break}else t(j,S);S=S.sibling}k=Wr(A,j.mode,k),k.return=j,j=k}return m(j);case fe:return A=dn(A),we(j,S,A,k)}if(Be(A))return G(j,S,A,k);if(Se(A)){if(Q=Se(A),typeof Q!="function")throw Error(l(150));return A=Q.call(A),Z(j,S,A,k)}if(typeof A.then=="function")return we(j,S,ol(A),k);if(A.$$typeof===B)return we(j,S,il(j,A),k);ul(j,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(a(j,S.sibling),k=o(S,A),k.return=j,j=k):(a(j,S),k=Pr(A,j.mode,k),k.return=j,j=k),m(j)):a(j,S)}return function(j,S,A,k){try{Zi=0;var Q=we(j,S,A,k);return Pn=null,Q}catch(K){if(K===In||K===ll)throw K;var de=bt(29,K,null,j.mode);return de.lanes=k,de.return=j,de}finally{}}}var fn=Nd(!0),Rd=Nd(!1),Na=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(me&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=el(e),fd(e,null,a),t}return Fs(e,i,t,a),el(e)}function Pi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,xc(e,a)}}function fo(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mo=!1;function Wi(){if(mo){var e=Zn;if(e!==null)throw e}}function Fi(e,t,a,i){mo=!1;var o=e.updateQueue;Na=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var y=v,T=y.next;y.next=null,m===null?u=T:m.next=T,m=y;var z=e.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==m&&(v===null?z.firstBaseUpdate=T:v.next=T,z.lastBaseUpdate=y))}if(u!==null){var D=o.baseState;m=0,z=T=y=null,v=u;do{var N=v.lane&-536870913,R=N!==v.lane;if(R?(le&N)===N:(i&N)===N){N!==0&&N===Xn&&(mo=!0),z!==null&&(z=z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var G=e,Z=v;N=t;var we=a;switch(Z.tag){case 1:if(G=Z.payload,typeof G=="function"){D=G.call(we,D,N);break e}D=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Z.payload,N=typeof G=="function"?G.call(we,D,N):G,N==null)break e;D=_({},D,N);break e;case 2:Na=!0}}N=v.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[N]:R.push(N))}else R={lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(T=z=R,y=D):z=z.next=R,m|=N;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;R=v,v=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);z===null&&(y=D),o.baseState=y,o.firstBaseUpdate=T,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),Ma|=m,e.lanes=m,e.memoizedState=D}}function Cd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ud(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cd(a[e],t)}var Wn=At(null),cl=At(0);function zd(e,t){e=ga,ve(cl,e),ve(Wn,t),ga=e|t.baseLanes}function go(){ve(cl,ga),ve(Wn,Wn.current)}function po(){ga=cl.current,qe(Wn),qe(cl)}var yt=At(null),Bt=null;function Ua(e){var t=e.alternate;ve(De,De.current&1),ve(yt,e),Bt===null&&(t===null||Wn.current!==null||t.memoizedState!==null)&&(Bt=e)}function vo(e){ve(De,De.current),ve(yt,e),Bt===null&&(Bt=e)}function kd(e){e.tag===22?(ve(De,De.current),ve(yt,e),Bt===null&&(Bt=e)):za()}function za(){ve(De,De.current),ve(yt,yt.current)}function wt(e){qe(yt),Bt===e&&(Bt=null),qe(De)}var De=At(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Su(a)||ju(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,F=null,be=null,Ge=null,hl=!1,Fn=!1,mn=!1,fl=0,es=0,ei=null,ip=0;function ze(){throw Error(l(321))}function bo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!vt(e[a],t[a]))return!1;return!0}function yo(e,t,a,i,o,u){return ra=u,F=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?vh:ko,mn=!1,u=a(i,o),mn=!1,Fn&&(u=Md(t,a,i,o)),Dd(e),u}function Dd(e){I.H=ns;var t=be!==null&&be.next!==null;if(ra=0,Ge=be=F=null,hl=!1,es=0,ei=null,t)throw Error(l(300));e===null||Ve||(e=e.dependencies,e!==null&&nl(e)&&(Ve=!0))}function Md(e,t,a,i){F=e;var o=0;do{if(Fn&&(ei=null),es=0,Fn=!1,25<=o)throw Error(l(301));if(o+=1,Ge=be=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}I.H=bh,u=t(a,i)}while(Fn);return u}function sp(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?ts(t):t,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(F.flags|=1024),t}function wo(){var e=fl!==0;return fl=0,e}function xo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function _o(e){if(hl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}hl=!1}ra=0,Ge=be=F=null,Fn=!1,es=fl=0,ei=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?F.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Me(){if(be===null){var e=F.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ge===null?F.memoizedState:Ge.next;if(t!==null)Ge=t,be=e;else{if(e===null)throw F.alternate===null?Error(l(467)):Error(l(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ge===null?F.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function ml(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ts(e){var t=es;return es+=1,ei===null&&(ei=[]),e=Od(ei,e,t),t=F,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?vh:ko),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ts(e);if(e.$$typeof===B)return We(e)}throw Error(l(438,String(e)))}function So(e){var t=null,a=F.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=F.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ml(),F.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=$;return t.index++,a}function oa(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=Me();return jo(t,be,e)}function jo(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,y=null,T=t,z=!1;do{var D=T.lane&-536870913;if(D!==T.lane?(le&D)===D:(ra&D)===D){var N=T.revertLane;if(N===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),D===Xn&&(z=!0);else if((ra&N)===N){T=T.next,N===Xn&&(z=!0);continue}else D={lane:0,revertLane:T.revertLane,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(v=y=D,m=u):y=y.next=D,F.lanes|=N,Ma|=N;D=T.action,mn&&a(u,D),u=T.hasEagerState?T.eagerState:a(u,D)}else N={lane:D,revertLane:T.revertLane,gesture:T.gesture,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(v=y=N,m=u):y=y.next=N,F.lanes|=D,Ma|=D;T=T.next}while(T!==null&&T!==t);if(y===null?m=u:y.next=v,!vt(u,e.memoizedState)&&(Ve=!0,z&&(a=Zn,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=y,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Eo(e){var t=Me(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);vt(u,t.memoizedState)||(Ve=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,i]}function Bd(e,t,a){var i=F,o=Me(),u=ue;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!vt((be||o).memoizedState,a);if(m&&(o.memoizedState=a,Ve=!0),o=o.queue,To($d.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,ti(9,{destroy:void 0},Ld.bind(null,i,o,a,t),null),xe===null)throw Error(l(349));u||(ra&127)!==0||qd(i,t,a)}return a}function qd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=F.updateQueue,t===null?(t=ml(),F.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ld(e,t,a,i){t.value=a,t.getSnapshot=i,Hd(t)&&Gd(e)}function $d(e,t,a){return a(function(){Hd(t)&&Gd(e)})}function Hd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!vt(e,a)}catch{return!0}}function Gd(e){var t=sn(e,2);t!==null&&ft(t,e,2)}function Oo(e){var t=lt();if(typeof e=="function"){var a=e;if(e=a(),mn){_a(!0);try{a()}finally{_a(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function Vd(e,t,a,i){return e.baseState=a,jo(e,be,typeof i=="function"?i:oa)}function lp(e,t,a,i,o){if(yl(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};I.T!==null?a(!0):u.isTransition=!1,i(u),a=t.pending,a===null?(u.next=t.pending=u,Kd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Kd(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=I.T,m={};I.T=m;try{var v=a(o,i),y=I.S;y!==null&&y(m,v),Yd(e,t,v)}catch(T){Ao(e,t,T)}finally{u!==null&&m.types!==null&&(u.types=m.types),I.T=u}}else try{u=a(o,i),Yd(e,t,u)}catch(T){Ao(e,t,T)}}function Yd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Jd(e,t,i)},function(i){return Ao(e,t,i)}):Jd(e,t,a)}function Jd(e,t,a){t.status="fulfilled",t.value=a,Qd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Kd(e,a)))}function Ao(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Qd(t),t=t.next;while(t!==i)}e.action=null}function Qd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xd(e,t){return t}function Zd(e,t){if(ue){var a=xe.formState;if(a!==null){e:{var i=F;if(ue){if(Ae){t:{for(var o=Ae,u=Mt;o.nodeType!==8;){if(!u){o=null;break t}if(o=qt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ae=qt(o.nextSibling),i=o.data==="F!";break e}}Aa(i)}i=!1}i&&(t=a[0])}}return a=lt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:t},a.queue=i,a=mh.bind(null,F,i),i.dispatch=a,i=Oo(!1),u=zo.bind(null,F,!1,i.queue),i=lt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=lp.bind(null,F,o,u,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function Id(e){var t=Me();return Pd(t,be,e)}function Pd(e,t,a){if(t=jo(e,t,Xd)[0],e=pl(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ts(t)}catch(m){throw m===In?ll:m}else i=t;t=Me();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(F.flags|=2048,ti(9,{destroy:void 0},rp.bind(null,o,a),null)),[i,u,e]}function rp(e,t){e.action=t}function Wd(e){var t=Me(),a=be;if(a!==null)return Pd(t,a,e);Me(),t=t.memoizedState,a=Me();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function ti(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=F.updateQueue,t===null&&(t=ml(),F.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Fd(){return Me().memoizedState}function vl(e,t,a,i){var o=lt();F.flags|=e,o.memoizedState=ti(1|t,{destroy:void 0},a,i===void 0?null:i)}function bl(e,t,a,i){var o=Me();i=i===void 0?null:i;var u=o.memoizedState.inst;be!==null&&i!==null&&bo(i,be.memoizedState.deps)?o.memoizedState=ti(t,u,a,i):(F.flags|=e,o.memoizedState=ti(1|t,u,a,i))}function eh(e,t){vl(8390656,8,e,t)}function To(e,t){bl(2048,8,e,t)}function op(e){F.flags|=4;var t=F.updateQueue;if(t===null)t=ml(),F.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function th(e){var t=Me().memoizedState;return op({ref:t,nextImpl:e}),function(){if((me&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function ah(e,t){return bl(4,2,e,t)}function nh(e,t){return bl(4,4,e,t)}function ih(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sh(e,t,a){a=a!=null?a.concat([e]):null,bl(4,4,ih.bind(null,t,e),a)}function No(){}function lh(e,t){var a=Me();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&bo(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function rh(e,t){var a=Me();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&bo(t,i[1]))return i[0];if(i=e(),mn){_a(!0);try{e()}finally{_a(!1)}}return a.memoizedState=[i,t],i}function Ro(e,t,a){return a===void 0||(ra&1073741824)!==0&&(le&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=uf(),F.lanes|=e,Ma|=e,a)}function oh(e,t,a,i){return vt(a,t)?a:Wn.current!==null?(e=Ro(e,a,i),vt(e,t)||(Ve=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(le&261930)===0?(Ve=!0,e.memoizedState=a):(e=uf(),F.lanes|=e,Ma|=e,t)}function uh(e,t,a,i,o){var u=ce.p;ce.p=u!==0&&8>u?u:8;var m=I.T,v={};I.T=v,zo(e,!1,t,a);try{var y=o(),T=I.S;if(T!==null&&T(v,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var z=np(y,i);as(e,t,z,St(e))}else as(e,t,i,St(e))}catch(D){as(e,t,{then:function(){},status:"rejected",reason:D},St())}finally{ce.p=u,m!==null&&v.types!==null&&(m.types=v.types),I.T=m}}function up(){}function Co(e,t,a,i){if(e.tag!==5)throw Error(l(476));var o=ch(e).queue;uh(e,o,t,Xt,a===null?up:function(){return dh(e),a(i)})}function ch(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xt,baseState:Xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:Xt},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dh(e){var t=ch(e);t.next===null&&(t=e.alternate.memoizedState),as(e,t.next.queue,{},St())}function Uo(){return We(ys)}function hh(){return Me().memoizedState}function fh(){return Me().memoizedState}function cp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=St();e=Ra(a);var i=Ca(t,e,a);i!==null&&(ft(i,t,a),Pi(i,t,a)),t={cache:lo()},e.payload=t;return}t=t.return}}function dp(e,t,a){var i=St();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yl(e)?gh(t,a):(a=Zr(e,t,a,i),a!==null&&(ft(a,e,i),ph(a,t,i)))}function mh(e,t,a){var i=St();as(e,t,a,i)}function as(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yl(e))gh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,a);if(o.hasEagerState=!0,o.eagerState=v,vt(v,m))return Fs(e,t,o,0),xe===null&&Ws(),!1}catch{}finally{}if(a=Zr(e,t,o,i),a!==null)return ft(a,e,i),ph(a,t,i),!0}return!1}function zo(e,t,a,i){if(i={lane:2,revertLane:du(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},yl(e)){if(t)throw Error(l(479))}else t=Zr(e,a,i,2),t!==null&&ft(t,e,2)}function yl(e){var t=e.alternate;return e===F||t!==null&&t===F}function gh(e,t){Fn=hl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ph(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,xc(e,a)}}var ns={readContext:We,use:gl,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};ns.useEffectEvent=ze;var vh={readContext:We,use:gl,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:eh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,vl(4194308,4,ih.bind(null,t,e),a)},useLayoutEffect:function(e,t){return vl(4194308,4,e,t)},useInsertionEffect:function(e,t){vl(4,2,e,t)},useMemo:function(e,t){var a=lt();t=t===void 0?null:t;var i=e();if(mn){_a(!0);try{e()}finally{_a(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=lt();if(a!==void 0){var o=a(t);if(mn){_a(!0);try{a(t)}finally{_a(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=dp.bind(null,F,e),[i.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:function(e){e=Oo(e);var t=e.queue,a=mh.bind(null,F,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:No,useDeferredValue:function(e,t){var a=lt();return Ro(a,e,t)},useTransition:function(){var e=Oo(!1);return e=uh.bind(null,F,e.queue,!0,!1),lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=F,o=lt();if(ue){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),xe===null)throw Error(l(349));(le&127)!==0||qd(i,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,eh($d.bind(null,i,u,e),[e]),i.flags|=2048,ti(9,{destroy:void 0},Ld.bind(null,i,u,a,t),null),a},useId:function(){var e=lt(),t=xe.identifierPrefix;if(ue){var a=It,i=Zt;a=(i&~(1<<32-pt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=fl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ip++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uo,useFormState:Zd,useActionState:Zd,useOptimistic:function(e){var t=lt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=zo.bind(null,F,!0,a),a.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return lt().memoizedState=cp.bind(null,F)},useEffectEvent:function(e){var t=lt(),a={impl:e};return t.memoizedState=a,function(){if((me&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},ko={readContext:We,use:gl,useCallback:lh,useContext:We,useEffect:To,useImperativeHandle:sh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:rh,useReducer:pl,useRef:Fd,useState:function(){return pl(oa)},useDebugValue:No,useDeferredValue:function(e,t){var a=Me();return oh(a,be.memoizedState,e,t)},useTransition:function(){var e=pl(oa)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:ts(e),t]},useSyncExternalStore:Bd,useId:hh,useHostTransitionStatus:Uo,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var a=Me();return Vd(a,be,e,t)},useMemoCache:So,useCacheRefresh:fh};ko.useEffectEvent=th;var bh={readContext:We,use:gl,useCallback:lh,useContext:We,useEffect:To,useImperativeHandle:sh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:rh,useReducer:Eo,useRef:Fd,useState:function(){return Eo(oa)},useDebugValue:No,useDeferredValue:function(e,t){var a=Me();return be===null?Ro(a,e,t):oh(a,be.memoizedState,e,t)},useTransition:function(){var e=Eo(oa)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:ts(e),t]},useSyncExternalStore:Bd,useId:hh,useHostTransitionStatus:Uo,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var a=Me();return be!==null?Vd(a,be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:So,useCacheRefresh:fh};bh.useEffectEvent=th;function Do(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mo={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=St(),o=Ra(i);o.payload=t,a!=null&&(o.callback=a),t=Ca(e,o,i),t!==null&&(ft(t,e,i),Pi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=St(),o=Ra(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ca(e,o,i),t!==null&&(ft(t,e,i),Pi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=St(),i=Ra(a);i.tag=2,t!=null&&(i.callback=t),t=Ca(e,i,a),t!==null&&(ft(t,e,a),Pi(t,e,a))}};function yh(e,t,a,i,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,m):t.prototype&&t.prototype.isPureReactComponent?!Vi(a,i)||!Vi(o,u):!0}function wh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function gn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function xh(e){Ps(e)}function _h(e){console.error(e)}function Sh(e){Ps(e)}function wl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function jh(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){wl(e,t)},a}function Eh(e){return e=Ra(e),e.tag=3,e}function Oh(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){jh(t,a,i)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){jh(t,a,i),typeof o!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function hp(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,o,!0),a=yt.current,a!==null){switch(a.tag){case 31:case 13:return Bt===null?Ul():a.alternate===null&&ke===0&&(ke=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===rl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),ou(e,i,o)),!1;case 22:return a.flags|=65536,i===rl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),ou(e,i,o)),!1}throw Error(l(435,a.tag))}return ou(e,i,o),Ul(),!1}if(ue)return t=yt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==to&&(e=Error(l(422),{cause:i}),Ji(zt(e,a)))):(i!==to&&(t=Error(l(423),{cause:i}),Ji(zt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=zt(i,a),o=Bo(e.stateNode,i,o),fo(e,o),ke!==4&&(ke=2)),!1;var u=Error(l(520),{cause:i});if(u=zt(u,a),ds===null?ds=[u]:ds.push(u),ke!==4&&(ke=2),t===null)return!0;i=zt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Bo(a.stateNode,i,e),fo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ba===null||!Ba.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Eh(o),Oh(o,e,a,i),fo(a,o),!1}a=a.return}while(a!==null);return!1}var qo=Error(l(461)),Ve=!1;function Fe(e,t,a,i){t.child=e===null?Rd(t,null,a,i):fn(t,e.child,a,i)}function Ah(e,t,a,i,o){a=a.render;var u=t.ref;if("ref"in i){var m={};for(var v in i)v!=="ref"&&(m[v]=i[v])}else m=i;return un(t),i=yo(e,t,a,m,u,o),v=wo(),e!==null&&!Ve?(xo(e,t,o),ua(e,t,o)):(ue&&v&&Fr(t),t.flags|=1,Fe(e,t,i,o),t.child)}function Th(e,t,a,i,o){if(e===null){var u=a.type;return typeof u=="function"&&!Ir(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Nh(e,t,u,i,o)):(e=tl(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Jo(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Vi,a(m,i)&&e.ref===t.ref)return ua(e,t,o)}return t.flags|=1,e=na(u,i),e.ref=t.ref,e.return=t,t.child=e}function Nh(e,t,a,i,o){if(e!==null){var u=e.memoizedProps;if(Vi(u,i)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=i=u,Jo(e,o))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,ua(e,t,o)}return Lo(e,t,a,i,o)}function Rh(e,t,a,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return Ch(e,t,u,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&sl(t,u!==null?u.cachePool:null),u!==null?zd(t,u):go(),kd(t);else return i=t.lanes=536870912,Ch(e,t,u!==null?u.baseLanes|a:a,a,i)}else u!==null?(sl(t,u.cachePool),zd(t,u),za(),t.memoizedState=null):(e!==null&&sl(t,null),go(),za());return Fe(e,t,o,a),t.child}function is(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ch(e,t,a,i,o){var u=oo();return u=u===null?null:{parent:He._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&sl(t,null),go(),kd(t),e!==null&&Qn(e,t,i,!0),t.childLanes=o,null}function xl(e,t){return t=Sl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uh(e,t,a){return fn(t,e.child,null,a),e=xl(t,t.pendingProps),e.flags|=2,wt(t),t.memoizedState=null,e}function fp(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ue){if(i.mode==="hidden")return e=xl(t,i),t.lanes=536870912,is(null,e);if(vo(t),(e=Ae)?(e=Yf(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Zt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=gd(e),a.return=t,t.child=a,Pe=t,Ae=null)):e=null,e===null)throw Aa(t);return t.lanes=536870912,null}return xl(t,i)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(vo(t),o)if(t.flags&256)t.flags&=-257,t=Uh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ve||Qn(e,t,a,!1),o=(a&e.childLanes)!==0,Ve||o){if(i=xe,i!==null&&(m=_c(i,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,sn(e,m),ft(i,e,m),qo;Ul(),t=Uh(e,t,a)}else e=u.treeContext,Ae=qt(m.nextSibling),Pe=t,ue=!0,Oa=null,Mt=!1,e!==null&&bd(t,e),t=xl(t,i),t.flags|=4096;return t}return e=na(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _l(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lo(e,t,a,i,o){return un(t),a=yo(e,t,a,i,void 0,o),i=wo(),e!==null&&!Ve?(xo(e,t,o),ua(e,t,o)):(ue&&i&&Fr(t),t.flags|=1,Fe(e,t,a,o),t.child)}function zh(e,t,a,i,o,u){return un(t),t.updateQueue=null,a=Md(t,i,a,o),Dd(e),i=wo(),e!==null&&!Ve?(xo(e,t,u),ua(e,t,u)):(ue&&i&&Fr(t),t.flags|=1,Fe(e,t,a,u),t.child)}function kh(e,t,a,i,o){if(un(t),t.stateNode===null){var u=Vn,m=a.contextType;typeof m=="object"&&m!==null&&(u=We(m)),u=new a(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Mo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},co(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?We(m):Vn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Do(t,a,m,i),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Mo.enqueueReplaceState(u,u.state,null),Fi(t,i,u,o),Wi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,y=gn(a,v);u.props=y;var T=u.context,z=a.contextType;m=Vn,typeof z=="object"&&z!==null&&(m=We(z));var D=a.getDerivedStateFromProps;z=typeof D=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||T!==m)&&wh(t,u,i,m),Na=!1;var N=t.memoizedState;u.state=N,Fi(t,i,u,o),Wi(),T=t.memoizedState,v||N!==T||Na?(typeof D=="function"&&(Do(t,a,D,i),T=t.memoizedState),(y=Na||yh(t,a,y,i,N,T,m))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=T),u.props=i,u.state=T,u.context=m,i=y):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,ho(e,t),m=t.memoizedProps,z=gn(a,m),u.props=z,D=t.pendingProps,N=u.context,T=a.contextType,y=Vn,typeof T=="object"&&T!==null&&(y=We(T)),v=a.getDerivedStateFromProps,(T=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==D||N!==y)&&wh(t,u,i,y),Na=!1,N=t.memoizedState,u.state=N,Fi(t,i,u,o),Wi();var R=t.memoizedState;m!==D||N!==R||Na||e!==null&&e.dependencies!==null&&nl(e.dependencies)?(typeof v=="function"&&(Do(t,a,v,i),R=t.memoizedState),(z=Na||yh(t,a,z,i,N,R,y)||e!==null&&e.dependencies!==null&&nl(e.dependencies))?(T||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,R,y),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,R,y)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=R),u.props=i,u.state=R,u.context=y,i=z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,_l(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=fn(t,e.child,null,o),t.child=fn(t,null,a,o)):Fe(e,t,a,o),t.memoizedState=u.state,e=t.child):e=ua(e,t,o),e}function Dh(e,t,a,i){return rn(),t.flags|=256,Fe(e,t,a,i),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:jd()}}function Go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=_t),e}function Mh(e,t,a){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(ue){if(o?Ua(t):za(),(e=Ae)?(e=Yf(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Zt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=gd(e),a.return=t,t.child=a,Pe=t,Ae=null)):e=null,e===null)throw Aa(t);return ju(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,o?(za(),o=t.mode,v=Sl({mode:"hidden",children:v},o),i=ln(i,o,a,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=Ho(a),i.childLanes=Go(e,m,a),t.memoizedState=$o,is(null,i)):(Ua(t),Vo(t,v))}var y=e.memoizedState;if(y!==null&&(v=y.dehydrated,v!==null)){if(u)t.flags&256?(Ua(t),t.flags&=-257,t=Ko(e,t,a)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),v=i.fallback,o=t.mode,i=Sl({mode:"visible",children:i.children},o),v=ln(v,o,a,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,fn(t,e.child,null,a),i=t.child,i.memoizedState=Ho(a),i.childLanes=Go(e,m,a),t.memoizedState=$o,t=is(null,i));else if(Ua(t),ju(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var T=m.dgst;m=T,i=Error(l(419)),i.stack="",i.digest=m,Ji({value:i,source:null,stack:null}),t=Ko(e,t,a)}else if(Ve||Qn(e,t,a,!1),m=(a&e.childLanes)!==0,Ve||m){if(m=xe,m!==null&&(i=_c(m,a),i!==0&&i!==y.retryLane))throw y.retryLane=i,sn(e,i),ft(m,e,i),qo;Su(v)||Ul(),t=Ko(e,t,a)}else Su(v)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Ae=qt(v.nextSibling),Pe=t,ue=!0,Oa=null,Mt=!1,e!==null&&bd(t,e),t=Vo(t,i.children),t.flags|=4096);return t}return o?(za(),v=i.fallback,o=t.mode,y=e.child,T=y.sibling,i=na(y,{mode:"hidden",children:i.children}),i.subtreeFlags=y.subtreeFlags&65011712,T!==null?v=na(T,v):(v=ln(v,o,a,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,is(null,i),i=t.child,v=e.child.memoizedState,v===null?v=Ho(a):(o=v.cachePool,o!==null?(y=He._currentValue,o=o.parent!==y?{parent:y,pool:y}:o):o=jd(),v={baseLanes:v.baseLanes|a,cachePool:o}),i.memoizedState=v,i.childLanes=Go(e,m,a),t.memoizedState=$o,is(e.child,i)):(Ua(t),a=e.child,e=a.sibling,a=na(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=Sl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Sl(e,t){return e=bt(22,e,null,t),e.lanes=0,e}function Ko(e,t,a){return fn(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bh(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),io(e.return,t,a)}function Yo(e,t,a,i,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function qh(e,t,a){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var m=De.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,ve(De,m),Fe(e,t,i,a),i=ue?Yi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,a,t);else if(e.tag===19)Bh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&dl(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Yo(t,!1,o,a,u,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&dl(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Yo(t,!0,a,null,u,i);break;case"together":Yo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nl(e)))}function mp(e,t,a){switch(t.tag){case 3:Tn(t,t.stateNode.containerInfo),Ta(t,He,e.memoizedState.cache),rn();break;case 27:case 5:Nn(t);break;case 4:Tn(t,t.stateNode.containerInfo);break;case 10:Ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Mh(e,t,a):(Ua(t),e=ua(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Qn(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return qh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ve(De,De.current),i)break;return null;case 22:return t.lanes=0,Rh(e,t,a,t.pendingProps);case 24:Ta(t,He,e.memoizedState.cache)}return ua(e,t,a)}function Lh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!Jo(e,a)&&(t.flags&128)===0)return Ve=!1,mp(e,t,a);Ve=(e.flags&131072)!==0}else Ve=!1,ue&&(t.flags&1048576)!==0&&vd(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=dn(t.elementType),t.type=e,typeof e=="function")Ir(e)?(i=gn(e,i),t.tag=1,t=kh(null,t,e,i,a)):(t.tag=0,t=Lo(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===H){t.tag=11,t=Ah(null,t,e,i,a);break e}else if(o===ee){t.tag=14,t=Th(null,t,e,i,a);break e}}throw t=it(e)||e,Error(l(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=gn(i,t.pendingProps),kh(e,t,i,o,a);case 3:e:{if(Tn(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,ho(e,t),Fi(t,i,null,a);var m=t.memoizedState;if(i=m.cache,Ta(t,He,i),i!==u.cache&&so(t,[He],a,!0),Wi(),i=m.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Dh(e,t,i,a);break e}else if(i!==o){o=zt(Error(l(424)),t),Ji(o),t=Dh(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ae=qt(e.firstChild),Pe=t,ue=!0,Oa=null,Mt=!0,a=Rd(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rn(),i===o){t=ua(e,t,a);break e}Fe(e,t,i,a)}t=t.child}return t;case 26:return _l(e,t),e===null?(a=Pf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ue||(a=t.type,e=t.pendingProps,i=Ll(Ht.current).createElement(a),i[Ie]=t,i[rt]=e,et(i,a,e),Xe(i),t.stateNode=i):t.memoizedState=Pf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Nn(t),e===null&&ue&&(i=t.stateNode=Xf(t.type,t.pendingProps,Ht.current),Pe=t,Mt=!0,o=Ae,Ha(t.type)?(Eu=o,Ae=qt(i.firstChild)):Ae=o),Fe(e,t,t.pendingProps.children,a),_l(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ue&&((o=i=Ae)&&(i=Kp(i,t.type,t.pendingProps,Mt),i!==null?(t.stateNode=i,Pe=t,Ae=qt(i.firstChild),Mt=!1,o=!0):o=!1),o||Aa(t)),Nn(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,i=u.children,wu(o,u)?i=null:m!==null&&wu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=yo(e,t,sp,null,null,a),ys._currentValue=o),_l(e,t),Fe(e,t,i,a),t.child;case 6:return e===null&&ue&&((e=a=Ae)&&(a=Yp(a,t.pendingProps,Mt),a!==null?(t.stateNode=a,Pe=t,Ae=null,e=!0):e=!1),e||Aa(t)),null;case 13:return Mh(e,t,a);case 4:return Tn(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=fn(t,null,i,a):Fe(e,t,i,a),t.child;case 11:return Ah(e,t,t.type,t.pendingProps,a);case 7:return Fe(e,t,t.pendingProps,a),t.child;case 8:return Fe(e,t,t.pendingProps.children,a),t.child;case 12:return Fe(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Ta(t,t.type,i.value),Fe(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,un(t),o=We(o),i=i(o),t.flags|=1,Fe(e,t,i,a),t.child;case 14:return Th(e,t,t.type,t.pendingProps,a);case 15:return Nh(e,t,t.type,t.pendingProps,a);case 19:return qh(e,t,a);case 31:return fp(e,t,a);case 22:return Rh(e,t,a,t.pendingProps);case 24:return un(t),i=We(He),e===null?(o=oo(),o===null&&(o=xe,u=lo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:i,cache:o},co(t),Ta(t,He,o)):((e.lanes&a)!==0&&(ho(e,t),Fi(t,null,null,a),Wi()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ta(t,He,i)):(i=u.cache,Ta(t,He,i),i!==o.cache&&so(t,[He],a,!0))),Fe(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ca(e){e.flags|=4}function Qo(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(ff())e.flags|=8192;else throw hn=rl,uo}else e.flags&=-16777217}function $h(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!am(t))if(ff())e.flags|=8192;else throw hn=rl,uo}function jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yc():536870912,e.lanes|=t,si|=t)}function ss(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function gp(e,t,a){var i=t.pendingProps;switch(eo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Te(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),la(He),wa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Jn(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ao())),Te(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ca(t),u!==null?(Te(t),$h(t,u)):(Te(t),Qo(t,o,null,i,a))):u?u!==e.memoizedState?(ca(t),Te(t),$h(t,u)):(Te(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ca(t),Te(t),Qo(t,o,e,i,a)),null;case 27:if(xa(t),a=Ht.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Te(t),null}e=Tt.current,Jn(t)?yd(t):(e=Xf(o,i,a),t.stateNode=e,ca(t))}return Te(t),null;case 5:if(xa(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Te(t),null}if(u=Tt.current,Jn(t))yd(t);else{var m=Ll(Ht.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}u[Ie]=t,u[rt]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(et(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ca(t)}}return Te(t),Qo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=Ht.current,Jn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=Pe,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Ie]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Bf(e.nodeValue,a)),e||Aa(t,!0)}else e=Ll(e).createTextNode(i),e[Ie]=t,t.stateNode=e}return Te(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Jn(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Ie]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Te(t),e=!1}else a=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(wt(t),t):(wt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Te(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Jn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Ie]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Te(t),o=!1}else o=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(wt(t),t):(wt(t),null)}return wt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),jl(t,t.updateQueue),Te(t),null);case 4:return wa(),e===null&&gu(t.stateNode.containerInfo),Te(t),null;case 10:return la(t.type),Te(t),null;case 19:if(qe(De),i=t.memoizedState,i===null)return Te(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)ss(i,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=dl(e),u!==null){for(t.flags|=128,ss(i,!1),e=u.updateQueue,t.updateQueue=e,jl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)md(a,e),a=a.sibling;return ve(De,De.current&1|2),ue&&ia(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&st()>Nl&&(t.flags|=128,o=!0,ss(i,!1),t.lanes=4194304)}else{if(!o)if(e=dl(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,jl(t,e),ss(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!ue)return Te(t),null}else 2*st()-i.renderingStartTime>Nl&&a!==536870912&&(t.flags|=128,o=!0,ss(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=st(),e.sibling=null,a=De.current,ve(De,o?a&1|2:a&1),ue&&ia(t,i.treeForkCount),e):(Te(t),null);case 22:case 23:return wt(t),po(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),a=t.updateQueue,a!==null&&jl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&qe(cn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),la(He),Te(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function pp(e,t){switch(eo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(He),wa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xa(t),null;case 31:if(t.memoizedState!==null){if(wt(t),t.alternate===null)throw Error(l(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(De),null;case 4:return wa(),null;case 10:return la(t.type),null;case 22:case 23:return wt(t),po(),e!==null&&qe(cn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return la(He),null;case 25:return null;default:return null}}function Hh(e,t){switch(eo(t),t.tag){case 3:la(He),wa();break;case 26:case 27:case 5:xa(t);break;case 4:wa();break;case 31:t.memoizedState!==null&&wt(t);break;case 13:wt(t);break;case 19:qe(De);break;case 10:la(t.type);break;case 22:case 23:wt(t),po(),e!==null&&qe(cn);break;case 24:la(He)}}function ls(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var u=a.create,m=a.inst;i=u(),m.destroy=i}a=a.next}while(a!==o)}}catch(v){pe(t,t.return,v)}}function ka(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var m=i.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var y=a,T=v;try{T()}catch(z){pe(o,y,z)}}}i=i.next}while(i!==u)}}catch(z){pe(t,t.return,z)}}function Gh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ud(t,a)}catch(i){pe(e,e.return,i)}}}function Vh(e,t,a){a.props=gn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){pe(e,t,i)}}function rs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){pe(e,t,o)}}function Pt(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){pe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){pe(e,t,o)}else a.current=null}function Kh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){pe(e,e.return,o)}}function Xo(e,t,a){try{var i=e.stateNode;qp(i,e.type,a,t),i[rt]=t}catch(o){pe(e,e.return,o)}}function Yh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Io(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ta));else if(i!==4&&(i===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Io(e,t,a),e=e.sibling;e!==null;)Io(e,t,a),e=e.sibling}function El(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(El(e,t,a),e=e.sibling;e!==null;)El(e,t,a),e=e.sibling}function Jh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);et(t,i,a),t[Ie]=e,t[rt]=a}catch(u){pe(e,e.return,u)}}var da=!1,Ke=!1,Po=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function vp(e,t){if(e=e.containerInfo,bu=Jl,e=sd(e),Vr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,v=-1,y=-1,T=0,z=0,D=e,N=null;t:for(;;){for(var R;D!==a||o!==0&&D.nodeType!==3||(v=m+o),D!==u||i!==0&&D.nodeType!==3||(y=m+i),D.nodeType===3&&(m+=D.nodeValue.length),(R=D.firstChild)!==null;)N=D,D=R;for(;;){if(D===e)break t;if(N===a&&++T===o&&(v=m),N===u&&++z===i&&(y=m),(R=D.nextSibling)!==null)break;D=N,N=D.parentNode}D=R}a=v===-1||y===-1?null:{start:v,end:y}}else a=null}a=a||{start:0,end:0}}else a=null;for(yu={focusedElem:e,selectionRange:a},Jl=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,i=a.stateNode;try{var G=gn(a.type,o);e=i.getSnapshotBeforeUpdate(G,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(Z){pe(a,a.return,Z)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)_u(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Xh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:fa(e,a),i&4&&ls(5,a);break;case 1:if(fa(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){pe(a,a.return,m)}else{var o=gn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){pe(a,a.return,m)}}i&64&&Gh(a),i&512&&rs(a,a.return);break;case 3:if(fa(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ud(e,t)}catch(m){pe(a,a.return,m)}}break;case 27:t===null&&i&4&&Jh(a);case 26:case 5:fa(e,a),t===null&&i&4&&Kh(a),i&512&&rs(a,a.return);break;case 12:fa(e,a);break;case 31:fa(e,a),i&4&&Ph(e,a);break;case 13:fa(e,a),i&4&&Wh(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Op.bind(null,a),Jp(e,a))));break;case 22:if(i=a.memoizedState!==null||da,!i){t=t!==null&&t.memoizedState!==null||Ke,o=da;var u=Ke;da=i,(Ke=t)&&!u?ma(e,a,(a.subtreeFlags&8772)!==0):fa(e,a),da=o,Ke=u}break;case 30:break;default:fa(e,a)}}function Zh(e){var t=e.alternate;t!==null&&(e.alternate=null,Zh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Or(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,ut=!1;function ha(e,t,a){for(a=a.child;a!==null;)Ih(e,t,a),a=a.sibling}function Ih(e,t,a){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ci,a)}catch{}switch(a.tag){case 26:Ke||Pt(a,t),ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ke||Pt(a,t);var i=Re,o=ut;Ha(a.type)&&(Re=a.stateNode,ut=!1),ha(e,t,a),ps(a.stateNode),Re=i,ut=o;break;case 5:Ke||Pt(a,t);case 6:if(i=Re,o=ut,Re=null,ha(e,t,a),Re=i,ut=o,Re!==null)if(ut)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(a.stateNode)}catch(u){pe(a,t,u)}else try{Re.removeChild(a.stateNode)}catch(u){pe(a,t,u)}break;case 18:Re!==null&&(ut?(e=Re,Vf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fi(e)):Vf(Re,a.stateNode));break;case 4:i=Re,o=ut,Re=a.stateNode.containerInfo,ut=!0,ha(e,t,a),Re=i,ut=o;break;case 0:case 11:case 14:case 15:ka(2,a,t),Ke||ka(4,a,t),ha(e,t,a);break;case 1:Ke||(Pt(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Vh(a,t,i)),ha(e,t,a);break;case 21:ha(e,t,a);break;case 22:Ke=(i=Ke)||a.memoizedState!==null,ha(e,t,a),Ke=i;break;default:ha(e,t,a)}}function Ph(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fi(e)}catch(a){pe(t,t.return,a)}}}function Wh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fi(e)}catch(a){pe(t,t.return,a)}}function bp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qh),t;default:throw Error(l(435,e.tag))}}function Ol(e,t){var a=bp(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=Ap.bind(null,e,i);i.then(o,o)}})}function ct(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Ha(v.type)){Re=v.stateNode,ut=!1;break e}break;case 5:Re=v.stateNode,ut=!1;break e;case 3:case 4:Re=v.stateNode.containerInfo,ut=!0;break e}v=v.return}if(Re===null)throw Error(l(160));Ih(u,m,o),Re=null,ut=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Fh(t,e),t=t.sibling}var Vt=null;function Fh(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),dt(e),i&4&&(ka(3,e,e.return),ls(3,e),ka(5,e,e.return));break;case 1:ct(t,e),dt(e),i&512&&(Ke||a===null||Pt(a,a.return)),i&64&&da&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=Vt;if(ct(t,e),dt(e),i&512&&(Ke||a===null||Pt(a,a.return)),i&4){var u=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[ki]||u[Ie]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),et(u,i,a),u[Ie]=e,Xe(u),i=u;break e;case"link":var m=em("link","href",o).get(i+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(i),et(u,i,a),o.head.appendChild(u);break;case"meta":if(m=em("meta","content",o).get(i+(a.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}u=o.createElement(i),et(u,i,a),o.head.appendChild(u);break;default:throw Error(l(468,i))}u[Ie]=e,Xe(u),i=u}e.stateNode=i}else tm(o,e.type,e.stateNode);else e.stateNode=Ff(o,i,e.memoizedProps);else u!==i?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,i===null?tm(o,e.type,e.stateNode):Ff(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:ct(t,e),dt(e),i&512&&(Ke||a===null||Pt(a,a.return)),a!==null&&i&4&&Xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ct(t,e),dt(e),i&512&&(Ke||a===null||Pt(a,a.return)),e.flags&32){o=e.stateNode;try{Mn(o,"")}catch(G){pe(e,e.return,G)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Xo(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Po=!0);break;case 6:if(ct(t,e),dt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(G){pe(e,e.return,G)}}break;case 3:if(Gl=null,o=Vt,Vt=$l(t.containerInfo),ct(t,e),Vt=o,dt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{fi(t.containerInfo)}catch(G){pe(e,e.return,G)}Po&&(Po=!1,ef(e));break;case 4:i=Vt,Vt=$l(e.stateNode.containerInfo),ct(t,e),dt(e),Vt=i;break;case 12:ct(t,e),dt(e);break;case 31:ct(t,e),dt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ol(e,i)));break;case 13:ct(t,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tl=st()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ol(e,i)));break;case 22:o=e.memoizedState!==null;var y=a!==null&&a.memoizedState!==null,T=da,z=Ke;if(da=T||o,Ke=z||y,ct(t,e),Ke=z,da=T,dt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||y||da||Ke||pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){y=a=t;try{if(u=y.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=y.stateNode;var D=y.memoizedProps.style,N=D!=null&&D.hasOwnProperty("display")?D.display:null;v.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(G){pe(y,y.return,G)}}}else if(t.tag===6){if(a===null){y=t;try{y.stateNode.nodeValue=o?"":y.memoizedProps}catch(G){pe(y,y.return,G)}}}else if(t.tag===18){if(a===null){y=t;try{var R=y.stateNode;o?Kf(R,!0):Kf(y.stateNode,!1)}catch(G){pe(y,y.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Ol(e,a))));break;case 19:ct(t,e),dt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ol(e,i)));break;case 30:break;case 21:break;default:ct(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Yh(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Zo(e);El(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(Mn(m,""),a.flags&=-33);var v=Zo(e);El(e,v,m);break;case 3:case 4:var y=a.stateNode.containerInfo,T=Zo(e);Io(e,T,y);break;default:throw Error(l(161))}}catch(z){pe(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ef(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ef(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Xh(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ka(4,t,t.return),pn(t);break;case 1:Pt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Vh(t,t.return,a),pn(t);break;case 27:ps(t.stateNode);case 26:case 5:Pt(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:ma(o,u,a),ls(4,u);break;case 1:if(ma(o,u,a),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(T){pe(i,i.return,T)}if(i=u,o=i.updateQueue,o!==null){var v=i.stateNode;try{var y=o.shared.hiddenCallbacks;if(y!==null)for(o.shared.hiddenCallbacks=null,o=0;o<y.length;o++)Cd(y[o],v)}catch(T){pe(i,i.return,T)}}a&&m&64&&Gh(u),rs(u,u.return);break;case 27:Jh(u);case 26:case 5:ma(o,u,a),a&&i===null&&m&4&&Kh(u),rs(u,u.return);break;case 12:ma(o,u,a);break;case 31:ma(o,u,a),a&&m&4&&Ph(o,u);break;case 13:ma(o,u,a),a&&m&4&&Wh(o,u);break;case 22:u.memoizedState===null&&ma(o,u,a),rs(u,u.return);break;case 30:break;default:ma(o,u,a)}t=t.sibling}}function Wo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qi(a))}function Fo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qi(e))}function Kt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tf(e,t,a,i),t=t.sibling}function tf(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,a,i),o&2048&&ls(9,t);break;case 1:Kt(e,t,a,i);break;case 3:Kt(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qi(e)));break;case 12:if(o&2048){Kt(e,t,a,i),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){pe(t,t.return,y)}}else Kt(e,t,a,i);break;case 31:Kt(e,t,a,i);break;case 13:Kt(e,t,a,i);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Kt(e,t,a,i):os(e,t):u._visibility&2?Kt(e,t,a,i):(u._visibility|=2,ai(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Wo(m,t);break;case 24:Kt(e,t,a,i),o&2048&&Fo(t.alternate,t);break;default:Kt(e,t,a,i)}}function ai(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=a,y=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:ai(u,m,v,y,o),ls(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?ai(u,m,v,y,o):os(u,m):(z._visibility|=2,ai(u,m,v,y,o)),o&&T&2048&&Wo(m.alternate,m);break;case 24:ai(u,m,v,y,o),o&&T&2048&&Fo(m.alternate,m);break;default:ai(u,m,v,y,o)}t=t.sibling}}function os(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:os(a,i),o&2048&&Wo(i.alternate,i);break;case 24:os(a,i),o&2048&&Fo(i.alternate,i);break;default:os(a,i)}t=t.sibling}}var us=8192;function ni(e,t,a){if(e.subtreeFlags&us)for(e=e.child;e!==null;)af(e,t,a),e=e.sibling}function af(e,t,a){switch(e.tag){case 26:ni(e,t,a),e.flags&us&&e.memoizedState!==null&&iv(a,Vt,e.memoizedState,e.memoizedProps);break;case 5:ni(e,t,a);break;case 3:case 4:var i=Vt;Vt=$l(e.stateNode.containerInfo),ni(e,t,a),Vt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=us,us=16777216,ni(e,t,a),us=i):ni(e,t,a));break;default:ni(e,t,a)}}function nf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Ze=i,lf(i,e)}nf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sf(e),e=e.sibling}function sf(e){switch(e.tag){case 0:case 11:case 15:cs(e),e.flags&2048&&ka(9,e,e.return);break;case 3:cs(e);break;case 12:cs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):cs(e);break;default:cs(e)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Ze=i,lf(i,e)}nf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ka(8,t,t.return),Al(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function lf(e,t){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:ka(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Qi(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,Ze=i;else e:for(a=e;Ze!==null;){i=Ze;var o=i.sibling,u=i.return;if(Zh(i),i===a){Ze=null;break e}if(o!==null){o.return=u,Ze=o;break e}Ze=u}}}var yp={getCacheForType:function(e){var t=We(He),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return We(He).controller.signal}},wp=typeof WeakMap=="function"?WeakMap:Map,me=0,xe=null,ie=null,le=0,ge=0,xt=null,Da=!1,ii=!1,eu=!1,ga=0,ke=0,Ma=0,vn=0,tu=0,_t=0,si=0,ds=null,ht=null,au=!1,Tl=0,rf=0,Nl=1/0,Rl=null,Ba=null,Je=0,qa=null,li=null,pa=0,nu=0,iu=null,of=null,hs=0,su=null;function St(){return(me&2)!==0&&le!==0?le&-le:I.T!==null?du():Sc()}function uf(){if(_t===0)if((le&536870912)===0||ue){var e=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),_t=e}else _t=536870912;return e=yt.current,e!==null&&(e.flags|=32),_t}function ft(e,t,a){(e===xe&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(ri(e,0),La(e,le,_t,!1)),zi(e,a),((me&2)===0||e!==xe)&&(e===xe&&((me&2)===0&&(vn|=a),ke===4&&La(e,le,_t,!1)),Wt(e))}function cf(e,t,a){if((me&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ui(e,t),o=i?Sp(e,t):ru(e,t,!0),u=i;do{if(o===0){ii&&!i&&La(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!xp(a)){o=ru(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=ds;var y=v.current.memoizedState.isDehydrated;if(y&&(ri(v,m).flags|=256),m=ru(v,m,!1),m!==2){if(eu&&!y){v.errorRecoveryDisabledLanes|=u,vn|=u,o=4;break e}u=ht,ht=o,u!==null&&(ht===null?ht=u:ht.push.apply(ht,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){ri(e,0),La(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:La(i,t,_t,!Da);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Tl+300-st(),10<o)){if(La(i,t,_t,!Da),$s(i,0,!0)!==0)break e;pa=t,i.timeoutHandle=Hf(df.bind(null,i,a,ht,Rl,au,t,_t,vn,si,Da,u,"Throttled",-0,0),o);break e}df(i,a,ht,Rl,au,t,_t,vn,si,Da,u,null,-0,0)}}break}while(!0);Wt(e)}function df(e,t,a,i,o,u,m,v,y,T,z,D,N,R){if(e.timeoutHandle=-1,D=t.subtreeFlags,D&8192||(D&16785408)===16785408){D={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},af(t,u,D);var G=(u&62914560)===u?Tl-st():(u&4194048)===u?rf-st():0;if(G=sv(D,G),G!==null){pa=u,e.cancelPendingCommit=G(yf.bind(null,e,t,u,a,i,o,m,v,y,z,D,null,N,R)),La(e,u,m,!T);return}}yf(e,t,u,a,i,o,m,v,y)}function xp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],u=o.getSnapshot;o=o.value;try{if(!vt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function La(e,t,a,i){t&=~tu,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-pt(o),m=1<<u;i[u]=-1,o&=~m}a!==0&&wc(e,a,t)}function Cl(){return(me&6)===0?(fs(0),!1):!0}function lu(){if(ie!==null){if(ge===0)var e=ie.return;else e=ie,sa=on=null,_o(e),Pn=null,Zi=0,e=ie;for(;e!==null;)Hh(e.alternate,e),e=e.return;ie=null}}function ri(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Hp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),pa=0,lu(),xe=e,ie=a=na(e.current,null),le=t,ge=0,xt=null,Da=!1,ii=Ui(e,t),eu=!1,si=_t=tu=vn=Ma=ke=0,ht=ds=null,au=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-pt(i),u=1<<o;t|=e[o],i&=~u}return ga=t,Ws(),a}function hf(e,t){F=null,I.H=ns,t===In||t===ll?(t=Ad(),ge=3):t===uo?(t=Ad(),ge=4):ge=t===qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,ie===null&&(ke=1,wl(e,zt(t,e.current)))}function ff(){var e=yt.current;return e===null?!0:(le&4194048)===le?Bt===null:(le&62914560)===le||(le&536870912)!==0?e===Bt:!1}function mf(){var e=I.H;return I.H=ns,e===null?ns:e}function gf(){var e=I.A;return I.A=yp,e}function Ul(){ke=4,Da||(le&4194048)!==le&&yt.current!==null||(ii=!0),(Ma&134217727)===0&&(vn&134217727)===0||xe===null||La(xe,le,_t,!1)}function ru(e,t,a){var i=me;me|=2;var o=mf(),u=gf();(xe!==e||le!==t)&&(Rl=null,ri(e,t)),t=!1;var m=ke;e:do try{if(ge!==0&&ie!==null){var v=ie,y=xt;switch(ge){case 8:lu(),m=6;break e;case 3:case 2:case 9:case 6:yt.current===null&&(t=!0);var T=ge;if(ge=0,xt=null,oi(e,v,y,T),a&&ii){m=0;break e}break;default:T=ge,ge=0,xt=null,oi(e,v,y,T)}}_p(),m=ke;break}catch(z){hf(e,z)}while(!0);return t&&e.shellSuspendCounter++,sa=on=null,me=i,I.H=o,I.A=u,ie===null&&(xe=null,le=0,Ws()),m}function _p(){for(;ie!==null;)pf(ie)}function Sp(e,t){var a=me;me|=2;var i=mf(),o=gf();xe!==e||le!==t?(Rl=null,Nl=st()+500,ri(e,t)):ii=Ui(e,t);e:do try{if(ge!==0&&ie!==null){t=ie;var u=xt;t:switch(ge){case 1:ge=0,xt=null,oi(e,t,u,1);break;case 2:case 9:if(Ed(u)){ge=0,xt=null,vf(t);break}t=function(){ge!==2&&ge!==9||xe!==e||(ge=7),Wt(e)},u.then(t,t);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:Ed(u)?(ge=0,xt=null,vf(t)):(ge=0,xt=null,oi(e,t,u,7));break;case 5:var m=null;switch(ie.tag){case 26:m=ie.memoizedState;case 5:case 27:var v=ie;if(m?am(m):v.stateNode.complete){ge=0,xt=null;var y=v.sibling;if(y!==null)ie=y;else{var T=v.return;T!==null?(ie=T,zl(T)):ie=null}break t}}ge=0,xt=null,oi(e,t,u,5);break;case 6:ge=0,xt=null,oi(e,t,u,6);break;case 8:lu(),ke=6;break e;default:throw Error(l(462))}}jp();break}catch(z){hf(e,z)}while(!0);return sa=on=null,I.H=i,I.A=o,me=a,ie!==null?0:(xe=null,le=0,Ws(),ke)}function jp(){for(;ie!==null&&!xr();)pf(ie)}function pf(e){var t=Lh(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?zl(e):ie=t}function vf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=zh(a,t,t.pendingProps,t.type,void 0,le);break;case 11:t=zh(a,t,t.pendingProps,t.type.render,t.ref,le);break;case 5:_o(t);default:Hh(a,t),t=ie=md(t,ga),t=Lh(a,t,ga)}e.memoizedProps=e.pendingProps,t===null?zl(e):ie=t}function oi(e,t,a,i){sa=on=null,_o(t),Pn=null,Zi=0;var o=t.return;try{if(hp(e,o,t,a,le)){ke=1,wl(e,zt(a,e.current)),ie=null;return}}catch(u){if(o!==null)throw ie=o,u;ke=1,wl(e,zt(a,e.current)),ie=null;return}t.flags&32768?(ue||i===1?e=!0:ii||(le&536870912)!==0?e=!1:(Da=e=!0,(i===2||i===9||i===3||i===6)&&(i=yt.current,i!==null&&i.tag===13&&(i.flags|=16384))),bf(t,e)):zl(t)}function zl(e){var t=e;do{if((t.flags&32768)!==0){bf(t,Da);return}e=t.return;var a=gp(t.alternate,t,ga);if(a!==null){ie=a;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);ke===0&&(ke=5)}function bf(e,t){do{var a=pp(e.alternate,e);if(a!==null){a.flags&=32767,ie=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ie=e;return}ie=e=a}while(e!==null);ke=6,ie=null}function yf(e,t,a,i,o,u,m,v,y){e.cancelPendingCommit=null;do kl();while(Je!==0);if((me&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Xr,n0(e,a,u,m,v,y),e===xe&&(ie=xe=null,le=0),li=t,qa=e,pa=a,nu=u,iu=o,of=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Tp(Ms,function(){return jf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=I.T,I.T=null,o=ce.p,ce.p=2,m=me,me|=4;try{vp(e,t,a)}finally{me=m,ce.p=o,I.T=i}}Je=1,wf(),xf(),_f()}}function wf(){if(Je===1){Je=0;var e=qa,t=li,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var i=ce.p;ce.p=2;var o=me;me|=4;try{Fh(t,e);var u=yu,m=sd(e.containerInfo),v=u.focusedElem,y=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&id(v.ownerDocument.documentElement,v)){if(y!==null&&Vr(v)){var T=y.start,z=y.end;if(z===void 0&&(z=T),"selectionStart"in v)v.selectionStart=T,v.selectionEnd=Math.min(z,v.value.length);else{var D=v.ownerDocument||document,N=D&&D.defaultView||window;if(N.getSelection){var R=N.getSelection(),G=v.textContent.length,Z=Math.min(y.start,G),we=y.end===void 0?Z:Math.min(y.end,G);!R.extend&&Z>we&&(m=we,we=Z,Z=m);var j=nd(v,Z),S=nd(v,we);if(j&&S&&(R.rangeCount!==1||R.anchorNode!==j.node||R.anchorOffset!==j.offset||R.focusNode!==S.node||R.focusOffset!==S.offset)){var A=D.createRange();A.setStart(j.node,j.offset),R.removeAllRanges(),Z>we?(R.addRange(A),R.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),R.addRange(A))}}}}for(D=[],R=v;R=R.parentNode;)R.nodeType===1&&D.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<D.length;v++){var k=D[v];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Jl=!!bu,yu=bu=null}finally{me=o,ce.p=i,I.T=a}}e.current=t,Je=2}}function xf(){if(Je===2){Je=0;var e=qa,t=li,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var i=ce.p;ce.p=2;var o=me;me|=4;try{Xh(e,t.alternate,t)}finally{me=o,ce.p=i,I.T=a}}Je=3}}function _f(){if(Je===4||Je===3){Je=0,Ri();var e=qa,t=li,a=pa,i=of;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Je=5:(Je=0,li=qa=null,Sf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ba=null),jr(a),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=I.T,o=ce.p,ce.p=2,I.T=null;try{for(var u=e.onRecoverableError,m=0;m<i.length;m++){var v=i[m];u(v.value,{componentStack:v.stack})}}finally{I.T=t,ce.p=o}}(pa&3)!==0&&kl(),Wt(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===su?hs++:(hs=0,su=e):hs=0,fs(0)}}function Sf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qi(t)))}function kl(){return wf(),xf(),_f(),jf()}function jf(){if(Je!==5)return!1;var e=qa,t=nu;nu=0;var a=jr(pa),i=I.T,o=ce.p;try{ce.p=32>a?32:a,I.T=null,a=iu,iu=null;var u=qa,m=pa;if(Je=0,li=qa=null,pa=0,(me&6)!==0)throw Error(l(331));var v=me;if(me|=4,sf(u.current),tf(u,u.current,m,a),me=v,fs(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ci,u)}catch{}return!0}finally{ce.p=o,I.T=i,Sf(e,t)}}function Ef(e,t,a){t=zt(a,t),t=Bo(e.stateNode,t,2),e=Ca(e,t,2),e!==null&&(zi(e,2),Wt(e))}function pe(e,t,a){if(e.tag===3)Ef(e,e,a);else for(;t!==null;){if(t.tag===3){Ef(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ba===null||!Ba.has(i))){e=zt(a,e),a=Eh(2),i=Ca(t,a,2),i!==null&&(Oh(a,i,t,e),zi(i,2),Wt(i));break}}t=t.return}}function ou(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new wp;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(eu=!0,o.add(a),e=Ep.bind(null,e,t,a),t.then(e,e))}function Ep(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,xe===e&&(le&a)===a&&(ke===4||ke===3&&(le&62914560)===le&&300>st()-Tl?(me&2)===0&&ri(e,0):tu|=a,si===le&&(si=0)),Wt(e)}function Of(e,t){t===0&&(t=yc()),e=sn(e,t),e!==null&&(zi(e,t),Wt(e))}function Op(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Of(e,a)}function Ap(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Of(e,a)}function Tp(e,t){return Nt(e,t)}var Dl=null,ui=null,uu=!1,Ml=!1,cu=!1,$a=0;function Wt(e){e!==ui&&e.next===null&&(ui===null?Dl=ui=e:ui=ui.next=e),Ml=!0,uu||(uu=!0,Rp())}function fs(e,t){if(!cu&&Ml){cu=!0;do for(var a=!1,i=Dl;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var m=i.suspendedLanes,v=i.pingedLanes;u=(1<<31-pt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Rf(i,u))}else u=le,u=$s(i,i===xe?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||Ui(i,u)||(a=!0,Rf(i,u));i=i.next}while(a);cu=!1}}function Np(){Af()}function Af(){Ml=uu=!1;var e=0;$a!==0&&$p()&&(e=$a);for(var t=st(),a=null,i=Dl;i!==null;){var o=i.next,u=Tf(i,t);u===0?(i.next=null,a===null?Dl=o:a.next=o,o===null&&(ui=a)):(a=i,(e!==0||(u&3)!==0)&&(Ml=!0)),i=o}Je!==0&&Je!==5||fs(e),$a!==0&&($a=0)}function Tf(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-pt(u),v=1<<m,y=o[m];y===-1?((v&a)===0||(v&i)!==0)&&(o[m]=a0(v,t)):y<=t&&(e.expiredLanes|=v),u&=~v}if(t=xe,a=le,a=$s(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ni(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ui(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Ni(i),jr(a)){case 2:case 8:a=vc;break;case 32:a=Ms;break;case 268435456:a=bc;break;default:a=Ms}return i=Nf.bind(null,e),a=Nt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Ni(i),e.callbackPriority=2,e.callbackNode=null,2}function Nf(e,t){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(kl()&&e.callbackNode!==a)return null;var i=le;return i=$s(e,e===xe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(cf(e,i,t),Tf(e,st()),e.callbackNode!=null&&e.callbackNode===a?Nf.bind(null,e):null)}function Rf(e,t){if(kl())return null;cf(e,t,!0)}function Rp(){Gp(function(){(me&6)!==0?Nt(pc,Np):Af()})}function du(){if($a===0){var e=Xn;e===0&&(e=Bs,Bs<<=1,(Bs&261888)===0&&(Bs=256)),$a=e}return $a}function Cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Uf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Cp(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var u=Cf((o[rt]||null).action),m=i.submitter;m&&(t=(t=m[rt]||null)?Cf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new Xs("action","action",null,i,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if($a!==0){var y=m?Uf(o,m):new FormData(o);Co(a,{pending:!0,data:y,method:o.method,action:u},null,y)}}else typeof u=="function"&&(v.preventDefault(),y=m?Uf(o,m):new FormData(o),Co(a,{pending:!0,data:y,method:o.method,action:u},u,y))},currentTarget:o}]})}}for(var hu=0;hu<Qr.length;hu++){var fu=Qr[hu],Up=fu.toLowerCase(),zp=fu[0].toUpperCase()+fu.slice(1);Gt(Up,"on"+zp)}Gt(od,"onAnimationEnd"),Gt(ud,"onAnimationIteration"),Gt(cd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Z0,"onTransitionRun"),Gt(I0,"onTransitionStart"),Gt(P0,"onTransitionCancel"),Gt(dd,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ms));function zf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var m=i.length-1;0<=m;m--){var v=i[m],y=v.instance,T=v.currentTarget;if(v=v.listener,y!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=T;try{u(o)}catch(z){Ps(z)}o.currentTarget=null,u=y}else for(m=0;m<i.length;m++){if(v=i[m],y=v.instance,T=v.currentTarget,v=v.listener,y!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=T;try{u(o)}catch(z){Ps(z)}o.currentTarget=null,u=y}}}}function se(e,t){var a=t[Er];a===void 0&&(a=t[Er]=new Set);var i=e+"__bubble";a.has(i)||(kf(t,e,2,!1),a.add(i))}function mu(e,t,a){var i=0;t&&(i|=4),kf(a,e,i,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[Bl]){e[Bl]=!0,Oc.forEach(function(a){a!=="selectionchange"&&(kp.has(a)||mu(a,!1,e),mu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,mu("selectionchange",!1,t))}}function kf(e,t,a,i){switch(um(t)){case 2:var o=ov;break;case 8:o=uv;break;default:o=Ru}a=o.bind(null,t,a,e),o=void 0,!kr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function pu(e,t,a,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var v=i.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=i.return;m!==null;){var y=m.tag;if((y===3||y===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=Cn(v),m===null)return;if(y=m.tag,y===5||y===6||y===26||y===27){i=u=m;continue e}v=v.parentNode}}i=i.return}qc(function(){var T=u,z=Ur(a),D=[];e:{var N=hd.get(e);if(N!==void 0){var R=Xs,G=e;switch(e){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":R=A0;break;case"focusin":G="focus",R=qr;break;case"focusout":G="blur",R=qr;break;case"beforeblur":case"afterblur":R=qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=R0;break;case od:case ud:case cd:R=b0;break;case dd:R=U0;break;case"scroll":case"scrollend":R=f0;break;case"wheel":R=k0;break;case"copy":case"cut":case"paste":R=w0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Vc;break;case"toggle":case"beforetoggle":R=M0}var Z=(t&4)!==0,we=!Z&&(e==="scroll"||e==="scrollend"),j=Z?N!==null?N+"Capture":null:N;Z=[];for(var S=T,A;S!==null;){var k=S;if(A=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||A===null||j===null||(k=Mi(S,j),k!=null&&Z.push(gs(S,k,A))),we)break;S=S.return}0<Z.length&&(N=new R(N,G,null,a,z),D.push({event:N,listeners:Z}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&a!==Cr&&(G=a.relatedTarget||a.fromElement)&&(Cn(G)||G[Rn]))break e;if((R||N)&&(N=z.window===z?z:(N=z.ownerDocument)?N.defaultView||N.parentWindow:window,R?(G=a.relatedTarget||a.toElement,R=T,G=G?Cn(G):null,G!==null&&(we=c(G),Z=G.tag,G!==we||Z!==5&&Z!==27&&Z!==6)&&(G=null)):(R=null,G=T),R!==G)){if(Z=Hc,k="onMouseLeave",j="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(Z=Vc,k="onPointerLeave",j="onPointerEnter",S="pointer"),we=R==null?N:Di(R),A=G==null?N:Di(G),N=new Z(k,S+"leave",R,a,z),N.target=we,N.relatedTarget=A,k=null,Cn(z)===T&&(Z=new Z(j,S+"enter",G,a,z),Z.target=A,Z.relatedTarget=we,k=Z),we=k,R&&G)t:{for(Z=Dp,j=R,S=G,A=0,k=j;k;k=Z(k))A++;k=0;for(var Q=S;Q;Q=Z(Q))k++;for(;0<A-k;)j=Z(j),A--;for(;0<k-A;)S=Z(S),k--;for(;A--;){if(j===S||S!==null&&j===S.alternate){Z=j;break t}j=Z(j),S=Z(S)}Z=null}else Z=null;R!==null&&Df(D,N,R,Z,!1),G!==null&&we!==null&&Df(D,we,G,Z,!0)}}e:{if(N=T?Di(T):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var de=Pc;else if(Zc(N))if(Wc)de=J0;else{de=K0;var K=V0}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?T&&Rr(T.elementType)&&(de=Pc):de=Y0;if(de&&(de=de(e,T))){Ic(D,de,a,z);break e}K&&K(e,N,T),e==="focusout"&&T&&N.type==="number"&&T.memoizedProps.value!=null&&Nr(N,"number",N.value)}switch(K=T?Di(T):window,e){case"focusin":(Zc(K)||K.contentEditable==="true")&&($n=K,Kr=T,Ki=null);break;case"focusout":Ki=Kr=$n=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":Yr=!1,ld(D,a,z);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":ld(D,a,z)}var te;if($r)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Ln?Qc(e,a)&&(re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(Kc&&a.locale!=="ko"&&(Ln||re!=="onCompositionStart"?re==="onCompositionEnd"&&Ln&&(te=Lc()):(ja=z,Dr="value"in ja?ja.value:ja.textContent,Ln=!0)),K=ql(T,re),0<K.length&&(re=new Gc(re,e,null,a,z),D.push({event:re,listeners:K}),te?re.data=te:(te=Xc(a),te!==null&&(re.data=te)))),(te=q0?L0(e,a):$0(e,a))&&(re=ql(T,"onBeforeInput"),0<re.length&&(K=new Gc("onBeforeInput","beforeinput",null,a,z),D.push({event:K,listeners:re}),K.data=te)),Cp(D,e,T,a,z)}zf(D,t)})}function gs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ql(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Mi(e,a),o!=null&&i.unshift(gs(e,o,u)),o=Mi(e,t),o!=null&&i.push(gs(e,o,u))),e.tag===3)return i;e=e.return}return[]}function Dp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Df(e,t,a,i,o){for(var u=t._reactName,m=[];a!==null&&a!==i;){var v=a,y=v.alternate,T=v.stateNode;if(v=v.tag,y!==null&&y===i)break;v!==5&&v!==26&&v!==27||T===null||(y=T,o?(T=Mi(a,u),T!=null&&m.unshift(gs(a,T,y))):o||(T=Mi(a,u),T!=null&&m.push(gs(a,T,y)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Mp=/\r\n?/g,Bp=/\u0000|\uFFFD/g;function Mf(e){return(typeof e=="string"?e:""+e).replace(Mp,`
`).replace(Bp,"")}function Bf(e,t){return t=Mf(t),Mf(e)===t}function ye(e,t,a,i,o,u){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Mn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Mn(e,""+i);break;case"className":Gs(e,"class",i);break;case"tabIndex":Gs(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(e,a,i);break;case"style":Mc(e,i,u);break;case"data":if(t!=="object"){Gs(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ks(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&ye(e,t,"name",o.name,o,null),ye(e,t,"formEncType",o.formEncType,o,null),ye(e,t,"formMethod",o.formMethod,o,null),ye(e,t,"formTarget",o.formTarget,o,null)):(ye(e,t,"encType",o.encType,o,null),ye(e,t,"method",o.method,o,null),ye(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ks(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ta);break;case"onScroll":i!=null&&se("scroll",e);break;case"onScrollEnd":i!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Ks(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":se("beforetoggle",e),se("toggle",e),Hs(e,"popover",i);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Hs(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=d0.get(a)||a,Hs(e,a,i))}}function vu(e,t,a,i,o,u){switch(a){case"style":Mc(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Mn(e,i):(typeof i=="number"||typeof i=="bigint")&&Mn(e,""+i);break;case"onScroll":i!=null&&se("scroll",e);break;case"onScrollEnd":i!=null&&se("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[rt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Hs(e,a,i)}}}function et(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var i=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ye(e,t,u,m,a,null)}}o&&ye(e,t,"srcSet",a.srcSet,a,null),i&&ye(e,t,"src",a.src,a,null);return;case"input":se("invalid",e);var v=u=m=o=null,y=null,T=null;for(i in a)if(a.hasOwnProperty(i)){var z=a[i];if(z!=null)switch(i){case"name":o=z;break;case"type":m=z;break;case"checked":y=z;break;case"defaultChecked":T=z;break;case"value":u=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:ye(e,t,i,z,a,null)}}Uc(e,u,v,y,T,m,o,!1);return;case"select":se("invalid",e),i=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":i=v;default:ye(e,t,o,v,a,null)}t=u,a=m,e.multiple=!!i,t!=null?Dn(e,!!i,t,!1):a!=null&&Dn(e,!!i,a,!0);return;case"textarea":se("invalid",e),u=o=i=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":i=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:ye(e,t,m,v,a,null)}kc(e,i,o,u);return;case"option":for(y in a)if(a.hasOwnProperty(y)&&(i=a[y],i!=null))switch(y){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ye(e,t,y,i,a,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(i=0;i<ms.length;i++)se(ms[i],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in a)if(a.hasOwnProperty(T)&&(i=a[T],i!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ye(e,t,T,i,a,null)}return;default:if(Rr(t)){for(z in a)a.hasOwnProperty(z)&&(i=a[z],i!==void 0&&vu(e,t,z,i,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(i=a[v],i!=null&&ye(e,t,v,i,a,null))}function qp(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,y=null,T=null,z=null;for(R in a){var D=a[R];if(a.hasOwnProperty(R)&&D!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":y=D;default:i.hasOwnProperty(R)||ye(e,t,R,null,i,D)}}for(var N in i){var R=i[N];if(D=a[N],i.hasOwnProperty(N)&&(R!=null||D!=null))switch(N){case"type":u=R;break;case"name":o=R;break;case"checked":T=R;break;case"defaultChecked":z=R;break;case"value":m=R;break;case"defaultValue":v=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:R!==D&&ye(e,t,N,R,i,D)}}Tr(e,m,v,y,T,z,u,o);return;case"select":R=m=v=N=null;for(u in a)if(y=a[u],a.hasOwnProperty(u)&&y!=null)switch(u){case"value":break;case"multiple":R=y;default:i.hasOwnProperty(u)||ye(e,t,u,null,i,y)}for(o in i)if(u=i[o],y=a[o],i.hasOwnProperty(o)&&(u!=null||y!=null))switch(o){case"value":N=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==y&&ye(e,t,o,u,i,y)}t=v,a=m,i=R,N!=null?Dn(e,!!a,N,!1):!!i!=!!a&&(t!=null?Dn(e,!!a,t,!0):Dn(e,!!a,a?[]:"",!1));return;case"textarea":R=N=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ye(e,t,v,null,i,o)}for(m in i)if(o=i[m],u=a[m],i.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":N=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&ye(e,t,m,o,i,u)}zc(e,N,R);return;case"option":for(var G in a)if(N=a[G],a.hasOwnProperty(G)&&N!=null&&!i.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:ye(e,t,G,null,i,N)}for(y in i)if(N=i[y],R=a[y],i.hasOwnProperty(y)&&N!==R&&(N!=null||R!=null))switch(y){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:ye(e,t,y,N,i,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Z in a)N=a[Z],a.hasOwnProperty(Z)&&N!=null&&!i.hasOwnProperty(Z)&&ye(e,t,Z,null,i,N);for(T in i)if(N=i[T],R=a[T],i.hasOwnProperty(T)&&N!==R&&(N!=null||R!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:ye(e,t,T,N,i,R)}return;default:if(Rr(t)){for(var we in a)N=a[we],a.hasOwnProperty(we)&&N!==void 0&&!i.hasOwnProperty(we)&&vu(e,t,we,void 0,i,N);for(z in i)N=i[z],R=a[z],!i.hasOwnProperty(z)||N===R||N===void 0&&R===void 0||vu(e,t,z,N,i,R);return}}for(var j in a)N=a[j],a.hasOwnProperty(j)&&N!=null&&!i.hasOwnProperty(j)&&ye(e,t,j,null,i,N);for(D in i)N=i[D],R=a[D],!i.hasOwnProperty(D)||N===R||N==null&&R==null||ye(e,t,D,N,i,R)}function qf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&qf(m)){for(m=0,v=o.responseEnd,i+=1;i<a.length;i++){var y=a[i],T=y.startTime;if(T>v)break;var z=y.transferSize,D=y.initiatorType;z&&qf(D)&&(y=y.responseEnd,m+=z*(y<v?1:(v-T)/(y-T)))}if(--i,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,yu=null;function Ll(e){return e.nodeType===9?e:e.ownerDocument}function Lf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $f(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=null;function $p(){var e=window.event;return e&&e.type==="popstate"?e===xu?!1:(xu=e,!0):(xu=null,!1)}var Hf=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,Gp=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(e){return Gf.resolve(null).then(e).catch(Vp)}:Hf;function Vp(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function Vf(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),fi(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")ps(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ps(a);for(var u=a.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[ki]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&ps(e.ownerDocument.body);a=o}while(a);fi(t)}function Kf(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function _u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_u(a),Or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Kp(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ki])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function Yp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qt(e.nextSibling),e===null))return null;return e}function Yf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qt(e.nextSibling),e===null))return null;return e}function Su(e){return e.data==="$?"||e.data==="$~"}function ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Eu=null;function Jf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return qt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Qf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Xf(e,t,a){switch(t=Ll(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ps(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Or(e)}var Lt=new Map,Zf=new Set;function $l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=ce.d;ce.d={f:Qp,r:Xp,D:Zp,C:Ip,L:Pp,m:Wp,X:ev,S:Fp,M:tv};function Qp(){var e=va.f(),t=Cl();return e||t}function Xp(e){var t=Un(e);t!==null&&t.tag===5&&t.type==="form"?dh(t):va.r(e)}var ci=typeof document>"u"?null:document;function If(e,t,a){var i=ci;if(i&&typeof t=="string"&&t){var o=Ct(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Zf.has(o)||(Zf.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),et(t,"link",e),Xe(t),i.head.appendChild(t)))}}function Zp(e){va.D(e),If("dns-prefetch",e,null)}function Ip(e,t){va.C(e,t),If("preconnect",e,t)}function Pp(e,t,a){va.L(e,t,a);var i=ci;if(i&&e&&t){var o='link[rel="preload"][as="'+Ct(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ct(a.imageSizes)+'"]')):o+='[href="'+Ct(e)+'"]';var u=o;switch(t){case"style":u=di(e);break;case"script":u=hi(e)}Lt.has(u)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Lt.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(vs(u))||t==="script"&&i.querySelector(bs(u))||(t=i.createElement("link"),et(t,"link",e),Xe(t),i.head.appendChild(t)))}}function Wp(e,t){va.m(e,t);var a=ci;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ct(i)+'"][href="'+Ct(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=hi(e)}if(!Lt.has(u)&&(e=_({rel:"modulepreload",href:e},t),Lt.set(u,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bs(u)))return}i=a.createElement("link"),et(i,"link",e),Xe(i),a.head.appendChild(i)}}}function Fp(e,t,a){va.S(e,t,a);var i=ci;if(i&&e){var o=zn(i).hoistableStyles,u=di(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=i.querySelector(vs(u)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Lt.get(u))&&Ou(e,a);var y=m=i.createElement("link");Xe(y),et(y,"link",e),y._p=new Promise(function(T,z){y.onload=T,y.onerror=z}),y.addEventListener("load",function(){v.loading|=1}),y.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Hl(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function ev(e,t){va.X(e,t);var a=ci;if(a&&e){var i=zn(a).hoistableScripts,o=hi(e),u=i.get(o);u||(u=a.querySelector(bs(o)),u||(e=_({src:e,async:!0},t),(t=Lt.get(o))&&Au(e,t),u=a.createElement("script"),Xe(u),et(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function tv(e,t){va.M(e,t);var a=ci;if(a&&e){var i=zn(a).hoistableScripts,o=hi(e),u=i.get(o);u||(u=a.querySelector(bs(o)),u||(e=_({src:e,async:!0,type:"module"},t),(t=Lt.get(o))&&Au(e,t),u=a.createElement("script"),Xe(u),et(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Pf(e,t,a,i){var o=(o=Ht.current)?$l(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=di(a.href),a=zn(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=di(a.href);var u=zn(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(vs(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Lt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Lt.set(e,a),u||av(o,e,a,m.state))),t&&i===null)throw Error(l(528,""));return m}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hi(a),a=zn(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function di(e){return'href="'+Ct(e)+'"'}function vs(e){return'link[rel="stylesheet"]['+e+"]"}function Wf(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function av(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),et(t,"link",a),Xe(t),e.head.appendChild(t))}function hi(e){return'[src="'+Ct(e)+'"]'}function bs(e){return"script[async]"+e}function Ff(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ct(a.href)+'"]');if(i)return t.instance=i,Xe(i),i;var o=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Xe(i),et(i,"style",o),Hl(i,a.precedence,e),t.instance=i;case"stylesheet":o=di(a.href);var u=e.querySelector(vs(o));if(u)return t.state.loading|=4,t.instance=u,Xe(u),u;i=Wf(a),(o=Lt.get(o))&&Ou(i,o),u=(e.ownerDocument||e).createElement("link"),Xe(u);var m=u;return m._p=new Promise(function(v,y){m.onload=v,m.onerror=y}),et(u,"link",i),t.state.loading|=4,Hl(u,a.precedence,e),t.instance=u;case"script":return u=hi(a.src),(o=e.querySelector(bs(u)))?(t.instance=o,Xe(o),o):(i=a,(o=Lt.get(u))&&(i=_({},a),Au(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Xe(o),et(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Hl(i,a.precedence,e));return t.instance}function Hl(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,m=0;m<i.length;m++){var v=i[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gl=null;function em(e,t,a){if(Gl===null){var i=new Map,o=Gl=new Map;o.set(a,i)}else o=Gl,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[ki]||u[Ie]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=i.get(m);v?v.push(u):i.set(m,[u])}}return i}function tm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function nv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function am(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iv(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=di(i.href),u=t.querySelector(vs(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,Xe(u);return}u=t.ownerDocument||t,i=Wf(i),(o=Lt.get(o))&&Ou(i,o),u=u.createElement("link"),Xe(u);var m=u;m._p=new Promise(function(v,y){m.onload=v,m.onerror=y}),et(u,"link",i),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Vl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Tu=0;function sv(e,t){return e.stylesheets&&e.count===0&&Yl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Yl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Tu===0&&(Tu=62500*Lp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Tu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kl=null;function Yl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kl=new Map,t.forEach(lv,e),Kl=null,Vl.call(e))}function lv(e,t){if(!(t.state.loading&4)){var a=Kl.get(e);if(a)var i=a.get(null);else{a=new Map,Kl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),i=m)}i&&a.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||i,u===i&&a.set(null,o),a.set(m,o),this.count++,i=Vl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ys={$$typeof:B,Provider:null,Consumer:null,_currentValue:Xt,_currentValue2:Xt,_threadCount:0};function rv(e,t,a,i,o,u,m,v,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function nm(e,t,a,i,o,u,m,v,y,T,z,D){return e=new rv(e,t,a,m,y,T,z,D,v),t=1,u===!0&&(t|=24),u=bt(3,null,null,t),e.current=u,u.stateNode=e,t=lo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:a,cache:t},co(u),e}function im(e){return e?(e=Vn,e):Vn}function sm(e,t,a,i,o,u){o=im(o),i.context===null?i.context=o:i.pendingContext=o,i=Ra(t),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=Ca(e,i,t),a!==null&&(ft(a,e,t),Pi(a,e,t))}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Nu(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function rm(e){if(e.tag===13||e.tag===31){var t=sn(e,67108864);t!==null&&ft(t,e,67108864),Nu(e,67108864)}}function om(e){if(e.tag===13||e.tag===31){var t=St();t=Sr(t);var a=sn(e,t);a!==null&&ft(a,e,t),Nu(e,t)}}var Jl=!0;function ov(e,t,a,i){var o=I.T;I.T=null;var u=ce.p;try{ce.p=2,Ru(e,t,a,i)}finally{ce.p=u,I.T=o}}function uv(e,t,a,i){var o=I.T;I.T=null;var u=ce.p;try{ce.p=8,Ru(e,t,a,i)}finally{ce.p=u,I.T=o}}function Ru(e,t,a,i){if(Jl){var o=Cu(i);if(o===null)pu(e,t,i,Ql,a),cm(e,i);else if(dv(o,e,t,a,i))i.stopPropagation();else if(cm(e,i),t&4&&-1<cv.indexOf(e)){for(;o!==null;){var u=Un(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Fa(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var y=1<<31-pt(m);v.entanglements[1]|=y,m&=~y}Wt(u),(me&6)===0&&(Nl=st()+500,fs(0))}}break;case 31:case 13:v=sn(u,2),v!==null&&ft(v,u,2),Cl(),Nu(u,2)}if(u=Cu(i),u===null&&pu(e,t,i,Ql,a),u===o)break;o=u}o!==null&&i.stopPropagation()}else pu(e,t,i,null,a)}}function Cu(e){return e=Ur(e),Uu(e)}var Ql=null;function Uu(e){if(Ql=null,e=Cn(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ql=e,null}function um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zg()){case pc:return 2;case vc:return 8;case Ms:case Ig:return 32;case bc:return 268435456;default:return 32}default:return 32}}var zu=!1,Ga=null,Va=null,Ka=null,ws=new Map,xs=new Map,Ya=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cm(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function _s(e,t,a,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Un(t),t!==null&&rm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function dv(e,t,a,i,o){switch(t){case"focusin":return Ga=_s(Ga,e,t,a,i,o),!0;case"dragenter":return Va=_s(Va,e,t,a,i,o),!0;case"mouseover":return Ka=_s(Ka,e,t,a,i,o),!0;case"pointerover":var u=o.pointerId;return ws.set(u,_s(ws.get(u)||null,e,t,a,i,o)),!0;case"gotpointercapture":return u=o.pointerId,xs.set(u,_s(xs.get(u)||null,e,t,a,i,o)),!0}return!1}function dm(e){var t=Cn(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,jc(e.priority,function(){om(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,jc(e.priority,function(){om(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Cu(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Cr=i,a.target.dispatchEvent(i),Cr=null}else return t=Un(a),t!==null&&rm(t),e.blockedOn=a,!1;t.shift()}return!0}function hm(e,t,a){Xl(e)&&a.delete(t)}function hv(){zu=!1,Ga!==null&&Xl(Ga)&&(Ga=null),Va!==null&&Xl(Va)&&(Va=null),Ka!==null&&Xl(Ka)&&(Ka=null),ws.forEach(hm),xs.forEach(hm)}function Zl(e,t){e.blockedOn===t&&(e.blockedOn=null,zu||(zu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hv)))}var Il=null;function fm(e){Il!==e&&(Il=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Il===e&&(Il=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Uu(i||a)===null)continue;break}var u=Un(a);u!==null&&(e.splice(t,3),t-=3,Co(u,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function fi(e){function t(y){return Zl(y,e)}Ga!==null&&Zl(Ga,e),Va!==null&&Zl(Va,e),Ka!==null&&Zl(Ka,e),ws.forEach(t),xs.forEach(t);for(var a=0;a<Ya.length;a++){var i=Ya[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ya.length&&(a=Ya[0],a.blockedOn===null);)dm(a),a.blockedOn===null&&Ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],u=a[i+1],m=o[rt]||null;if(typeof u=="function")m||fm(a);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[rt]||null)v=m.formAction;else if(Uu(o)!==null)continue}else v=m.action;typeof v=="function"?a[i+1]=v:(a.splice(i,3),i-=3),fm(a)}}}function mm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ku(e){this._internalRoot=e}Pl.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=St();sm(a,i,e,t,null,null)},Pl.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sm(e.current,2,null,e,null,null),Cl(),t[Rn]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ya.length&&t!==0&&t<Ya[a].priority;a++);Ya.splice(a,0,e),a===0&&dm(e)}};var gm=n.version;if(gm!=="19.2.0")throw Error(l(527,gm,"19.2.0"));ce.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=b(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var fv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Ci=Wl.inject(fv),gt=Wl}catch{}}return Ss.createRoot=function(e,t){if(!d(e))throw Error(l(299));var a=!1,i="",o=xh,u=_h,m=Sh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=nm(e,1,!1,null,null,a,i,null,o,u,m,mm),e[Rn]=t.current,gu(e),new ku(t)},Ss.hydrateRoot=function(e,t,a){if(!d(e))throw Error(l(299));var i=!1,o="",u=xh,m=_h,v=Sh,y=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(y=a.formState)),t=nm(e,1,!0,t,a??null,i,o,y,u,m,v,mm),t.context=im(null),a=t.current,i=St(),i=Sr(i),o=Ra(i),o.callback=null,Ca(a,o,i),a=i,t.current.lanes=a,zi(t,a),Wt(t),e[Rn]=t.current,gu(e),new Pl(t)},Ss.version="19.2.0",Ss}var ym;function Yv(){if(ym)return Du.exports;ym=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Du.exports=Kv(),Du.exports}var Jv=Yv();const Qv=Fm(Jv),Xv="modulepreload",Zv=function(r){return"/"+r},wm={},Iv=function(n,s,l){let d=Promise.resolve();if(s&&s.length>0){let h=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),p=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));d=h(s.map(b=>{if(b=Zv(b),b in wm)return;wm[b]=!0;const w=b.endsWith(".css"),_=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${_}`))return;const E=document.createElement("link");if(E.rel=w?"stylesheet":Xv,w||(E.as="script"),E.crossOrigin="",E.href=b,p&&E.setAttribute("nonce",p),document.head.appendChild(E),w)return new Promise((x,O)=>{E.addEventListener("load",x),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${b}`)))})}))}function c(h){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h}return d.then(h=>{for(const g of h||[])g.status==="rejected"&&c(g.reason);return n().catch(c)})},rc=({children:r,variant:n="primary",isLoading:s=!1,icon:l,className:d="",...c})=>{const h="relative font-medium transition-all duration-500 flex items-center justify-center gap-2 overflow-hidden group disabled:opacity-70 disabled:cursor-not-allowed",g=n==="glow"?"rounded-full px-7 py-3":"rounded-xl px-6 py-3",p={primary:"bg-gradient-brand text-white shadow-[0_4px_20px_rgba(255,0,85,0.3)] hover:shadow-[0_4px_25px_rgba(255,0,85,0.5)] border border-white/10 text-sm",secondary:"bg-surface border border-white/10 text-white hover:bg-white/5 hover:border-white/20 text-sm",glass:"bg-white/5 backdrop-blur-md border border-white/10 text-white hover:bg-white/10 hover:border-white/20 text-sm",glow:`
            bg-gradient-to-b from-[#FF2E7E] to-[#FF0055] text-white text-sm font-bold
            border-t border-white/50 border-b border-[#990033]/30
            shadow-[0_10px_30px_-10px_rgba(255,0,85,0.6),0_4px_12px_-4px_rgba(255,46,126,0.3),inset_0_1px_0_rgba(255,255,255,0.4)]
            hover:shadow-[0_20px_40px_-12px_rgba(255,0,85,0.7),0_8px_16px_-6px_rgba(255,0,85,0.2),inset_0_1px_0_rgba(255,255,255,0.5)]
            active:shadow-[inset_0_2px_6px_rgba(0,0,0,0.2)]
        `};return f.jsxs(ae.button,{whileHover:n==="glow"?{scale:1.03}:{scale:1.02},whileTap:n==="glow"?{scale:.95}:{scale:.98},className:`${h} ${g} ${p[n]} ${d}`,...c,children:[n==="primary"&&f.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent z-0"}),n==="glow"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-sm transform translate-x-[-100%] group-hover:translate-x-0"}),f.jsx("div",{className:"absolute -inset-full top-0 block h-full w-1/2 -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-20 group-hover:animate-shine"})]}),f.jsxs("span",{className:"relative z-10 flex items-center gap-2 drop-shadow-sm",children:[s?f.jsx(gv,{className:"w-4 h-4 animate-spin"}):l,r]})]})},eg=({size:r=24,className:n="",color:s="white"})=>{const l=Array.from({length:12}).map((d,c)=>{const h=c*30,g=-1.2+c*.1;return f.jsx("div",{style:{transform:`rotate(${h}deg) translate(0, -140%)`,animationDelay:`${g}s`,backgroundColor:s},className:"absolute top-1/2 left-1/2 w-[8%] h-[24%] -ml-[4%] -mt-[12%] rounded-full opacity-0 animate-spinner-fade"},c)});return f.jsxs("div",{className:`relative inline-block ${n}`,style:{width:r,height:r},children:[l,f.jsx("style",{children:`
                @keyframes spinner-fade {
                    0% { opacity: 1; }
                    100% { opacity: 0.15; }
                }
                .animate-spinner-fade {
                    animation: spinner-fade 1.2s linear infinite;
                }
            `})]})},Os=({variant:r="default",onSignIn:n})=>{const s=()=>{n?n():(console.log("Open Auth Modal"),window.dispatchEvent(new CustomEvent("open-auth-modal")))};return r==="overlay"?f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md",children:f.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center p-8 rounded-3xl bg-[#0A0A0A]/80 border border-white/10 shadow-2xl max-w-md mx-4",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-white/5 flex items-center justify-center border border-white/10 shadow-[0_0_30px_rgba(255,255,255,0.05)]",children:f.jsx(vr,{size:24,className:"text-white/80"})}),f.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-2",children:"Team Access Only"}),f.jsxs("p",{className:"text-gray-400 mb-8 text-sm",children:["Please sign in with your ",f.jsx("span",{className:"text-white font-medium",children:"assigned team account"})," to access the generation tools and credits."]}),f.jsx("button",{onClick:s,className:"px-8 py-3 bg-white text-black rounded-full font-bold hover:bg-gray-200 transition-all hover:scale-105 shadow-[0_0_20px_rgba(255,255,255,0.2)]",children:"Sign In with Team Account"})]})}):f.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4 relative z-30 pointer-events-auto",children:f.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative",children:[f.jsx("div",{className:"absolute inset-0 bg-brand/20 blur-[60px] rounded-full opacity-20 animate-pulse"}),f.jsxs("div",{className:"relative w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-8 border border-white/10 backdrop-blur-md shadow-[0_0_40px_rgba(255,255,255,0.05)] mx-auto group",children:[f.jsx("div",{className:"absolute inset-0 rounded-full border border-white/5 scale-110 opacity-0 group-hover:opacity-100 group-hover:scale-125 transition-all duration-700"}),f.jsx(ks,{size:32,className:"text-white/80"})]}),f.jsx("h3",{className:"text-3xl font-display font-bold text-white mb-3",children:"Restricted Workspace"}),f.jsxs("p",{className:"text-gray-500 max-w-md mx-auto mb-8 text-lg",children:["This area is for authorized team members only. Please sign in with your ",f.jsx("span",{className:"text-white font-medium",children:"assigned credentials"}),"."]}),f.jsx("button",{onClick:l=>{l.stopPropagation(),console.log("Sign In Clicked"),s()},className:"relative z-50 px-8 py-3 bg-white text-black rounded-full font-bold hover:bg-gray-200 transition-all hover:scale-105 shadow-[0_0_20px_rgba(255,255,255,0.2)] cursor-pointer",children:"Sign In with Team Account"})]})})},En=(r,n,s=80,l="webp")=>{if(!r)return"";if(r.startsWith("data:")||r.startsWith("blob:"))return r;try{const d="https://wsrv.nl/",c=new URLSearchParams;return c.append("url",r),n&&c.append("w",n.toString()),c.append("q",s.toString()),c.append("output",l),c.append("af",""),c.append("il",""),`${d}?${c.toString()}`}catch(d){return console.warn("Failed to optimize image URL:",d),r}},_i=r=>{if(!r)return"";if(r.includes("wsrv.nl"))try{const s=new URL(r).searchParams.get("url");if(s)return s}catch{return r}return r},Pv=({onGenerate:r,isLoggedIn:n,onEditImage:s,selectedModel:l})=>{const[d,c]=X.useState(""),[h,g]=X.useState(!1),[p,b]=X.useState([]),[w,_]=X.useState(1),[E,x]=X.useState("16:9"),[O,U]=X.useState("1k"),[C,q]=X.useState(null),[L,B]=X.useState(null),[H,ne]=X.useState(!1);lc.useEffect(()=>{n&&(async()=>{const _e=localStorage.getItem("click_tools_current_user");if(_e){const Se=JSON.parse(_e),it=(await Iv(()=>Promise.resolve().then(()=>Nw),void 0).then(Be=>Be.ProjectsService.getAll())).filter(Be=>Be.author===Se.name);b(it)}})()},[n]);const Y=async()=>{if(!n){r(d,E,O);return}if(d.trim()){g(!0),ne(!1);try{const $=Array.from({length:w},()=>r(d,E,O)),Se=(await Promise.all($)).filter(at=>at!==null);if(Se.length>0){b(it=>[...Se,...it]);const at=Se[Se.length-1];if(at.credits!==void 0){const it=localStorage.getItem("click_tools_current_user");if(it){const Be=JSON.parse(it);Be.credits=at.credits,localStorage.setItem("click_tools_current_user",JSON.stringify(Be)),window.dispatchEvent(new Event("storage"))}}}c("")}catch($){console.error("Error generating image:",$);const _e=$.message&&($.message.includes("SAFETY_VIOLATION")||$.message.includes("safety")||$.message.includes("blocked")),Se=l.includes("Nano Banana"),at=$.message&&($.message.includes("FunctionsHttpError")||$.message.includes("Edge Function returned")||$.message.includes("non-2xx"));(_e||Se&&at)&&ne(!0)}finally{g(!1)}}},ee=async($,_e)=>{try{const at=await(await fetch($)).blob(),it=window.URL.createObjectURL(at),Be=document.createElement("a");Be.href=it,Be.download=`${_e.slice(0,20).replace(/[^a-z0-9]/gi,"_")}_${Date.now()}.png`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),window.URL.revokeObjectURL(it)}catch(Se){console.error("Download failed:",Se),window.open($,"_blank")}},fe=($,_e)=>{navigator.clipboard.writeText($),B(_e),setTimeout(()=>B(null),2e3)},Ce=()=>{const $=p.length+(h?w:0);return $===0||$===1?"grid-cols-1 max-w-4xl mx-auto":$===2?"grid-cols-1 md:grid-cols-2":$===3?"grid-cols-1 md:grid-cols-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"};return f.jsxs("div",{className:"flex flex-col h-full max-w-7xl mx-auto px-4 relative",children:[!n&&f.jsx(Os,{variant:"overlay"}),f.jsx("div",{className:"text-center mb-8 mt-4",children:f.jsxs(ae.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-display font-bold text-white mb-4 tracking-tight",children:["Imagine ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-light to-brand",children:"Anything"})]})}),f.jsx($t,{children:H&&f.jsx(ae.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-24 left-0 right-0 z-50 flex justify-center pointer-events-none",children:f.jsxs("div",{className:"relative overflow-hidden bg-[#0A0A0A]/90 backdrop-blur-2xl border border-red-500/20 px-6 py-4 rounded-2xl shadow-[0_8px_32px_rgba(255,0,0,0.15)] flex items-center gap-4 pointer-events-auto mt-2 group",children:[f.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-transparent to-red-600/20 animate-pulse",style:{backgroundSize:"200% 100%"}}),f.jsx(ae.div,{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-red-500/10 to-transparent",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"}})]}),f.jsx("div",{className:"relative z-10 w-10 h-10 rounded-xl bg-gradient-to-br from-red-500/20 to-black border border-red-500/30 flex items-center justify-center shrink-0 shadow-[0_0_15px_rgba(255,0,0,0.2)]",children:f.jsx(vr,{size:16,className:"text-red-400 drop-shadow-[0_0_8px_rgba(255,50,50,0.5)]"})}),f.jsxs("div",{className:"relative z-10 flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-white tracking-wide",children:"Content Flagged"}),f.jsx("span",{className:"text-[11px] text-red-200/60 font-medium",children:"Safety guidelines blocked this request"})]}),f.jsx("div",{className:"h-8 w-px bg-white/5 mx-2 relative z-10"}),f.jsx("button",{onClick:()=>ne(!1),className:"relative z-10 p-2 hover:bg-white/5 rounded-xl transition-colors text-white/40 hover:text-white",children:f.jsx(Za,{size:16})})]})})}),f.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"relative z-20 mb-10 max-w-4xl mx-auto w-full",children:f.jsxs("div",{className:`relative group rounded-3xl p-[1px] bg-gradient-to-b from-white/20 to-white/5 shadow-2xl shadow-black/50 transition-all duration-500 ${H?"shadow-[0_0_40px_rgba(255,0,0,0.15)]":""}`,children:[f.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-brand/20 to-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-3xl blur-xl ${H?"opacity-0":""}`}),f.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-red-600/20 via-orange-500/10 to-red-600/20 opacity-0 transition-opacity duration-500 rounded-3xl blur-xl ${H?"opacity-100 animate-pulse":""}`}),f.jsxs("div",{className:"relative bg-[#0a0a0a]/90 backdrop-blur-2xl rounded-3xl p-2 overflow-hidden",children:[f.jsx("textarea",{value:d,onChange:$=>{c($.target.value),H&&ne(!1)},onKeyDown:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),Y())},placeholder:n?"Describe your imagination... (e.g. A futuristic city with neon lights, cyberpunk style, 8k resolution)":"Sign in to start creating...",className:`w-full bg-transparent text-white text-lg placeholder:text-gray-600 p-6 min-h-[100px] resize-none focus:outline-none transition-all ${n?"":"opacity-50 cursor-not-allowed"}`,disabled:!n}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between px-4 pb-4 pt-2 gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto overflow-x-auto no-scrollbar",children:[f.jsx("div",{className:"flex items-center bg-white/5 rounded-xl p-1 border border-white/5",children:["16:9","4:3","1:1"].map($=>f.jsx("button",{onClick:()=>x($),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${E===$?"bg-white/10 text-white shadow-sm":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:$},$))}),l==="Nano Banana Pro"&&f.jsx("div",{className:"flex items-center bg-white/5 rounded-xl p-1 border border-white/5",children:["1k","2k","4k"].map($=>f.jsx("button",{onClick:()=>U($),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${O===$?"bg-white/10 text-white shadow-sm":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:$},$))}),f.jsx("div",{className:"flex items-center bg-white/5 rounded-xl p-1 border border-white/5",children:[1,2,3,4].map($=>f.jsx("button",{onClick:()=>_($),className:`w-8 h-7 rounded-lg text-xs font-medium transition-all flex items-center justify-center ${w===$?"bg-white/10 text-white shadow-sm":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:$},$))})]}),f.jsx("div",{className:"flex items-center gap-4 w-full md:w-auto justify-end",children:f.jsx(rc,{onClick:Y,disabled:n&&!d.trim()||h,variant:"glow",isLoading:h,icon:!h&&f.jsx(On,{size:16}),className:"w-full md:w-auto",children:n?"Generate":"Sign In"})})]})]})]})}),f.jsx("div",{className:"flex-1 min-h-[400px]",children:f.jsx($t,{mode:"popLayout",children:p.length>0||h?f.jsxs("div",{className:`grid gap-3 ${Ce()} transition-all duration-500`,children:[h&&Array.from({length:w}).map(($,_e)=>f.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"aspect-video rounded-xl overflow-hidden bg-white/5 border border-white/10 relative flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent animate-pulse"}),f.jsx(eg,{size:32})]},`loading-${_e}`)),p.map(($,_e)=>f.jsxs(ae.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-video rounded-xl overflow-hidden bg-white/5 border border-white/10 shadow-lg hover:shadow-2xl hover:border-white/20 transition-all duration-300",children:[f.jsx("img",{src:En($.imageUrl,600),alt:$.prompt,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 cursor-pointer",onClick:()=>q($),loading:"lazy"}),f.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-black/60 backdrop-blur-md rounded-md border border-white/10 text-[10px] font-medium text-white/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:$.model}),f.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4 pointer-events-none",children:[f.jsx("p",{className:"text-white text-sm font-medium line-clamp-1 mb-3",children:$.prompt}),f.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[f.jsx("button",{onClick:Se=>{Se.stopPropagation(),ee(_i($.imageUrl),$.prompt)},className:"p-2 rounded-lg bg-white/10 hover:bg-white hover:text-black text-white backdrop-blur-md transition-all duration-200 border border-white/10 hover:border-white hover:scale-105",title:"Download",children:f.jsx(ji,{size:14})}),f.jsx("button",{onClick:Se=>{Se.stopPropagation(),fe($.prompt,$.id)},className:"p-2 rounded-lg bg-white/10 hover:bg-white hover:text-black text-white backdrop-blur-md transition-all duration-200 border border-white/10 hover:border-white hover:scale-105",title:"Copy Prompt",children:L===$.id?f.jsx(Ei,{size:14,className:"text-green-500"}):f.jsx(Ns,{size:14})}),f.jsx("button",{onClick:Se=>{Se.stopPropagation(),q($)},className:"p-2 rounded-lg bg-white/10 hover:bg-white hover:text-black text-white backdrop-blur-md transition-all duration-200 ml-auto border border-white/10 hover:border-white hover:scale-105",title:"Expand",children:f.jsx(ic,{size:14})})]})]})]},$.id))]}):f.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col items-center justify-center text-center py-20 border border-dashed border-white/10 rounded-3xl bg-white/[0.02]",children:[f.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-white/5 to-transparent flex items-center justify-center mb-6 shadow-inner border border-white/5",children:f.jsx(pv,{className:"text-gray-600",size:32})}),f.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Ready to Create?"}),f.jsx("p",{className:"text-gray-500 max-w-md",children:"Enter a prompt above to generate unique, high-quality images powered by our advanced AI models."})]})})}),f.jsx($t,{children:C&&f.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-xl p-4 md:p-10",onClick:()=>q(null),children:f.jsxs(ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-7xl w-full max-h-[90vh] flex flex-col items-center overflow-y-auto custom-scrollbar p-4",onClick:$=>$.stopPropagation(),children:[f.jsx("img",{src:En(C.imageUrl,1200),alt:C.prompt,className:"max-h-[70vh] w-auto object-contain rounded-lg shadow-2xl border border-white/10 shrink-0"}),f.jsxs("div",{className:"mt-6 flex items-center gap-4 bg-black/50 backdrop-blur-md px-6 py-3 rounded-full border border-white/10 shrink-0",children:[f.jsx("span",{className:"text-white/80 text-sm font-medium mr-4 border-r border-white/10 pr-4",children:C.model}),f.jsxs("button",{onClick:()=>ee(_i(C.imageUrl),C.prompt),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium",children:[f.jsx(ji,{size:16})," Download"]}),f.jsxs("button",{onClick:()=>fe(C.prompt,C.id),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium",children:[L===C.id?f.jsx(Ei,{size:16}):f.jsx(Ns,{size:16})," Copy Prompt"]}),s&&f.jsxs("button",{onClick:()=>s&&s(_i(C.imageUrl)),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium pl-4 border-l border-white/10",children:[f.jsx(On,{size:16})," Edit"]})]}),f.jsx("div",{className:"mt-4 max-w-2xl text-center shrink-0 pb-4",children:f.jsx("p",{className:"text-gray-400 text-sm",children:C.prompt})}),f.jsx("button",{onClick:()=>q(null),className:"absolute top-4 right-4 p-2 text-white/50 hover:text-white transition-colors bg-black/50 rounded-full backdrop-blur-md z-50",children:f.jsx(Za,{size:24})})]})})})]})};var Yu=function(r,n){return Yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},Yu(r,n)};function tg(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Yu(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var dr=function(){return dr=Object.assign||function(n){for(var s,l=1,d=arguments.length;l<d;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},dr.apply(this,arguments)};function Ai(r,n){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(r);d<l.length;d++)n.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(r,l[d])&&(s[l[d]]=r[l[d]]);return s}function ag(r,n,s,l){var d=arguments.length,c=d<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,s):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,n,s,l);else for(var g=r.length-1;g>=0;g--)(h=r[g])&&(c=(d<3?h(c):d>3?h(n,s,c):h(n,s))||c);return d>3&&c&&Object.defineProperty(n,s,c),c}function ng(r,n){return function(s,l){n(s,l,r)}}function ig(r,n,s,l,d,c){function h(q){if(q!==void 0&&typeof q!="function")throw new TypeError("Function expected");return q}for(var g=l.kind,p=g==="getter"?"get":g==="setter"?"set":"value",b=!n&&r?l.static?r:r.prototype:null,w=n||(b?Object.getOwnPropertyDescriptor(b,l.name):{}),_,E=!1,x=s.length-1;x>=0;x--){var O={};for(var U in l)O[U]=U==="access"?{}:l[U];for(var U in l.access)O.access[U]=l.access[U];O.addInitializer=function(q){if(E)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(q||null))};var C=(0,s[x])(g==="accessor"?{get:w.get,set:w.set}:w[p],O);if(g==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(_=h(C.get))&&(w.get=_),(_=h(C.set))&&(w.set=_),(_=h(C.init))&&d.unshift(_)}else(_=h(C))&&(g==="field"?d.unshift(_):w[p]=_)}b&&Object.defineProperty(b,l.name,w),E=!0}function sg(r,n,s){for(var l=arguments.length>2,d=0;d<n.length;d++)s=l?n[d].call(r,s):n[d].call(r);return l?s:void 0}function lg(r){return typeof r=="symbol"?r:"".concat(r)}function rg(r,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function og(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)}function V(r,n,s,l){function d(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function g(w){try{b(l.next(w))}catch(_){h(_)}}function p(w){try{b(l.throw(w))}catch(_){h(_)}}function b(w){w.done?c(w.value):d(w.value).then(g,p)}b((l=l.apply(r,n||[])).next())})}function ug(r,n){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,d,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=g(0),h.throw=g(1),h.return=g(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(b){return function(w){return p([b,w])}}function p(b){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,b[0]&&(s=0)),s;)try{if(l=1,d&&(c=b[0]&2?d.return:b[0]?d.throw||((c=d.return)&&c.call(d),0):d.next)&&!(c=c.call(d,b[1])).done)return c;switch(d=0,c&&(b=[b[0]&2,c.value]),b[0]){case 0:case 1:c=b;break;case 4:return s.label++,{value:b[1],done:!1};case 5:s.label++,d=b[1],b=[0];continue;case 7:b=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(b[0]===6||b[0]===2)){s=0;continue}if(b[0]===3&&(!c||b[1]>c[0]&&b[1]<c[3])){s.label=b[1];break}if(b[0]===6&&s.label<c[1]){s.label=c[1],c=b;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(b);break}c[2]&&s.ops.pop(),s.trys.pop();continue}b=n.call(r,s)}catch(w){b=[6,w],d=0}finally{l=c=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}var br=Object.create?(function(r,n,s,l){l===void 0&&(l=s);var d=Object.getOwnPropertyDescriptor(n,s);(!d||("get"in d?!n.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(r,l,d)}):(function(r,n,s,l){l===void 0&&(l=s),r[l]=n[s]});function cg(r,n){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&br(n,r,s)}function hr(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],l=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function oc(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var l=s.call(r),d,c=[],h;try{for(;(n===void 0||n-- >0)&&!(d=l.next()).done;)c.push(d.value)}catch(g){h={error:g}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(h)throw h.error}}return c}function dg(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(oc(arguments[n]));return r}function hg(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var l=Array(r),d=0,n=0;n<s;n++)for(var c=arguments[n],h=0,g=c.length;h<g;h++,d++)l[d]=c[h];return l}function fg(r,n,s){if(s||arguments.length===2)for(var l=0,d=n.length,c;l<d;l++)(c||!(l in n))&&(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return r.concat(c||Array.prototype.slice.call(n))}function Oi(r){return this instanceof Oi?(this.v=r,this):new Oi(r)}function mg(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(r,n||[]),d,c=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),d[Symbol.asyncIterator]=function(){return this},d;function h(x){return function(O){return Promise.resolve(O).then(x,_)}}function g(x,O){l[x]&&(d[x]=function(U){return new Promise(function(C,q){c.push([x,U,C,q])>1||p(x,U)})},O&&(d[x]=O(d[x])))}function p(x,O){try{b(l[x](O))}catch(U){E(c[0][3],U)}}function b(x){x.value instanceof Oi?Promise.resolve(x.value.v).then(w,_):E(c[0][2],x)}function w(x){p("next",x)}function _(x){p("throw",x)}function E(x,O){x(O),c.shift(),c.length&&p(c[0][0],c[0][1])}}function gg(r){var n,s;return n={},l("next"),l("throw",function(d){throw d}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(d,c){n[d]=r[d]?function(h){return(s=!s)?{value:Oi(r[d](h)),done:!1}:c?c(h):h}:c}}function pg(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof hr=="function"?hr(r):r[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(c){s[c]=r[c]&&function(h){return new Promise(function(g,p){h=r[c](h),d(g,p,h.done,h.value)})}}function d(c,h,g,p){Promise.resolve(p).then(function(b){c({value:b,done:g})},h)}}function vg(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r}var Wv=Object.create?(function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}):function(r,n){r.default=n},Ju=function(r){return Ju=Object.getOwnPropertyNames||function(n){var s=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[s.length]=l);return s},Ju(r)};function bg(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s=Ju(r),l=0;l<s.length;l++)s[l]!=="default"&&br(n,r,s[l]);return Wv(n,r),n}function yg(r){return r&&r.__esModule?r:{default:r}}function wg(r,n,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(r):l?l.value:n.get(r)}function xg(r,n,s,l,d){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!d:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?d.call(r,s):d?d.value=s:n.set(r,s),s}function _g(r,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?n===r:r.has(n)}function Sg(r,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,d;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],s&&(d=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");d&&(l=function(){try{d.call(this)}catch(c){return Promise.reject(c)}}),r.stack.push({value:n,dispose:l,async:s})}else s&&r.stack.push({async:!0});return n}var Fv=typeof SuppressedError=="function"?SuppressedError:function(r,n,s){var l=new Error(s);return l.name="SuppressedError",l.error=r,l.suppressed=n,l};function jg(r){function n(c){r.error=r.hasError?new Fv(c,r.error,"An error was suppressed during disposal."):c,r.hasError=!0}var s,l=0;function d(){for(;s=r.stack.pop();)try{if(!s.async&&l===1)return l=0,r.stack.push(s),Promise.resolve().then(d);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return l|=2,Promise.resolve(c).then(d,function(h){return n(h),d()})}else l|=1}catch(h){n(h)}if(l===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return d()}function Eg(r,n){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,l,d,c,h){return l?n?".jsx":".js":d&&(!c||!h)?s:d+c+"."+h.toLowerCase()+"js"}):r}const eb={__extends:tg,__assign:dr,__rest:Ai,__decorate:ag,__param:ng,__esDecorate:ig,__runInitializers:sg,__propKey:lg,__setFunctionName:rg,__metadata:og,__awaiter:V,__generator:ug,__createBinding:br,__exportStar:cg,__values:hr,__read:oc,__spread:dg,__spreadArrays:hg,__spreadArray:fg,__await:Oi,__asyncGenerator:mg,__asyncDelegator:gg,__asyncValues:pg,__makeTemplateObject:vg,__importStar:bg,__importDefault:yg,__classPrivateFieldGet:wg,__classPrivateFieldSet:xg,__classPrivateFieldIn:_g,__addDisposableResource:Sg,__disposeResources:jg,__rewriteRelativeImportExtension:Eg},tb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sg,get __assign(){return dr},__asyncDelegator:gg,__asyncGenerator:mg,__asyncValues:pg,__await:Oi,__awaiter:V,__classPrivateFieldGet:wg,__classPrivateFieldIn:_g,__classPrivateFieldSet:xg,__createBinding:br,__decorate:ag,__disposeResources:jg,__esDecorate:ig,__exportStar:cg,__extends:tg,__generator:ug,__importDefault:yg,__importStar:bg,__makeTemplateObject:vg,__metadata:og,__param:ng,__propKey:lg,__read:oc,__rest:Ai,__rewriteRelativeImportExtension:Eg,__runInitializers:sg,__setFunctionName:rg,__spread:dg,__spreadArray:fg,__spreadArrays:hg,__values:hr,default:eb},Symbol.toStringTag,{value:"Module"})),ab=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class uc extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class nb extends uc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class xm extends uc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class _m extends uc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Qu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Qu||(Qu={}));class ib{constructor(n,{headers:s={},customFetch:l,region:d=Qu.Any}={}){this.url=n,this.headers=s,this.region=d,this.fetch=ab(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return V(this,arguments,void 0,function*(s,l={}){var d;let c,h;try{const{headers:g,method:p,body:b,signal:w,timeout:_}=l;let E={},{region:x}=l;x||(x=this.region);const O=new URL(`${this.url}/${s}`);x&&x!=="any"&&(E["x-region"]=x,O.searchParams.set("forceFunctionRegion",x));let U;b&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",U=b):typeof b=="string"?(E["Content-Type"]="text/plain",U=b):typeof FormData<"u"&&b instanceof FormData?U=b:(E["Content-Type"]="application/json",U=JSON.stringify(b)):U=b;let C=w;_&&(h=new AbortController,c=setTimeout(()=>h.abort(),_),w?(C=h.signal,w.addEventListener("abort",()=>h.abort())):C=h.signal);const q=yield this.fetch(O.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),g),body:U,signal:C}).catch(ne=>{throw new nb(ne)}),L=q.headers.get("x-relay-error");if(L&&L==="true")throw new xm(q);if(!q.ok)throw new _m(q);let B=((d=q.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),H;return B==="application/json"?H=yield q.json():B==="application/octet-stream"||B==="application/pdf"?H=yield q.blob():B==="text/event-stream"?H=q:B==="multipart/form-data"?H=yield q.formData():H=yield q.text(),{data:H,error:null,response:q}}catch(g){return{data:null,error:g,response:g instanceof _m||g instanceof xm?g.context:void 0}}finally{c&&clearTimeout(c)}})}}var nt={};const Ti=Gv(tb);var Fl={},er={},tr={},ar={},nr={},ir={},Sm;function Og(){if(Sm)return ir;Sm=1,Object.defineProperty(ir,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ir.default=r,ir}var jm;function Ag(){if(jm)return nr;jm=1,Object.defineProperty(nr,"__esModule",{value:!0});const n=Ti.__importDefault(Og());class s{constructor(d){var c,h;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(c=d.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=d.signal,this.isMaybeSingle=(h=d.isMaybeSingle)!==null&&h!==void 0?h:!1,d.fetch?this.fetch=d.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,c){return this.headers=new Headers(this.headers),this.headers.set(d,c),this}then(d,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var b,w,_,E;let x=null,O=null,U=null,C=p.status,q=p.statusText;if(p.ok){if(this.method!=="HEAD"){const ne=await p.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?O=ne:O=JSON.parse(ne))}const B=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),H=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");B&&H&&H.length>1&&(U=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(x={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,U=null,C=406,q="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const B=await p.text();try{x=JSON.parse(B),Array.isArray(x)&&p.status===404&&(O=[],x=null,C=200,q="OK")}catch{p.status===404&&B===""?(C=204,q="No Content"):x={message:B}}if(x&&this.isMaybeSingle&&(!((E=x==null?void 0:x.details)===null||E===void 0)&&E.includes("0 rows"))&&(x=null,C=200,q="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:O,count:U,status:C,statusText:q}});return this.shouldThrowOnError||(g=g.catch(p=>{var b,w,_,E,x,O;let U="";const C=p==null?void 0:p.cause;if(C){const q=(b=C==null?void 0:C.message)!==null&&b!==void 0?b:"",L=(w=C==null?void 0:C.code)!==null&&w!==void 0?w:"";U=`${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"FetchError"}: ${p==null?void 0:p.message}`,U+=`

Caused by: ${(E=C==null?void 0:C.name)!==null&&E!==void 0?E:"Error"}: ${q}`,L&&(U+=` (${L})`),C!=null&&C.stack&&(U+=`
${C.stack}`)}else U=(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(O=p==null?void 0:p.name)!==null&&O!==void 0?O:"FetchError"}: ${p==null?void 0:p.message}`,details:U,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),g.then(d,c)}returns(){return this}overrideTypes(){return this}}return nr.default=s,nr}var Em;function Tg(){if(Em)return ar;Em=1,Object.defineProperty(ar,"__esModule",{value:!0});const n=Ti.__importDefault(Ag());class s extends n.default{select(d){let c=!1;const h=(d??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:c=!0,nullsFirst:h,foreignTable:g,referencedTable:p=g}={}){const b=p?`${p}.order`:"order",w=this.url.searchParams.get(b);return this.url.searchParams.set(b,`${w?`${w},`:""}${d}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:c,referencedTable:h=c}={}){const g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${d}`),this}range(d,c,{foreignTable:h,referencedTable:g=h}={}){const p=typeof g>"u"?"offset":`${g}.offset`,b=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(p,`${d}`),this.url.searchParams.set(b,`${c-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:c=!1,settings:h=!1,buffers:g=!1,wal:p=!1,format:b="text"}={}){var w;const _=[d?"analyze":null,c?"verbose":null,h?"settings":null,g?"buffers":null,p?"wal":null].filter(Boolean).join("|"),E=(w=this.headers.get("Accept"))!==null&&w!==void 0?w:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${b}; for="${E}"; options=${_};`),b==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}}return ar.default=s,ar}var Om;function cc(){if(Om)return tr;Om=1,Object.defineProperty(tr,"__esModule",{value:!0});const n=Ti.__importDefault(Tg()),s=new RegExp("[,()]");class l extends n.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}regexMatch(c,h){return this.url.searchParams.append(c,`match.${h}`),this}regexIMatch(c,h){return this.url.searchParams.append(c,`imatch.${h}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}isDistinct(c,h){return this.url.searchParams.append(c,`isdistinct.${h}`),this}in(c,h){const g=Array.from(new Set(h)).map(p=>typeof p=="string"&&s.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(c,`in.(${g})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:g,type:p}={}){let b="";p==="plain"?b="pl":p==="phrase"?b="ph":p==="websearch"&&(b="w");const w=g===void 0?"":`(${g})`;return this.url.searchParams.append(c,`${b}fts${w}.${h}`),this}match(c){return Object.entries(c).forEach(([h,g])=>{this.url.searchParams.append(h,`eq.${g}`)}),this}not(c,h,g){return this.url.searchParams.append(c,`not.${h}.${g}`),this}or(c,{foreignTable:h,referencedTable:g=h}={}){const p=g?`${g}.or`:"or";return this.url.searchParams.append(p,`(${c})`),this}filter(c,h,g){return this.url.searchParams.append(c,`${h}.${g}`),this}}return tr.default=l,tr}var Am;function Ng(){if(Am)return er;Am=1,Object.defineProperty(er,"__esModule",{value:!0});const n=Ti.__importDefault(cc());class s{constructor(d,{headers:c={},schema:h,fetch:g}){this.url=d,this.headers=new Headers(c),this.schema=h,this.fetch=g}select(d,c){const{head:h=!1,count:g}=c??{},p=h?"HEAD":"GET";let b=!1;const w=(d??"*").split("").map(_=>/\s/.test(_)&&!b?"":(_==='"'&&(b=!b),_)).join("");return this.url.searchParams.set("select",w),g&&this.headers.append("Prefer",`count=${g}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:c,defaultToNull:h=!0}={}){var g;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const b=d.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(b.length>0){const w=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(d,{onConflict:c,ignoreDuplicates:h=!1,count:g,defaultToNull:p=!0}={}){var b;const w="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),g&&this.headers.append("Prefer",`count=${g}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const _=d.reduce((E,x)=>E.concat(Object.keys(x)),[]);if(_.length>0){const E=[...new Set(_)].map(x=>`"${x}"`);this.url.searchParams.set("columns",E.join(","))}}return new n.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}update(d,{count:c}={}){var h;const g="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:d}={}){var c;const h="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return er.default=s,er}var Tm;function sb(){if(Tm)return Fl;Tm=1,Object.defineProperty(Fl,"__esModule",{value:!0});const r=Ti,n=r.__importDefault(Ng()),s=r.__importDefault(cc());class l{constructor(c,{headers:h={},schema:g,fetch:p}={}){this.url=c,this.headers=new Headers(h),this.schemaName=g,this.fetch=p}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:g=!1,get:p=!1,count:b}={}){var w;let _;const E=new URL(`${this.url}/rpc/${c}`);let x;g||p?(_=g?"HEAD":"GET",Object.entries(h).filter(([U,C])=>C!==void 0).map(([U,C])=>[U,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([U,C])=>{E.searchParams.append(U,C)})):(_="POST",x=h);const O=new Headers(this.headers);return b&&O.set("Prefer",`count=${b}`),new s.default({method:_,url:E,headers:O,schema:this.schemaName,body:x,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}}return Fl.default=l,Fl}var Nm;function lb(){if(Nm)return nt;Nm=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const r=Ti,n=r.__importDefault(sb());nt.PostgrestClient=n.default;const s=r.__importDefault(Ng());nt.PostgrestQueryBuilder=s.default;const l=r.__importDefault(cc());nt.PostgrestFilterBuilder=l.default;const d=r.__importDefault(Tg());nt.PostgrestTransformBuilder=d.default;const c=r.__importDefault(Ag());nt.PostgrestBuilder=c.default;const h=r.__importDefault(Og());return nt.PostgrestError=h.default,nt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:d.default,PostgrestBuilder:c.default,PostgrestError:h.default},nt}var Rg=lb();const Cg=Fm(Rg),rb=Vv({__proto__:null,default:Cg},[Rg]),{PostgrestClient:ob,PostgrestQueryBuilder:Yw,PostgrestFilterBuilder:Jw,PostgrestTransformBuilder:Qw,PostgrestBuilder:Xw,PostgrestError:Zw}=Cg||rb;class ub{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,d=parseInt(l.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const cb="2.86.0",db=`realtime-js/${cb}`,Ug="1.0.0",hb="2.0.0",Rm=Ug,Xu=1e4,fb=1e3,mb=100;var xn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(xn||(xn={}));var Qe;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Qe||(Qe={}));var Qt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Qt||(Qt={}));var Zu;(function(r){r.websocket="websocket"})(Zu||(Zu={}));var _n;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(_n||(_n={}));class gb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,l;const d=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var s,l;const d=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,s,l){var d,c;const h=n.topic,g=(d=n.ref)!==null&&d!==void 0?d:"",p=(c=n.join_ref)!==null&&c!==void 0?c:"",b=n.payload.event,w=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(w).length===0?"":JSON.stringify(w);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+h.length+b.length+_.length,x=new ArrayBuffer(this.HEADER_LENGTH+E);let O=new DataView(x),U=0;O.setUint8(U++,this.KINDS.userBroadcastPush),O.setUint8(U++,p.length),O.setUint8(U++,g.length),O.setUint8(U++,h.length),O.setUint8(U++,b.length),O.setUint8(U++,_.length),O.setUint8(U++,s),Array.from(p,q=>O.setUint8(U++,q.charCodeAt(0))),Array.from(g,q=>O.setUint8(U++,q.charCodeAt(0))),Array.from(h,q=>O.setUint8(U++,q.charCodeAt(0))),Array.from(b,q=>O.setUint8(U++,q.charCodeAt(0))),Array.from(_,q=>O.setUint8(U++,q.charCodeAt(0)));var C=new Uint8Array(x.byteLength+l.byteLength);return C.set(new Uint8Array(x),0),C.set(new Uint8Array(l),x.byteLength),C.buffer}decode(n,s){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return s(l)}if(typeof n=="string"){const l=JSON.parse(n),[d,c,h,g,p]=l;return s({join_ref:d,ref:c,topic:h,event:g,payload:p})}return s({})}_binaryDecode(n){const s=new DataView(n),l=s.getUint8(0),d=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,d)}}_decodeUserBroadcast(n,s,l){const d=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),g=s.getUint8(4);let p=this.HEADER_LENGTH+4;const b=l.decode(n.slice(p,p+d));p=p+d;const w=l.decode(n.slice(p,p+c));p=p+c;const _=l.decode(n.slice(p,p+h));p=p+h;const E=n.slice(p,n.byteLength),x=g===this.JSON_ENCODING?JSON.parse(l.decode(E)):E,O={type:this.BROADCAST_EVENT,event:w,payload:x};return h>0&&(O.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>s.includes(l)))}}class zg{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ee||(Ee={}));const Cm=(r,n,s={})=>{var l;const d=(l=s.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,h)=>(c[h]=pb(h,r,n,d),c),{}):{}},pb=(r,n,s,l)=>{const d=n.find(g=>g.name===r),c=d==null?void 0:d.type,h=s[r];return c&&!l.includes(c)?kg(c,h):Iu(h)},kg=(r,n)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return wb(n,s)}switch(r){case Ee.bool:return vb(n);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return bb(n);case Ee.json:case Ee.jsonb:return yb(n);case Ee.timestamp:return xb(n);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Iu(n);default:return Iu(n)}},Iu=r=>r,vb=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},bb=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},yb=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},wb=(r,n)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let c;const h=r.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(g=>kg(n,g))}return r},xb=r=>typeof r=="string"?r.replace(" ","T"):r,Dg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Mu{constructor(n,s,l={},d=Xu){this.channel=n,this.event=s,this.payload=l,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Um;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Um||(Um={}));class As{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},d=>{const{onJoin:c,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=As.syncState(this.state,d,c,h),this.pendingDiffs.forEach(p=>{this.state=As.syncDiff(this.state,p,c,h)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},d=>{const{onJoin:c,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=As.syncDiff(this.state,d,c,h),g())}),this.onJoin((d,c,h)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:c,newPresences:h})}),this.onLeave((d,c,h)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,d){const c=this.cloneDeep(n),h=this.transformState(s),g={},p={};return this.map(c,(b,w)=>{h[b]||(p[b]=w)}),this.map(h,(b,w)=>{const _=c[b];if(_){const E=w.map(C=>C.presence_ref),x=_.map(C=>C.presence_ref),O=w.filter(C=>x.indexOf(C.presence_ref)<0),U=_.filter(C=>E.indexOf(C.presence_ref)<0);O.length>0&&(g[b]=O),U.length>0&&(p[b]=U)}else g[b]=w}),this.syncDiff(c,{joins:g,leaves:p},l,d)}static syncDiff(n,s,l,d){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),d||(d=()=>{}),this.map(c,(g,p)=>{var b;const w=(b=n[g])!==null&&b!==void 0?b:[];if(n[g]=this.cloneDeep(p),w.length>0){const _=n[g].map(x=>x.presence_ref),E=w.filter(x=>_.indexOf(x.presence_ref)<0);n[g].unshift(...E)}l(g,w,p)}),this.map(h,(g,p)=>{let b=n[g];if(!b)return;const w=p.map(_=>_.presence_ref);b=b.filter(_=>w.indexOf(_.presence_ref)<0),n[g]=b,d(g,b,p),b.length===0&&delete n[g]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const d=n[l];return"metas"in d?s[l]=d.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=d,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(zm||(zm={}));var Ts;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ts||(Ts={}));var ba;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ba||(ba={}));class dc{constructor(n,s={config:{}},l){var d,c;if(this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Mu(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new zg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new As(this),this.broadcastEndpointURL=Dg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var l,d,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:h,presence:g,private:p}}=this.params,b=(d=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&d!==void 0?d:[],w=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},E={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:w}),postgres_changes:b,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(x=>n==null?void 0:n(ba.CHANNEL_ERROR,x)),this._onClose(()=>n==null?void 0:n(ba.CLOSED)),this.updateJoinPayload(Object.assign({config:E},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var O;if(this.socket.setAuth(),x===void 0){n==null||n(ba.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,C=(O=U==null?void 0:U.length)!==null&&O!==void 0?O:0,q=[];for(let L=0;L<C;L++){const B=U[L],{filter:{event:H,schema:ne,table:Y,filter:ee}}=B,fe=x&&x[L];if(fe&&fe.event===H&&fe.schema===ne&&fe.table===Y&&fe.filter===ee)q.push(Object.assign(Object.assign({},B),{id:fe.id}));else{this.unsubscribe(),this.state=Qe.errored,n==null||n(ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,n&&n(ba.SUBSCRIBED);return}}).receive("error",x=>{this.state=Qe.errored,n==null||n(ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===Qe.joined&&n===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,l)}async httpSend(n,s,l={}){var d;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(d=l.timeout)!==null&&d!==void 0?d:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const b=await g.json();p=b.error||b.message||p}catch{}return Promise.reject(new Error(p))}async send(n,s={}){var l,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((d=b.body)===null||d===void 0?void 0:d.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,g,p;const b=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),b.receive("ok",()=>c("ok")),b.receive("error",()=>c("error")),b.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(d=>{l=new Mu(this,Qt.leave,{},n),l.receive("ok",()=>{s(),d("ok")}).receive("timeout",()=>{s(),d("timed out")}).receive("error",()=>{d("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const d=new AbortController,c=setTimeout(()=>d.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:d.signal}));return clearTimeout(c),h}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Mu(this,n,s,l);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>mb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var d,c;const h=n.toLocaleLowerCase(),{close:g,error:p,leave:b,join:w}=Qt;if(l&&[g,p,b,w].indexOf(h)>=0&&l!==this._joinRef())return;let E=this._onMessage(h,s,l);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(x=>{var O,U,C;return((O=x.filter)===null||O===void 0?void 0:O.event)==="*"||((C=(U=x.filter)===null||U===void 0?void 0:U.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===h}).map(x=>x.callback(E,l)):(c=this.bindings[h])===null||c===void 0||c.filter(x=>{var O,U,C,q,L,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in x){const H=x.id,ne=(O=x.filter)===null||O===void 0?void 0:O.event;return H&&((U=s.ids)===null||U===void 0?void 0:U.includes(H))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const H=(L=(q=x==null?void 0:x.filter)===null||q===void 0?void 0:q.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return H==="*"||H===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===h}).map(x=>{if(typeof E=="object"&&"ids"in E){const O=E.data,{schema:U,table:C,commit_timestamp:q,type:L,errors:B}=O;E=Object.assign(Object.assign({},{schema:U,table:C,commit_timestamp:q,eventType:L,new:{},old:{},errors:B}),this._getPayloadRecords(O))}x.callback(E,l)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const d=n.toLocaleLowerCase(),c={type:d,filter:s,callback:l};return this.bindings[d]?this.bindings[d].push(c):this.bindings[d]=[c],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(d=>{var c;return!(((c=d.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&dc.isEqual(d.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Qt.close,{},n)}_onError(n){this._on(Qt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Cm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Cm(n.columns,n.old_record)),s}}const Bu=()=>{},sr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_b=[1e3,2e3,5e3,1e4],Sb=1e4,jb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eb{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xu,this.transport=null,this.heartbeatIntervalMs=sr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bu,this.ref=0,this.reconnectTimer=null,this.vsn=Rm,this.logger=Bu,this.conn=null,this.sendBuffer=[],this.serializer=new gb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...c)=>d(...c):(...c)=>fetch(...c),!(!((l=s==null?void 0:s.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Zu.websocket}`,this.httpEndpoint=Dg(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ub.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case xn.connecting:return _n.Connecting;case xn.open:return _n.Open;case xn.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,d=this.getChannels().find(c=>c.topic===l);if(d)return d;{const c=new dc(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:l,payload:d,ref:c}=n,h=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${s} ${l} (${c})`,d),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(fb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},sr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(b){this.log("error","error in heartbeat callback",b)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:d,payload:c,ref:h}=s,g=h?`(${h})`:"",p=c.status||"";this.log("receive",`${p} ${l} ${d} ${g}`.trim(),c),this.channels.filter(b=>b._isMember(l)).forEach(b=>b._trigger(d,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===xn.open||this.conn.readyState===xn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Qt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",d=new URLSearchParams(s);return`${n}${l}${d}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([jb],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const d={access_token:s,version:db};s&&l.updateJoinPayload(d),l.joinedOnce&&l._isJoined()&&l._push(Qt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new zg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,d,c,h,g,p,b,w,_,E,x;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Xu,this.heartbeatIntervalMs=(d=n==null?void 0:n.heartbeatIntervalMs)!==null&&d!==void 0?d:sr.HEARTBEAT_INTERVAL,this.worker=(c=n==null?void 0:n.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:Bu,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:Rm,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=n==null?void 0:n.reconnectAfterMs)!==null&&b!==void 0?b:(O=>_b[O-1]||Sb),this.vsn){case Ug:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:((O,U)=>U(JSON.stringify(O))),this.decode=(_=n==null?void 0:n.decode)!==null&&_!==void 0?_:((O,U)=>U(JSON.parse(O)));break;case hb:this.encode=(E=n==null?void 0:n.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class yr extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ue(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Ob extends yr{constructor(n,s,l){super(n),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pu extends yr{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const hc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Ab=()=>Response,Wu=r=>{if(Array.isArray(r))return r.map(s=>Wu(s));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([s,l])=>{const d=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[d]=Wu(l)}),n},Tb=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Nb=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r),qu=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},Rb=(r,n,s)=>V(void 0,void 0,void 0,function*(){const l=yield Ab();r instanceof l&&!(s!=null&&s.noResolveJson)?r.json().then(d=>{const c=r.status||500,h=(d==null?void 0:d.statusCode)||c+"";n(new Ob(qu(d),c,h))}).catch(d=>{n(new Pu(qu(d),d))}):n(new Pu(qu(r),r))}),Cb=(r,n,s,l)=>{const d={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"||!l?d:(Tb(l)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(l)):d.body=l,n!=null&&n.duplex&&(d.duplex=n.duplex),Object.assign(Object.assign({},d),s))};function Ds(r,n,s,l,d,c){return V(this,void 0,void 0,function*(){return new Promise((h,g)=>{r(s,Cb(n,l,d,c)).then(p=>{if(!p.ok)throw p;return l!=null&&l.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Rb(p,g,l))})})}function Rs(r,n,s,l){return V(this,void 0,void 0,function*(){return Ds(r,"GET",n,s,l)})}function Jt(r,n,s,l,d){return V(this,void 0,void 0,function*(){return Ds(r,"POST",n,l,d,s)})}function Fu(r,n,s,l,d){return V(this,void 0,void 0,function*(){return Ds(r,"PUT",n,l,d,s)})}function Ub(r,n,s,l){return V(this,void 0,void 0,function*(){return Ds(r,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function fc(r,n,s,l,d){return V(this,void 0,void 0,function*(){return Ds(r,"DELETE",n,l,d,s)})}class zb{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return V(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}}var Mg;class kb{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[Mg]="BlobDownloadBuilder",this.promise=null}asStream(){return new zb(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return V(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}}Mg=Symbol.toStringTag;const Db={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},km={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mb{constructor(n,s={},l,d){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=l,this.fetch=hc(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,l,d){return V(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},km),d);let g=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),p&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(p))):(c=l,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,p&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),d!=null&&d.headers&&(g=Object.assign(Object.assign({},g),d.headers));const b=this._removeEmptyFolders(s),w=this._getFinalPath(b),_=yield(n=="PUT"?Fu:Jt)(this.fetch,`${this.url}/object/${w}`,c,Object.assign({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:b,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}upload(n,s,l){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,d){return V(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",s);try{let p;const b=Object.assign({upsert:km.upsert},d),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",b.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",b.cacheControl)):(p=l,w["cache-control"]=`max-age=${b.cacheControl}`,w["content-type"]=b.contentType);const _=yield Fu(this.fetch,g.toString(),p,{headers:w});return{data:{path:c,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ue(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,s){return V(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const d=Object.assign({},this.headers);s!=null&&s.upsert&&(d["x-upsert"]="true");const c=yield Jt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:d}),h=new URL(this.url+c.url),g=h.searchParams.get("token");if(!g)throw new yr("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:g},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}update(n,s,l){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return V(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}copy(n,s,l){return V(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}createSignedUrl(n,s,l){return V(this,void 0,void 0,function*(){try{let d=this._getFinalPath(n),c=yield Jt(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:s},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}createSignedUrls(n,s,l){return V(this,void 0,void 0,function*(){try{const d=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:d.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}download(n,s){const d=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=c?`?${c}`:"",g=this._getFinalPath(n),p=()=>Rs(this.fetch,`${this.url}/${d}/${g}${h}`,{headers:this.headers,noResolveJson:!0});return new kb(p,this.shouldThrowOnError)}info(n){return V(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield Rs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wu(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}exists(n){return V(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Ub(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l)&&l instanceof Pu){const d=l.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),d=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&d.push(c);const g=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});p!==""&&d.push(p);let b=d.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${l}${b}`)}}}remove(n){return V(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}list(n,s,l){return V(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},Db),s),{prefix:n||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},l),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}listV2(n,s){return V(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Bg="2.86.0",qg={"X-Client-Info":`storage-js/${Bg}`};class Bb{constructor(n,s={},l,d){this.shouldThrowOnError=!1;const c=new URL(n);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qg),s),this.fetch=hc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return V(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield Rs(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}getBucket(n){return V(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}createBucket(n){return V(this,arguments,void 0,function*(s,l={public:!1}){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}updateBucket(n,s){return V(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}emptyBucket(n){return V(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}deleteBucket(n){return V(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Cs=class extends Error{constructor(r,n){var s;super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qb(r,n,s){const l=new URL(n,r);if(s)for(const[d,c]of Object.entries(s))c!==void 0&&l.searchParams.set(d,c);return l.toString()}async function Lb(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function $b(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:d,body:c,headers:h}){const g=qb(r.baseUrl,l,d),p=await Lb(r.auth),b=await n(g,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...p,...h},body:c?JSON.stringify(c):void 0}),w=await b.text(),_=(b.headers.get("content-type")||"").includes("application/json"),E=_&&w?JSON.parse(w):w;if(!b.ok){const x=_?E:void 0,O=x==null?void 0:x.error;throw new Cs((O==null?void 0:O.message)??`Request failed with status ${b.status}`,{status:b.status,icebergType:O==null?void 0:O.type,icebergCode:O==null?void 0:O.code,details:x})}return{status:b.status,headers:b.headers,data:E}}}}function lr(r){return r.join("")}var Hb=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:lr(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const s={namespace:r.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lr(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lr(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lr(r.namespace)}`}),!0}catch(n){if(n instanceof Cs&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(s){if(s instanceof Cs&&s.status===409)return;throw s}}};function mi(r){return r.join("")}var Gb=class{constructor(r,n="",s){this.client=r,this.prefix=n,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(r.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(r,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mi(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mi(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(s){if(s instanceof Cs&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(s){if(s instanceof Cs&&s.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw s}}},Vb=class{constructor(r){var l;let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=$b({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(l=r.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new Hb(this.client,n),this.tableOps=new Gb(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}};class Kb{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qg),s),this.fetch=hc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return V(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}listBuckets(n){return V(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const l=s.toString(),d=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Rs(this.fetch,d,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}deleteBucket(n){return V(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}from(n){if(!Nb(n))throw new yr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Vb({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>V(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const mc={"X-Client-Info":`storage-js/${Bg}`,"Content-Type":"application/json"};class Lg extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Et(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Lu extends Lg{constructor(n,s,l){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yb extends Lg{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var Dm;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Dm||(Dm={}));const gc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Jb=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Mm=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Qb=(r,n,s)=>V(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(s!=null&&s.noResolveJson)){const d=r.status||500,c=r;if(typeof c.json=="function")c.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||d+"";n(new Lu(Mm(h),d,g))}).catch(()=>{const h=d+"",g=c.statusText||`HTTP ${d} error`;n(new Lu(g,d,h))});else{const h=d+"",g=c.statusText||`HTTP ${d} error`;n(new Lu(g,d,h))}}else n(new Yb(Mm(r),r))}),Xb=(r,n,s,l)=>{const d={method:r,headers:(n==null?void 0:n.headers)||{}};return l?(Jb(l)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(l)):d.body=l,Object.assign(Object.assign({},d),s)):d};function Zb(r,n,s,l,d,c){return V(this,void 0,void 0,function*(){return new Promise((h,g)=>{r(s,Xb(n,l,d,c)).then(p=>{if(!p.ok)throw p;if(l!=null&&l.noResolveJson)return p;const b=p.headers.get("content-type");return!b||!b.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>Qb(p,g,l))})})}function Ot(r,n,s,l,d){return V(this,void 0,void 0,function*(){return Zb(r,"POST",n,l,d,s)})}class Ib{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mc),s),this.fetch=gc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return V(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}getIndex(n,s){return V(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Et(l))return{data:null,error:l};throw l}})}listIndexes(n){return V(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return V(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Et(l))return{data:null,error:l};throw l}})}}class Pb{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mc),s),this.fetch=gc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return V(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ot(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}getVectors(n){return V(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}listVectors(n){return V(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Ot(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}queryVectors(n){return V(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}deleteVectors(n){return V(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ot(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}}class Wb{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mc),s),this.fetch=gc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return V(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}getBucket(n){return V(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}listBuckets(){return V(this,arguments,void 0,function*(n={}){try{return{data:yield Ot(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}deleteBucket(n){return V(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}}class Fb extends Wb{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new ey(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return V(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return V(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return V(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return V(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class ey extends Ib{constructor(n,s,l,d){super(n,s,d),this.vectorBucketName=l}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return V(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return V(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return V(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return V(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new ty(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class ty extends Pb{constructor(n,s,l,d,c){super(n,s,c),this.vectorBucketName=l,this.indexName=d}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return V(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return V(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return V(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return V(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return V(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ay extends Bb{constructor(n,s={},l,d){super(n,s,l,d)}from(n){return new Mb(this.url,this.headers,n,this.fetch)}get vectors(){return new Fb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kb(this.url+"/iceberg",this.headers,this.fetch)}}const ny="2.86.0";let Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";const iy={"X-Client-Info":`supabase-js-${Es}/${ny}`},sy={headers:iy},ly={schema:"public"},ry={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oy={},uy=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),cy=()=>Headers,dy=(r,n,s)=>{const l=uy(s),d=cy();return async(c,h)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:r;let b=new d(h==null?void 0:h.headers);return b.has("apikey")||b.set("apikey",r),b.has("Authorization")||b.set("Authorization",`Bearer ${p}`),l(c,Object.assign(Object.assign({},h),{headers:b}))}};function hy(r){return r.endsWith("/")?r:r+"/"}function fy(r,n){var s,l;const{db:d,auth:c,realtime:h,global:g}=r,{db:p,auth:b,realtime:w,global:_}=n,E={db:Object.assign(Object.assign({},p),d),auth:Object.assign(Object.assign({},b),c),realtime:Object.assign(Object.assign({},w),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),g),{headers:Object.assign(Object.assign({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(l=g==null?void 0:g.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?E.accessToken=r.accessToken:delete E.accessToken,E}function my(r){const n=r==null?void 0:r.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hy(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $g="2.86.0",wi=30*1e3,ec=3,$u=ec*wi,gy="http://localhost:9999",py="supabase.auth.token",vy={"X-Client-Info":`gotrue-js/${$g}`},tc="X-Supabase-Api-Version",Hg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},by=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yy=600*1e3;class Us extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function J(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class wy extends Us{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function xy(r){return J(r)&&r.name==="AuthApiError"}class Sn extends Us{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Ia extends Us{constructor(n,s,l,d){super(n,l,d),this.name=s,this.status=l}}class jt extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _y(r){return J(r)&&r.name==="AuthSessionMissingError"}class gi extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rr extends Ia{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class or extends Ia{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Sy(r){return J(r)&&r.name==="AuthImplicitGrantRedirectError"}class Bm extends Ia{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ac extends Ia{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Hu(r){return J(r)&&r.name==="AuthRetryableFetchError"}class qm extends Ia{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class nc extends Ia{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lm=` 	
\r=`.split(""),jy=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Lm.length;n+=1)r[Lm[n].charCodeAt(0)]=-2;for(let n=0;n<fr.length;n+=1)r[fr[n].charCodeAt(0)]=n;return r})();function $m(r,n,s){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(fr[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(fr[l]),n.queuedBits-=6}}function Gg(r,n,s){const l=jy[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Hm(r){const n=[],s=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},c=h=>{Ay(h,l,s)};for(let h=0;h<r.length;h+=1)Gg(r.charCodeAt(h),d,c);return n.join("")}function Ey(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Oy(r,n){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const d=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|d)+65536,s+=1}Ey(l,n)}}function Ay(r,n,s){if(n.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Si(r){const n=[],s={queue:0,queuedBits:0},l=d=>{n.push(d)};for(let d=0;d<r.length;d+=1)Gg(r.charCodeAt(d),s,l);return new Uint8Array(n)}function Ty(r){const n=[];return Oy(r,s=>n.push(s)),new Uint8Array(n)}function jn(r){const n=[],s={queue:0,queuedBits:0},l=d=>{n.push(d)};return r.forEach(d=>$m(d,s,l)),$m(null,s,l),n.join("")}function Ny(r){return Math.round(Date.now()/1e3)+r}function Ry(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Vg=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function Cy(r){const n={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((d,c)=>{n[c]=d})}catch{}return s.searchParams.forEach((l,d)=>{n[d]=l}),n}const Kg=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Uy=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",xi=async(r,n,s)=>{await r.setItem(n,JSON.stringify(s))},yn=async(r,n)=>{const s=await r.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Qa=async(r,n)=>{await r.removeItem(n)};class wr{constructor(){this.promise=new wr.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}wr.promiseConstructor=Promise;function Gu(r){const n=r.split(".");if(n.length!==3)throw new nc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!by.test(n[l]))throw new nc("JWT not in base64url format");return{header:JSON.parse(Hm(n[0])),payload:JSON.parse(Hm(n[1])),signature:Si(n[2]),raw:{header:n[0],payload:n[1]}}}async function zy(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function ky(r,n){return new Promise((l,d)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await r(c);if(!n(c,null,h)){l(h);return}}catch(h){if(!n(c,h)){d(h);return}}})()})}function Dy(r){return("0"+r.toString(16)).substr(-2)}function My(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let d="";for(let c=0;c<56;c++)d+=s.charAt(Math.floor(Math.random()*l));return d}return crypto.getRandomValues(n),Array.from(n,Dy).join("")}async function By(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),d=new Uint8Array(l);return Array.from(d).map(c=>String.fromCharCode(c)).join("")}async function qy(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await By(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pi(r,n,s=!1){const l=My();let d=l;s&&(d+="/PASSWORD_RECOVERY"),await xi(r,`${n}-code-verifier`,d);const c=await qy(l);return[c,l===c?"plain":"s256"]}const Ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $y(r){const n=r.headers.get(tc);if(!n||!n.match(Ly))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Hy(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function Gy(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(r){if(!Vy.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vu(){const r={};return new Proxy(r,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ky(r,n){return new Proxy(r,{get:(s,l,d)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,d)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,l,d)}})}function Gm(r){return JSON.parse(JSON.stringify(r))}const wn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Yy=[502,503,504];async function Vm(r){var n;if(!Uy(r))throw new ac(wn(r),0);if(Yy.includes(r.status))throw new ac(wn(r),r.status);let s;try{s=await r.json()}catch(c){throw new Sn(wn(c),c)}let l;const d=$y(r);if(d&&d.getTime()>=Hg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new qm(wn(s),r.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new jt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new qm(wn(s),r.status,s.weak_password.reasons);throw new wy(wn(s),r.status||500,l)}const Jy=(r,n,s,l)=>{const d={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(l),Object.assign(Object.assign({},d),s))};async function P(r,n,s,l){var d;const c=Object.assign({},l==null?void 0:l.headers);c[tc]||(c[tc]=Hg["2024-01-01"].name),l!=null&&l.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(d=l==null?void 0:l.query)!==null&&d!==void 0?d:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Qy(r,n,s+g,{headers:c,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(p):{data:Object.assign({},p),error:null}}async function Qy(r,n,s,l,d,c){const h=Jy(n,l,d,c);let g;try{g=await r(s,Object.assign({},h))}catch(p){throw console.error(p),new ac(wn(p),0)}if(g.ok||await Vm(g),l!=null&&l.noResolveJson)return g;try{return await g.json()}catch(p){await Vm(p)}}function Yt(r){var n;let s=null;Iy(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Ny(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:s,user:l},error:null}}function Km(r){const n=Yt(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function Xa(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function Xy(r){return{data:r,error:null}}function Zy(r){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:d,verification_type:c}=r,h=Ai(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:s,hashed_token:l,redirect_to:d,verification_type:c},p=Object.assign({},h);return{data:{properties:g,user:p},error:null}}function Ym(r){return r}function Iy(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ku=["global","local","others"];class Py{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=Kg(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Ku[0]){if(Ku.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(J(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Xa})}catch(l){if(J(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=Ai(n,["options"]),d=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(d.new_email=l==null?void 0:l.newEmail,delete d.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:Zy,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(J(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Xa})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,d,c,h,g,p;try{const b={nextPage:null,lastPage:0,total:0},w=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&c!==void 0?c:""},xform:Ym});if(w.error)throw w.error;const _=await w.json(),E=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,x=(p=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(O=>{const U=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(O.split(";")[1].split("=")[1]);b[`${C}Page`]=U}),b.total=parseInt(E)),{data:Object.assign(Object.assign({},_),b),error:null}}catch(b){if(J(b))return{data:{users:[]},error:b};throw b}}async getUserById(n){vi(n);try{return await P(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Xa})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){vi(n);try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Xa})}catch(l){if(J(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){vi(n);try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Xa})}catch(l){if(J(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){vi(n.userId);try{const{data:s,error:l}=await P(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:s,error:l}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _deleteFactor(n){vi(n.userId),vi(n.id);try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,l,d,c,h,g,p;try{const b={nextPage:null,lastPage:0,total:0},w=await P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&c!==void 0?c:""},xform:Ym});if(w.error)throw w.error;const _=await w.json(),E=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,x=(p=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(O=>{const U=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(O.split(";")[1].split("=")[1]);b[`${C}Page`]=U}),b.total=parseInt(E)),{data:Object.assign(Object.assign({},_),b),error:null}}catch(b){if(J(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(n){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(J(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}}function Jm(r={}){return{getItem:n=>r[n]||null,setItem:(n,s)=>{r[n]=s},removeItem:n=>{delete r[n]}}}const bi={debug:!!(globalThis&&Vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Wy extends Yg{}async function Fy(r,n,s){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async d=>{if(d){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,d.name);try{return await s()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,d.name)}}else{if(n===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Wy(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(bi.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function ew(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function tw(r){return parseInt(r,16)}function aw(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function nw(r){var n;const{chainId:s,domain:l,expirationTime:d,issuedAt:c=new Date,nonce:h,notBefore:g,requestId:p,resources:b,scheme:w,uri:_,version:E}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const x=Jg(r.address),O=w?`${w}://${l}`:l,U=r.statement?`${r.statement}
`:"",C=`${O} wants you to sign in with your Ethereum account:
${x}

${U}`;let q=`URI: ${_}
Version: ${E}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(d&&(q+=`
Expiration Time: ${d.toISOString()}`),g&&(q+=`
Not Before: ${g.toISOString()}`),p&&(q+=`
Request ID: ${p}`),b){let L=`
Resources:`;for(const B of b){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);L+=`
- ${B}`}q+=L}return`${C}
${q}`}class Ye extends Error{constructor({message:n,code:s,cause:l,name:d}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=d??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class mr extends Ye{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function iw({error:r,options:n}){var s,l,d;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((d=c.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Ye({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(Qg(h)){if(c.rp.id!==h)return new Ye({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function sw({error:r,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Ye({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Qg(l)){if(s.rpId!==l)return new Ye({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class lw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const rw=new lw;function ow(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:s,excludeCredentials:l}=r,d=Ai(r,["challenge","user","excludeCredentials"]),c=Si(n).buffer,h=Object.assign(Object.assign({},s),{id:Si(s.id).buffer}),g=Object.assign(Object.assign({},d),{challenge:c,user:h});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const b=l[p];g.excludeCredentials[p]=Object.assign(Object.assign({},b),{id:Si(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return g}function uw(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:s}=r,l=Ai(r,["challenge","allowCredentials"]),d=Si(n).buffer,c=Object.assign(Object.assign({},l),{challenge:d});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const g=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Si(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return c}function cw(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:jn(new Uint8Array(r.response.attestationObject)),clientDataJSON:jn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function dw(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,l=r.getClientExtensionResults(),d=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:jn(new Uint8Array(d.authenticatorData)),clientDataJSON:jn(new Uint8Array(d.clientDataJSON)),signature:jn(new Uint8Array(d.signature)),userHandle:d.userHandle?jn(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Qg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Qm(){var r,n;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function hw(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new mr("Browser returned unexpected credential type",n)}:{data:null,error:new mr("Empty credential response",n)}}catch(n){return{data:null,error:iw({error:n,options:r})}}}async function fw(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new mr("Browser returned unexpected credential type",n)}:{data:null,error:new mr("Empty credential response",n)}}catch(n){return{data:null,error:sw({error:n,options:r})}}}const mw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gr(...r){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),s=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),l={};for(const d of r)if(d)for(const c in d){const h=d[c];if(h!==void 0)if(Array.isArray(h))l[c]=h;else if(s(h))l[c]=h;else if(n(h)){const g=l[c];n(g)?l[c]=gr(g,h):l[c]=gr(h)}else l[c]=h}return l}function pw(r,n){return gr(mw,r,n||{})}function vw(r,n){return gr(gw,r,n||{})}class bw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:l,signal:d},c){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!h)return{data:null,error:g};const p=d??rw.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:b}=h.webauthn.credential_options.publicKey;b.name||(b.name=`${b.id}:${l}`),b.displayName||(b.displayName=b.name)}switch(h.webauthn.type){case"create":{const b=pw(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:w,error:_}=await hw({publicKey:b,signal:p});return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:_}}case"request":{const b=vw(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:w,error:_}=await fw(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:b,signal:p}));return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:_}}}}catch(h){return J(h)?{data:null,error:h}:{data:null,error:new Sn("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},c){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn authentication")};try{if(!Qm())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:l},signal:d},{request:c});if(!h)return{data:null,error:g};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:l,credential_response:p.credential_response}})}catch(h){return J(h)?{data:null,error:h}:{data:null,error:new Sn("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},c){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn registration")};try{if(!Qm())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(w=>{var _;return(_=w.data)===null||_===void 0?void 0:_.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===n&&E.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:g};const{data:p,error:b}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:d},{create:c});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:b}}catch(h){return J(h)?{data:null,error:h}:{data:null,error:new Sn("Unexpected error in register",h)}}}}ew();const yw={url:gy,storageKey:py,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xm(r,n,s){return await s()}const yi={};class zs{get jwks(){var n,s;return(s=(n=yi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){yi[this.storageKey]=Object.assign(Object.assign({},yi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=yi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){yi[this.storageKey]=Object.assign(Object.assign({},yi[this.storageKey]),{cachedAt:n})}constructor(n){var s,l,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},yw),n);if(this.storageKey=c.storageKey,this.instanceID=(s=zs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,zs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&tt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Py({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Kg(c.fetch),this.lock=c.lock||Xm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:tt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Fy:this.lock=Xm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$g}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},l="none";if(tt()&&(s=Cy(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),tt()&&this.detectSessionInUrl&&l!=="none"){const{data:d,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Sy(c)){const p=(n=c.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return J(s)?this._returnResult({error:s}):this._returnResult({error:new Sn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,d;try{const c=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(d=n==null?void 0:n.options)===null||d===void 0?void 0:d.captchaToken}},xform:Yt}),{data:h,error:g}=c;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const p=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(c){if(J(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,l,d;try{let c;if("email"in n){const{email:w,password:_,options:E}=n;let x=null,O=null;this.flowType==="pkce"&&([x,O]=await pi(this.storage,this.storageKey)),c=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:w,password:_,data:(s=E==null?void 0:E.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:x,code_challenge_method:O},xform:Yt})}else if("phone"in n){const{phone:w,password:_,options:E}=n;c=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:_,data:(l=E==null?void 0:E.data)!==null&&l!==void 0?l:{},channel:(d=E==null?void 0:E.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Yt})}else throw new rr("You must provide either an email or phone number and a password");const{data:h,error:g}=c;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const p=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(c){if(J(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:h,options:g}=n;s=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Km})}else if("phone"in n){const{phone:c,password:h,options:g}=n;s=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Km})}else throw new rr("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const c=new gi;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:d})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,l,d,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,l,d,c,h,g,p,b,w,_,E;let x,O;if("message"in n)x=n.message,O=n.signature;else{const{chain:U,wallet:C,statement:q,options:L}=n;let B;if(tt())if(typeof C=="object")B=C;else{const Ce=window;if("ethereum"in Ce&&typeof Ce.ethereum=="object"&&"request"in Ce.ethereum&&typeof Ce.ethereum.request=="function")B=Ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=C}const H=new URL((s=L==null?void 0:L.url)!==null&&s!==void 0?s:window.location.href),ne=await B.request({method:"eth_requestAccounts"}).then(Ce=>Ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Jg(ne[0]);let ee=(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!ee){const Ce=await B.request({method:"eth_chainId"});ee=tw(Ce)}const fe={domain:H.host,address:Y,statement:q,uri:H.href,version:"1",chainId:ee,nonce:(d=L==null?void 0:L.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(h=(c=L==null?void 0:L.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=L==null?void 0:L.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(b=L==null?void 0:L.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(w=L==null?void 0:L.signInWithEthereum)===null||w===void 0?void 0:w.resources};x=nw(fe),O=await B.request({method:"personal_sign",params:[aw(x),Y]})}try{const{data:U,error:C}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:O},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Yt});if(C)throw C;if(!U||!U.session||!U.user){const q=new gi;return this._returnResult({data:{user:null,session:null},error:q})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:C})}catch(U){if(J(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(n){var s,l,d,c,h,g,p,b,w,_,E,x;let O,U;if("message"in n)O=n.message,U=n.signature;else{const{chain:C,wallet:q,statement:L,options:B}=n;let H;if(tt())if(typeof q=="object")H=q;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))H=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=q}const ne=new URL((s=B==null?void 0:B.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in H&&H.signIn){const Y=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),L?{statement:L}:null));let ee;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")ee=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)ee=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)O=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),U=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${ne.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(d=(l=B==null?void 0:B.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B==null?void 0:B.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((b=B==null?void 0:B.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((_=(w=B==null?void 0:B.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||_===void 0)&&_.length?["Resources",...B.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const Y=await H.signMessage(new TextEncoder().encode(O),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=Y}}try{const{data:C,error:q}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:jn(U)},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Yt});if(q)throw q;if(!C||!C.session||!C.user){const L=new gi;return this._returnResult({data:{user:null,session:null},error:L})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:q})}catch(C){if(J(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(n){const s=await yn(this.storage,`${this.storageKey}-code-verifier`),[l,d]=(s??"").split("/");try{const{data:c,error:h}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Yt});if(await Qa(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const g=new gi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:d??null}),error:h})}catch(c){if(J(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:l,token:d,access_token:c,nonce:h}=n,g=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:d,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Yt}),{data:p,error:b}=g;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!p||!p.session||!p.user){const w=new gi;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:b})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,l,d,c,h;try{if("email"in n){const{email:g,options:p}=n;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await pi(this.storage,this.storageKey));const{error:_}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:b,code_challenge_method:w},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:g,options:p}=n,{data:b,error:w}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(d=p==null?void 0:p.data)!==null&&d!==void 0?d:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:w})}throw new rr("You must provide either an email or phone number.")}catch(g){if(J(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var s,l;try{let d,c;"options"in n&&(d=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:g}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:d,xform:Yt});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,b=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(d){if(J(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var s,l,d,c,h;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await pi(this.storage,this.storageKey));const b=await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:Xy});return!((c=b.data)===null||c===void 0)&&c.url&&tt()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(g){if(J(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new jt;const{error:d}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:d,options:c}=n,{error:h}=await P(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:d,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:l,type:d,options:c}=n,{data:h,error:g}=await P(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:d,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new rr("You must provide either an email or phone number and a type")}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await yn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Vu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=Ky(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Xa}):await this._useSession(async s=>{var l,d,c;const{data:h,error:g}=s;if(g)throw g;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0,xform:Xa})})}catch(s){if(J(s))return _y(s)&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:d,error:c}=l;if(c)throw c;if(!d.session)throw new jt;const h=d.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await pi(this.storage,this.storageKey));const{data:b,error:w}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:h.access_token,xform:Xa});if(w)throw w;return h.user=b.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(J(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new jt;const s=Date.now()/1e3;let l=s,d=!0,c=null;const{payload:h}=Gu(n.access_token);if(h.exp&&(l=h.exp,d=l<=s),d){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};c=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;c={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(J(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:h,error:g}=s;if(g)throw g;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new jt;const{data:d,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!tt())throw new or("No browser detected.");if(n.error||n.error_description||n.error_code)throw new or(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new or("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Bm("No code detected.");const{data:L,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:d,access_token:c,refresh_token:h,expires_in:g,expires_at:p,token_type:b}=n;if(!c||!g||!h||!b)throw new or("No session defined in URL");const w=Math.round(Date.now()/1e3),_=parseInt(g);let E=w+_;p&&(E=parseInt(p));const x=E-w;x*1e3<=wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const O=E-_;w-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,E,w):w-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,E,w);const{data:U,error:C}=await this._getUser(c);if(C)throw C;const q={provider_token:l,provider_refresh_token:d,access_token:c,expires_in:_,expires_at:E,refresh_token:h,token_type:b,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:n.type},error:null})}catch(l){if(J(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await yn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:d,error:c}=s;if(c)return this._returnResult({error:c});const h=(l=d.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:g}=await this.admin.signOut(h,n);if(g&&!(xy(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Ry(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,d;try{const{data:{session:c},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let l=null,d=null;this.flowType==="pkce"&&([l,d]=await pi(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:d,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(J(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:l,error:d}=await this._useSession(async c=>{var h,g,p,b,w;const{data:_,error:E}=c;if(E)throw E;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",x,{headers:this.headers,jwt:(w=(b=_.session)===null||b===void 0?void 0:b.access_token)!==null&&w!==void 0?w:void 0})});if(d)throw d;return tt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(J(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var l;try{const{error:d,data:{session:c}}=s;if(d)throw d;const{options:h,provider:g,token:p,access_token:b,nonce:w}=n,_=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c==null?void 0:c.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:p,access_token:b,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yt}),{data:E,error:x}=_;return x?this._returnResult({data:{user:null,session:null},error:x}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new gi}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:x}))}catch(d){if(J(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,d;const{data:c,error:h}=s;if(h)throw h;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await ky(async d=>(d>0&&await zy(200*Math.pow(2,d-1)),this._debug(s,"refreshing attempt",d),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Yt})),(d,c)=>{const h=200*Math.pow(2,d);return c&&Hu(c)&&Date.now()+h-l<wi})}catch(l){if(this._debug(s,"error",l),J(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),tt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const d=await yn(this.storage,this.storageKey);if(d&&this.userStorage){let h=await yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:d.user},await xi(this.userStorage,this.storageKey+"-user",h)),d.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Vu()}else if(d&&!d.user&&!d.user){const h=await yn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(d.user=h.user,await Qa(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,d)):d.user=Vu()}if(this._debug(l,"session from storage",d),!this._isValidSession(d)){this._debug(l,"session is not valid"),d!==null&&await this._removeSession();return}const c=((s=d.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<$u;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${$u}s`),c){if(this.autoRefreshToken&&d.refresh_token){const{error:h}=await this._callRefreshToken(d.refresh_token);h&&(console.error(h),Hu(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(d.access_token);!g&&(h!=null&&h.user)?(d.user=h.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(l,"error",d),console.error(d);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new wr;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new jt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const g={data:c.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(c){if(this._debug(d,"error",c),J(c)){const h={data:null,error:c};return Hu(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,s,l=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,s)}catch(p){c.push(p)}});if(await Promise.all(h),c.length>0){for(let g=0;g<c.length;g+=1)console.error(c[g]);throw c[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await xi(this.userStorage,this.storageKey+"-user",{user:s.user});const d=Object.assign({},s);delete d.user;const c=Gm(d);await xi(this.storage,this.storageKey,c)}else{const d=Gm(s);await xi(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),await Qa(this.storage,this.storageKey),await Qa(this.storage,this.storageKey+"-code-verifier"),await Qa(this.storage,this.storageKey+"-user"),this.userStorage&&await Qa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),wi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((l.expires_at*1e3-n)/wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${wi}ms, refresh threshold is ${ec} ticks`),d<=ec&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Yg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const d=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&d.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&d.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await pi(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});d.push(g.toString())}if(l!=null&&l.queryParams){const c=new URLSearchParams(l.queryParams);d.push(c.toString())}return l!=null&&l.skipBrowserRedirect&&d.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:d,error:c}=s;return c?this._returnResult({data:null,error:c}):await P(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,d;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:b}=await P(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return b?this._returnResult({data:null,error:b}):(n.factorType==="totp"&&p.type==="totp"&&(!((d=p==null?void 0:p.totp)===null||d===void 0)&&d.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:d,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?cw(n.webauthn.credential_response):dw(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await P(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:d,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await P(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:ow(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:uw(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const d={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])d.all.push(c),c.status==="verified"&&d[c.factor_type].push(c);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Gu(l.access_token);let h=null;c.aal&&(h=c.aal);let g=h;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const b=c.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:l},error:d}=s;return d?this._returnResult({data:null,error:d}):l?await P(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jt})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:d},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!d)return this._returnResult({data:null,error:new jt});const h=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:d},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!d)return this._returnResult({data:null,error:new jt});const h=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await P(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:l},error:d}=s;return d?this._returnResult({data:null,error:d}):l?(await P(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(g=>g.kid===n);if(l)return l;const d=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+yy>d)return l;const{data:c,error:h}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=d,l=c.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:x,error:O}=await this.getSession();if(O||!x.session)return this._returnResult({data:null,error:O});l=x.session.access_token}const{header:d,payload:c,signature:h,raw:{header:g,payload:p}}=Gu(l);s!=null&&s.allowExpired||Hy(c.exp);const b=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!b){const{error:x}=await this.getUser(l);if(x)throw x;return{data:{claims:c,header:d,signature:h},error:null}}const w=Gy(d.alg),_=await crypto.subtle.importKey("jwk",b,w,!0,["verify"]);if(!await crypto.subtle.verify(w,_,h,Ty(`${g}.${p}`)))throw new nc("Invalid JWT signature");return{data:{claims:c,header:d,signature:h},error:null}}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}}zs.nextInstanceID={};const ww=zs;class xw extends ww{constructor(n){super(n)}}class _w{constructor(n,s,l){var d,c,h;this.supabaseUrl=n,this.supabaseKey=s;const g=my(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,b={db:ly,realtime:oy,auth:Object.assign(Object.assign({},ry),{storageKey:p}),global:sy},w=fy(l??{},b);this.storageKey=(d=w.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(c=w.global.headers)!==null&&c!==void 0?c:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(_,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=w.auth)!==null&&h!==void 0?h:{},this.headers,w.global.fetch),this.fetch=dy(s,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new ob(new URL("rest/v1",g).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new ay(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new ib(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,s;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:d,userStorage:c,storageKey:h,flowType:g,lock:p,debug:b,throwOnError:w},_,E){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xw({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),_),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:d,userStorage:c,flowType:g,lock:p,debug:b,throwOnError:w,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Eb(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sw=(r,n,s)=>new _w(r,n,s);function jw(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}jw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ew="https://kjryfbzdzbtzhwuyijfq.supabase.co",Ow="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcnlmYnpkemJ0emh3dXlpamZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MjYxODIsImV4cCI6MjA4MDIwMjE4Mn0.sCwQ8wRh9bScspetLFJL_ivXnFfMIZBDQ277WVKZGZ0";console.log(" Supabase Configuration:");console.log("URL:"," Set");console.log("Key:"," Set");const mt=Sw(Ew,Ow);console.log(" Supabase client created successfully");const Aw=async(r,n)=>{const l=`${`${Date.now()}_${Math.random().toString(36).substring(7)}`}.png`;console.log(` Uploading to bucket: ${n}`);const{data:d,error:c}=await mt.storage.from(n).upload(l,r);if(c)throw console.error(" Error uploading image:",c),c;const{data:{publicUrl:h}}=mt.storage.from(n).getPublicUrl(l);return console.log(" Image uploaded:",h),h},Tw=async(r,n)=>{try{console.log(" Converting base64 to blob...");const s=r.split(",")[1],l=atob(s),d=new Array(l.length);for(let g=0;g<l.length;g++)d[g]=l.charCodeAt(g);const c=new Uint8Array(d),h=new Blob([c],{type:"image/png"});return Aw(h,n)}catch(s){throw console.error(" Error in uploadBase64Image:",s),s}},pr={getAll:async()=>{try{const{data:r,error:n}=await mt.from("projects").select("*").order("created_at",{ascending:!1});if(n)throw n;const{data:s,error:l}=await mt.from("users").select("name, avatar_url");l&&console.warn("Error fetching users for avatars:",l);const d=new Map;return s&&s.forEach(c=>{d.set(c.name,c.avatar_url)}),(r||[]).map(c=>({id:c.id,imageUrl:c.image_url||"",prompt:c.prompt||"",author:c.author_name||"Unknown",authorAvatar:d.get(c.author_name)||"",model:c.model||"Unknown",date:new Date(c.created_at).toLocaleDateString()}))}catch(r){return console.error("Error fetching projects:",r),[]}},create:async r=>{try{let n="",s;const l=r.model,d=r.aspectRatio||"1:1";if(r.model==="Grok 2"||r.model.includes("Nano Banana")){console.log(`Generating with ${r.model} (Edge Function)...`);let g="grok-2-image-1212",p="xai",b="";r.referenceImage?b=`maintain original ${d} aspect ratio, `+r.prompt:d==="16:9"?b="wide 16:9 aspect ratio, landscape orientation, cinematic shot, "+r.prompt:d==="4:3"?b="4:3 aspect ratio, landscape orientation, "+r.prompt:d==="1:1"?b="square 1:1 aspect ratio, "+r.prompt:b=r.prompt,r.model.includes("Nano Banana")&&(r.model==="Nano Banana Pro"?g="gemini-3-pro-image-preview":g="gemini-2.5-flash-image",p="google");const{data:w,error:_}=await mt.functions.invoke("generate-image",{body:{prompt:b,model:g,provider:p,referenceImage:r.referenceImage,referenceImageMimeType:r.referenceImageMimeType,aspectRatio:d,resolution:r.resolution}});if(_){console.error("Supabase Function Error:",_);try{if(_ instanceof Error&&"context"in _){const E=_.context;if(E&&typeof E.json=="function"){const x=await E.json();throw console.log("Error Body:",x),x.error&&(x.error.includes("safety")||x.error.includes("blocked")||x.error.includes("SAFETY"))?new Error("SAFETY_VIOLATION: Content blocked by safety filters."):new Error(x.error||_.message)}}}catch(E){console.warn("Failed to parse error response:",E)}throw _}if(w.error)throw w.error.includes("safety")||w.error.includes("blocked")||w.error.includes("SAFETY")?new Error("SAFETY_VIOLATION: Content blocked by safety filters."):new Error(w.error);n=w.imageUrl,s=w.credits}else{console.log("Generating with Pollinations...");let g=1024,p=1024;d==="16:9"?(g=1280,p=720):d==="4:3"&&(g=1024,p=768);const b=`https://image.pollinations.ai/prompt/${encodeURIComponent(r.prompt)}?width=${g}&height=${p}&nologo=true&model=flux`,_=await(await fetch(b)).blob(),E=`${Date.now()}_${Math.random().toString(36).substring(7)}.png`,{error:x}=await mt.storage.from("generated-images").upload(E,_,{contentType:"image/png"});if(x)throw x;const{data:{publicUrl:O}}=mt.storage.from("generated-images").getPublicUrl(E);n=O}const{data:c,error:h}=await mt.from("projects").insert({prompt:r.prompt,image_url:n,model:l,author_name:r.author}).select().single();if(h)throw h;return{id:c.id,imageUrl:n,prompt:r.prompt,author:r.author,authorAvatar:r.authorAvatar,model:l,date:new Date(c.created_at).toLocaleDateString(),credits:s}}catch(n){throw console.error("Error creating project:",n),n}}},Nw=Object.freeze(Object.defineProperty({__proto__:null,ProjectsService:pr},Symbol.toStringTag,{value:"Module"})),Rw=({initialImage:r})=>{const[n,s]=X.useState("select"),[l,d]=X.useState(100),[c,h]=X.useState(20),[g,p]=X.useState(""),[b,w]=X.useState("Nano Banana Pro"),[_,E]=X.useState(null),[x,O]=X.useState(!1),[U,C]=X.useState(null),[q,L]=X.useState(!1),[B,H]=X.useState("1:1"),[ne,Y]=X.useState(!1),[ee,fe]=X.useState(!1),[Ce,$]=X.useState(null),[_e,Se]=X.useState(()=>{const M=localStorage.getItem("image_editor_sessions");let W=M?JSON.parse(M):[];const oe=localStorage.getItem("image_editor_history");if(oe)try{const Oe=JSON.parse(oe);if(Array.isArray(Oe)&&Oe.length>0){const Ne=Oe.map(($e,Nt)=>({id:`legacy-${Date.now()}-${Nt}`,originalUrl:$e.url,versions:[{id:`legacy-v-${Date.now()}-${Nt}`,url:$e.url,prompt:$e.prompt||"Legacy Image",model:$e.model||"Unknown",timestamp:Date.now()}],timestamp:Date.now()-Nt*1e3})),Le=new Set(W.map($e=>$e.originalUrl)),je=Ne.filter($e=>!Le.has($e.originalUrl));W=[...W,...je],localStorage.removeItem("image_editor_history")}}catch(Oe){console.error("Failed to migrate legacy history:",Oe)}return W});X.useEffect(()=>{localStorage.setItem("image_editor_sessions",JSON.stringify(_e))},[_e]),X.useEffect(()=>{r&&Pa(r)},[r]);const at=X.useRef(null),it=[{name:"Nano Banana Pro",desc:"Native 4K image generation",time:"30s",cost:"119 units",active:!0,tags:["2 images"]},{name:"Nano Banana",desc:"Smart model, best for image editing",time:"10s",cost:"32 units",active:!1,tags:["2 images"]},{name:"Grok 2",desc:"Smartest model, best for complex prompts",time:"10s",cost:"1 unit",active:!1,tags:["High Quality","Smart"]},{name:"FLUX 2.0",desc:"Next-gen image synthesis",time:"15s",cost:"2 units",active:!1,tags:["Ultra Quality","Inpainting"],isNew:!0},{name:"FLUX 1.0",desc:"High fidelity generation",time:"12s",cost:"1 unit",active:!1,tags:["Balanced","Inpainting"]}],Be=["Nano Banana","Nano Banana Pro"],I=[{id:"select",icon:bv,label:"Select"},{id:"rectangle",icon:yv,label:"Rectangle"},{id:"brush",icon:wv,label:"Inpaint"},{id:"eraser",icon:xv,label:"Erase"},{id:"move",icon:_v,label:"Move"}],ce=Be.includes(b),Xt=M=>{const W=new Image;W.onload=()=>{const oe=W.width/W.height,Oe={"16:9":16/9,"4:3":4/3,"1:1":1,"3:4":3/4,"9:16":9/16};let Ne="1:1",Le=1/0;for(const[je,$e]of Object.entries(Oe)){const Nt=Math.abs(oe-$e);Nt<Le&&(Le=Nt,Ne=je)}H(Ne)},W.src=M},Pa=M=>{const W={id:Date.now().toString(),originalUrl:M,versions:[],timestamp:Date.now()};Se(oe=>[W,...oe]),$(W.id),E(M),C(null),p(""),Xt(M)},ya=M=>{var oe;const W=(oe=M.target.files)==null?void 0:oe[0];if(W){const Oe=new FileReader;Oe.onload=Ne=>{var je;const Le=(je=Ne.target)==null?void 0:je.result;Pa(Le)},Oe.readAsDataURL(W)}},At=M=>{var oe;M.preventDefault(),Y(!1);const W=(oe=M.dataTransfer.files)==null?void 0:oe[0];if(W&&W.type.startsWith("image/")){const Oe=new FileReader;Oe.onload=Ne=>{var je;const Le=(je=Ne.target)==null?void 0:je.result;Pa(Le)},Oe.readAsDataURL(W)}},qe=M=>{M.preventDefault(),Y(!0)},ve=M=>{M.preventDefault(),Y(!1)},Tt=M=>{if(_){M.preventDefault();const W=M.deltaY>0?-10:10;d(oe=>Math.min(500,Math.max(10,oe+W)))}},Wa=async()=>{const M=U||_;if(M)try{const oe=await(await fetch(M)).blob(),Oe=window.URL.createObjectURL(oe),Ne=document.createElement("a");Ne.href=Oe,Ne.download=`edited_image_${Date.now()}.png`,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),window.URL.revokeObjectURL(Oe)}catch(W){console.error("Download failed:",W);const oe=document.createElement("a");oe.href=M,oe.download=`edited_image_${Date.now()}.png`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)}},Ht=async()=>{if(!(!_||!g.trim()||x)){O(!0),fe(!1);try{let M,W;if(U){const je=await(await fetch(U)).blob(),$e=await new Promise(xr=>{const Ri=new FileReader;Ri.onloadend=()=>{const st=Ri.result;xr(st)},Ri.readAsDataURL(je)}),[Nt,Ni]=$e.split(";base64,");W=Nt.split(":")[1],M=Ni}else{const[Le,je]=_.split(";base64,");W=Le.split(":")[1],M=je}const oe=localStorage.getItem("click_tools_current_user"),Oe=oe?JSON.parse(oe):{name:"Guest",avatar_url:""},Ne=await pr.create({prompt:g,model:b,author:Oe.name,authorAvatar:Oe.avatar_url,imageUrl:"",referenceImage:M,referenceImageMimeType:W,aspectRatio:B});if(await new Promise((Le,je)=>{const $e=new Image;$e.onload=Le,$e.onerror=je,$e.src=Ne.imageUrl}),Ne.credits!==void 0){const Le=localStorage.getItem("click_tools_current_user");if(Le){const je=JSON.parse(Le);je.credits=Ne.credits,localStorage.setItem("click_tools_current_user",JSON.stringify(je)),window.dispatchEvent(new Event("storage"))}}C(Ne.imageUrl),Ce&&Se(Le=>Le.map(je=>je.id===Ce?{...je,versions:[...je.versions,{id:Date.now().toString(),url:Ne.imageUrl,prompt:g,model:b,timestamp:Date.now()}]}:je))}catch(M){console.error("Error generating image:",M);const W=M.message&&(M.message.includes("SAFETY_VIOLATION")||M.message.includes("safety")||M.message.includes("blocked")),oe=b.includes("Nano Banana"),Oe=M.message&&(M.message.includes("FunctionsHttpError")||M.message.includes("Edge Function returned")||M.message.includes("non-2xx"));W||oe&&Oe?fe(!0):alert("Failed to generate image. Please try again.")}finally{O(!1)}}},An=M=>{if($(M.id),E(M.originalUrl),M.versions.length>0){const W=M.versions[M.versions.length-1];C(W.url),p(W.prompt)}else C(null),p("");Xt(M.originalUrl)},Tn=M=>{C(M.url),p(M.prompt)},wa=()=>{E(null),C(null),p(""),fe(!1),$(null),at.current&&(at.current.value="")},Nn=X.useRef(null),xa=_e.find(M=>M.id===Ce);return f.jsxs("div",{className:"fixed inset-0 bg-[#050505] text-white overflow-hidden flex flex-col z-40",children:[f.jsx($t,{children:ee&&f.jsx(ae.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-24 left-0 right-0 z-[60] flex justify-center pointer-events-none",children:f.jsxs("div",{className:"relative overflow-hidden bg-[#0A0A0A]/90 backdrop-blur-2xl border border-red-500/20 px-6 py-4 rounded-2xl shadow-[0_8px_32px_rgba(255,0,0,0.15)] flex items-center gap-4 pointer-events-auto mt-2 group",children:[f.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-transparent to-red-600/20 animate-pulse",style:{backgroundSize:"200% 100%"}}),f.jsx(ae.div,{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-red-500/10 to-transparent",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"}})]}),f.jsx("div",{className:"relative z-10 w-10 h-10 rounded-xl bg-gradient-to-br from-red-500/20 to-black border border-red-500/30 flex items-center justify-center shrink-0 shadow-[0_0_15px_rgba(255,0,0,0.2)]",children:f.jsx(vr,{size:16,className:"text-red-400 drop-shadow-[0_0_8px_rgba(255,50,50,0.5)]"})}),f.jsxs("div",{className:"relative z-10 flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-white tracking-wide",children:"Content Flagged"}),f.jsx("span",{className:"text-[11px] text-red-200/60 font-medium",children:"Safety guidelines blocked this request"})]}),f.jsx("div",{className:"h-8 w-px bg-white/5 mx-2 relative z-10"}),f.jsx("button",{onClick:()=>fe(!1),className:"relative z-10 p-2 hover:bg-white/5 rounded-xl transition-colors text-white/40 hover:text-white",children:f.jsx(Za,{size:16})})]})})}),f.jsxs("div",{className:"h-16 border-b border-white/5 bg-[#0A0A0A]/95 backdrop-blur-xl flex items-center justify-between px-6 z-50",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-brand rounded-lg flex items-center justify-center shadow-lg shadow-brand/20",children:f.jsx(On,{size:16,className:"text-white"})}),f.jsx("span",{className:"font-display font-bold text-lg tracking-tight",children:"Editor"})]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-1 bg-white/5 rounded-lg p-1 border border-white/5",children:[f.jsx("button",{className:"p-2 hover:bg-white/10 rounded-md transition-colors text-gray-400 hover:text-white disabled:opacity-50",title:"Undo",children:f.jsx(pm,{size:16})}),f.jsx("button",{className:"p-2 hover:bg-white/10 rounded-md transition-colors text-gray-400 hover:text-white disabled:opacity-50",title:"Redo",children:f.jsx(vv,{size:16})})]}),f.jsxs("button",{onClick:Wa,disabled:!_,className:"px-4 py-2 bg-white text-black rounded-lg font-bold text-sm hover:bg-gray-200 transition-colors flex items-center gap-2 shadow-lg shadow-white/10 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(ji,{size:16}),"Download Image"]})]})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[f.jsxs("div",{className:"w-24 border-r border-white/5 bg-[#0A0A0A] flex flex-col items-center py-6 gap-4 z-40 overflow-y-auto custom-scrollbar h-full shrink-0",children:[f.jsx("button",{onClick:wa,className:"w-12 h-12 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 flex items-center justify-center text-white/50 hover:text-white transition-all duration-200 shrink-0 mb-2 group",title:"New Session",children:f.jsx(vm,{size:20,className:"group-hover:scale-110 transition-transform"})}),f.jsx("div",{className:"w-8 h-px bg-white/5 shrink-0 mb-2"}),f.jsx("input",{type:"file",ref:at,className:"hidden",accept:"image/*",onChange:ya}),_e.map(M=>f.jsxs("button",{onClick:()=>An(M),className:`w-16 h-16 rounded-xl border overflow-hidden transition-all hover:scale-105 shrink-0 relative group shadow-sm ${Ce===M.id?"border-brand ring-2 ring-brand/20":"border-white/10 hover:border-white/30"}`,title:M.versions.length>0?M.versions[0].prompt:`Session from ${new Date(M.timestamp).toLocaleTimeString()}`,children:[f.jsx("img",{src:En(M.originalUrl,200),alt:"Session",className:"w-full h-full object-cover",loading:"lazy"}),f.jsx("div",{className:`absolute inset-0 transition-colors ${Ce===M.id?"bg-transparent":"bg-black/40 group-hover:bg-black/20"}`})]},M.id)),f.jsx("div",{className:"h-20 shrink-0"})]}),f.jsxs("div",{ref:Nn,className:"flex-1 bg-[#050505] relative overflow-hidden flex items-center justify-center",onDrop:At,onDragOver:qe,onDragLeave:ve,onWheel:Tt,children:[f.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(#333 1px, transparent 1px)",backgroundSize:"20px 20px"}}),f.jsxs(ae.div,{className:`relative max-w-[90%] max-h-[80%] rounded-lg overflow-hidden group flex items-center justify-center transition-all duration-300 ${_?"bg-[#111] border border-white/5 shadow-2xl":`cursor-pointer hover:bg-white/5 border-2 border-dashed ${ne?"border-brand bg-brand/10 scale-105":"border-white/10 hover:border-white/20"}`} ${n==="move"&&_?"cursor-grab active:cursor-grabbing":""}`,initial:{scale:.9,opacity:0},animate:{scale:_?l/100:1,opacity:1},drag:n==="move"&&!!_,dragConstraints:Nn,dragElastic:.1,dragMomentum:!1,transition:{duration:.05},style:{width:_?"auto":"800px",height:_?"auto":"600px"},onClick:()=>{var M;return!_&&((M=at.current)==null?void 0:M.click())},children:[_?f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:U||_,alt:"Canvas",className:"max-w-full max-h-[70vh] object-contain"}),x&&f.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-[2px] flex items-center justify-center z-20",children:[f.jsx(ae.div,{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent",animate:{backgroundPosition:["0% 0%","100% 100%"],opacity:[.2,.4,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},style:{backgroundSize:"200% 200%"}}),f.jsx("div",{className:"flex flex-col items-center justify-center z-30",children:f.jsx(eg,{size:60})})]}),U&&!x&&f.jsx(ae.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:M=>{M.stopPropagation(),C(null)},className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors border border-white/10 backdrop-blur-md z-20",title:"Revert to original",children:f.jsx(pm,{size:16})})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500 p-20",children:[f.jsx(cr,{size:64,className:"mx-auto mb-6 opacity-20"}),f.jsx("p",{className:"text-lg font-medium text-white/50",children:"Drag and drop an image here"}),f.jsx("p",{className:"text-sm opacity-40 mt-2",children:"or click to upload"})]}),_&&n==="brush"&&!x&&f.jsx("div",{className:"absolute inset-0 cursor-crosshair pointer-events-none",children:f.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-md px-3 py-1 rounded-full text-xs border border-white/10 pointer-events-auto",children:["Brush Size: ",c,"px"]})})]}),f.jsx($t,{children:xa&&f.jsxs(ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"absolute right-6 top-1/2 -translate-y-1/2 flex flex-col gap-3 z-40 max-h-[80vh] overflow-y-auto custom-scrollbar p-2",children:[f.jsxs("button",{onClick:()=>{C(null),p("")},className:`w-20 h-20 rounded-lg border overflow-hidden transition-all hover:scale-105 shrink-0 relative group shadow-lg ${U?"border-white/10 hover:border-white/30":"border-brand ring-2 ring-brand/20"}`,title:"Original Image",children:[f.jsx("img",{src:En(xa.originalUrl,200),alt:"Original",className:"w-full h-full object-cover",loading:"lazy"}),f.jsx("div",{className:`absolute inset-0 transition-colors ${U?"bg-black/40 group-hover:bg-black/20":"bg-transparent"}`}),f.jsx("div",{className:"absolute bottom-1 right-1 bg-black/60 px-1.5 py-0.5 rounded text-[10px] text-white/80 backdrop-blur-sm truncate max-w-[90%]",children:"Original"})]}),xa.versions.map((M,W)=>f.jsxs("button",{onClick:()=>Tn(M),className:`w-20 h-20 rounded-lg border overflow-hidden transition-all hover:scale-105 shrink-0 relative group shadow-lg ${U===M.url?"border-brand ring-2 ring-brand/20":"border-white/10 hover:border-white/30"}`,title:M.prompt,children:[f.jsx("img",{src:En(M.url,200),alt:`Version ${W+1}`,className:"w-full h-full object-cover",loading:"lazy"}),f.jsx("div",{className:`absolute inset-0 transition-colors ${U===M.url?"bg-transparent":"bg-black/40 group-hover:bg-black/20"}`}),f.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 px-1.5 py-0.5 rounded text-[10px] text-white/80 backdrop-blur-sm truncate max-w-[90%]",children:[M.prompt.slice(0,15),M.prompt.length>15?"...":""]})]},M.id))]})}),f.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col gap-4 items-center z-50",children:[f.jsxs(ae.div,{className:`flex items-center gap-2 p-1.5 bg-[#111]/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl w-[500px] transition-all duration-500 relative overflow-hidden ${ee?"shadow-[0_0_40px_rgba(255,0,0,0.15)] border-red-500/30":""}`,initial:{y:20,opacity:0},animate:{y:0,opacity:1},children:[f.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-red-600/20 via-orange-500/10 to-red-600/20 opacity-0 transition-opacity duration-500 blur-xl ${ee?"opacity-100 animate-pulse":""}`}),f.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-brand flex items-center justify-center shrink-0 relative z-10",children:f.jsx(On,{size:16,className:"text-white"})}),f.jsx("input",{type:"text",value:g,onChange:M=>{p(M.target.value),ee&&fe(!1)},placeholder:"Describe what you want to change or add...",className:"flex-1 bg-transparent border-none outline-none text-sm text-white placeholder-gray-500 px-2 relative z-10",onKeyDown:M=>M.key==="Enter"&&Ht()}),f.jsx("button",{onClick:Ht,disabled:!_||!g.trim()||x,className:`px-4 py-1.5 bg-white text-black rounded-lg text-xs font-bold transition-colors relative z-10 ${!_||!g.trim()||x?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,children:x?"...":"Generate"})]}),!ce&&f.jsxs(ae.div,{className:"flex items-center gap-1 p-2 bg-[#111]/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:[I.map(M=>f.jsxs("button",{onClick:()=>s(M.id),className:`
                                            p-2.5 rounded-xl transition-all duration-200 relative group
                                            ${n===M.id?"bg-white/10 text-white shadow-[inset_0_1px_1px_rgba(255,255,255,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5"}
                                        `,children:[f.jsx(M.icon,{size:20}),f.jsx("span",{className:"absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-black border border-white/10 rounded-md text-[10px] opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:M.label})]},M.id)),f.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>d(M=>Math.max(10,M-10)),className:"p-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:f.jsx(Sv,{size:16})}),f.jsxs("span",{className:"text-xs font-mono w-12 text-center text-gray-400",children:[l,"%"]}),f.jsx("button",{onClick:()=>d(M=>Math.min(200,M+10)),className:"p-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:f.jsx(vm,{size:16})})]})]})]}),f.jsx("div",{className:"absolute bottom-8 left-8 z-50",children:f.jsx($t,{mode:"wait",children:q?f.jsxs(ae.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"w-80 bg-[#0A0A0A]/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[60vh] absolute bottom-0 left-0",children:[f.jsxs("div",{onClick:()=>L(!1),className:"flex items-center justify-between p-4 cursor-pointer hover:bg-white/5 transition-colors border-b border-white/5",children:[f.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Select Model"}),f.jsx(Im,{size:14,className:"text-gray-500"})]}),f.jsx("div",{className:"overflow-y-auto custom-scrollbar p-2 space-y-2 flex-1",children:it.map((M,W)=>f.jsxs("button",{onClick:()=>{w(M.name),L(!1)},className:`
                                        group relative p-3 rounded-xl text-left transition-all duration-200 border w-full
                                        ${M.name===b?"bg-white/5 border-brand/50 shadow-[0_0_15px_rgba(255,0,85,0.1)]":"bg-transparent border-transparent hover:bg-white/5 hover:border-white/5"}
                                    `,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`font-semibold text-sm ${M.name===b?"text-white":"text-gray-300"}`,children:M.name}),M.isNew&&f.jsx("span",{className:"text-[9px] font-bold bg-blue-500 text-white px-1.5 py-0.5 rounded-full",children:"New"})]}),M.name===b&&f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-brand shadow-[0_0_8px_#FF0055]"})]}),f.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-400 font-medium mt-2",children:[f.jsxs("span",{className:"flex items-center gap-1 bg-white/5 px-1.5 py-0.5 rounded",children:[f.jsx(Pm,{size:10})," ",M.time]}),f.jsxs("span",{className:"flex items-center gap-1 bg-white/5 px-1.5 py-0.5 rounded",children:[f.jsx(Wm,{size:10})," ",M.cost]})]})]},W))}),f.jsx("div",{className:"p-3 border-t border-white/5 bg-black/20",children:f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(sc,{size:12,className:"text-yellow-400"}),(()=>{const M=localStorage.getItem("click_tools_current_user"),W=M?JSON.parse(M):null;return W!=null&&W.credits?W.credits.toLocaleString():"0"})()," Credits"]}),f.jsx("button",{className:"text-brand hover:text-brand-light transition-colors font-medium",children:"Upgrade"})]})})]},"list"):f.jsxs(ae.button,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:()=>L(!0),className:"flex items-center gap-3 px-4 py-3 bg-[#1A1A1A] border border-white/10 rounded-2xl shadow-xl hover:bg-[#222] transition-colors group",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-0.5",children:"Model"}),f.jsx("span",{className:"text-sm font-bold text-white group-hover:text-brand transition-colors",children:b})]}),f.jsx(Zm,{size:16,className:"text-gray-500"})]},"pill")})})]})]})]})},ur=({children:r,className:n="",hoverEffect:s=!1,noPadding:l=!1})=>f.jsxs(ae.div,{className:`
        relative overflow-hidden rounded-2xl
        bg-surface-glass backdrop-blur-xl
        border border-glass-border
        shadow-[0_8px_32px_rgba(0,0,0,0.2)]
        ${s?"hover:border-glass-highlight hover:shadow-[0_8px_32px_rgba(255,0,85,0.1)] transition-all duration-300 group":""}
        ${l?"":"p-6"}
        ${n}
      `,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),f.jsx("div",{className:"relative z-10",children:r})]}),Cw=({projects:r,currentUser:n,onOpenAuth:s,onEditImage:l})=>{const[d,c]=X.useState("all"),[h,g]=X.useState(null),[p,b]=X.useState(null);if(!n)return f.jsx(Os,{onSignIn:s});const w=d==="all"?r:r.filter(x=>x.author===n),_=async(x,O)=>{try{const C=await(await fetch(x)).blob(),q=window.URL.createObjectURL(C),L=document.createElement("a");L.href=q,L.download=`${O.slice(0,20).replace(/[^a-z0-9]/gi,"_")}_${Date.now()}.png`,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(q)}catch(U){console.error("Download failed:",U),window.open(x,"_blank")}},E=(x,O)=>{navigator.clipboard.writeText(x),b(O),setTimeout(()=>b(null),2e3)};return f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-display font-bold text-white mb-2",children:["Project ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-brand",children:"Gallery"})]}),f.jsx("p",{className:"text-gray-400",children:"Explore creations from the team."})]}),f.jsxs("div",{className:"flex gap-2 bg-surface-glass border border-glass-border p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="all"?"bg-white/10 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"All Projects"}),f.jsx("button",{onClick:()=>c("mine"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="mine"?"bg-white/10 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"My Creations"})]})]}),w.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",children:f.jsx(ks,{size:32,className:"text-gray-600"})}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No projects found"}),f.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:d==="mine"?"You haven't generated any images yet.":"Start generating images to populate your team's gallery."})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(x=>f.jsxs(ur,{className:"group relative overflow-hidden",noPadding:!0,children:[f.jsxs("div",{className:"aspect-[4/3] bg-gray-900 relative overflow-hidden cursor-pointer",onClick:()=>g(x),children:[x.imageUrl?f.jsx("img",{src:En(x.imageUrl,600),alt:x.prompt,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:O=>{var U;O.target.style.display="none",(U=O.target.nextElementSibling)==null||U.classList.remove("hidden")},loading:"lazy"}):f.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-black flex items-center justify-center",children:f.jsx("span",{className:"text-xs text-gray-600",children:"Generating..."})}),f.jsx("div",{className:"hidden absolute inset-0 bg-gradient-to-br from-gray-800 to-black flex items-center justify-center pointer-events-none",children:f.jsx("span",{className:"text-xs text-gray-500",children:"Image not available"})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4 pointer-events-none",children:f.jsxs("div",{className:"flex items-center justify-between pointer-events-auto",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:O=>{O.stopPropagation(),_(_i(x.imageUrl),x.prompt)},className:"p-2 rounded-full bg-white/10 hover:bg-white hover:text-black text-white backdrop-blur-md transition-all duration-200 hover:scale-105",title:"Download",children:f.jsx(ji,{size:16})}),f.jsx("button",{onClick:O=>{O.stopPropagation(),E(x.prompt,x.id)},className:"p-2 rounded-full bg-white/10 hover:bg-white hover:text-black text-white backdrop-blur-md transition-all duration-200 hover:scale-105",title:"Copy Prompt",children:p===x.id?f.jsx(Ei,{size:16,className:"text-green-500"}):f.jsx(Ns,{size:16})})]}),f.jsx("button",{onClick:O=>{O.stopPropagation(),g(x)},className:"p-2 rounded-full bg-white/10 hover:bg-white hover:text-black text-white backdrop-blur-md transition-all duration-200 hover:scale-105",title:"Expand",children:f.jsx(ic,{size:16})})]})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("p",{className:"text-sm text-white font-medium line-clamp-1 mb-3",title:x.prompt,children:x.prompt}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-brand flex items-center justify-center text-[8px] font-bold text-white overflow-hidden border border-white/10",children:x.authorAvatar?f.jsx("img",{src:x.authorAvatar,alt:x.author,className:"w-full h-full object-cover"}):f.jsx("span",{children:x.author.charAt(0)})}),f.jsx("span",{children:x.author})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(jv,{size:10}),f.jsx("span",{children:x.date})]})]}),f.jsx("div",{className:"mt-3 pt-3 border-t border-white/5 flex items-center justify-between",children:f.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:x.model})})]})]},x.id))}),f.jsx($t,{children:h&&f.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-xl p-4 md:p-10",onClick:()=>g(null),children:f.jsxs(ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-7xl w-full max-h-[90vh] flex flex-col items-center overflow-y-auto custom-scrollbar p-4",onClick:x=>x.stopPropagation(),children:[f.jsx("img",{src:En(h.imageUrl,1200),alt:h.prompt,className:"max-h-[70vh] w-auto object-contain rounded-lg shadow-2xl border border-white/10 shrink-0"}),f.jsxs("div",{className:"mt-6 flex items-center gap-4 bg-black/50 backdrop-blur-md px-6 py-3 rounded-full border border-white/10 shrink-0",children:[f.jsx("span",{className:"text-white/80 text-sm font-medium mr-4 border-r border-white/10 pr-4",children:h.model}),f.jsxs("button",{onClick:()=>_(_i(h.imageUrl),h.prompt),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium",children:[f.jsx(ji,{size:16})," Download"]}),f.jsxs("button",{onClick:()=>E(h.prompt,h.id),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium",children:[p===h.id?f.jsx(Ei,{size:16}):f.jsx(Ns,{size:16})," Copy Prompt"]}),l&&f.jsxs("button",{onClick:()=>l&&l(_i(h.imageUrl)),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium pl-4 border-l border-white/10",children:[f.jsx(On,{size:16})," Edit"]})]}),f.jsx("div",{className:"mt-4 max-w-2xl text-center shrink-0 pb-4",children:f.jsx("p",{className:"text-gray-400 text-sm",children:h.prompt})}),f.jsx("button",{onClick:()=>g(null),className:"absolute top-4 right-4 p-2 text-white/50 hover:text-white transition-colors bg-black/50 rounded-full backdrop-blur-md z-50",children:f.jsx(Za,{size:24})})]})})})]})},Uw={getAll:async()=>{try{const{data:r,error:n}=await mt.from("users").select("*");if(n)throw n;return(r||[]).map(s=>({id:s.id,name:s.name||"Unknown",avatar:s.avatar_url||`https://ui-avatars.com/api/?name=${s.name}&background=random`,status:s.status||"offline",lastActive:s.status==="online"?"Now":"Recently"}))}catch(r){return console.error("Error fetching designers:",r),[]}}},zw=({designer:r,projects:n,currentUser:s,onClose:l,onUpdateProfile:d,onEditImage:c})=>{const[h,g]=X.useState(!1),[p,b]=X.useState(r.name),[w,_]=X.useState(!1),[E,x]=X.useState(null),[O,U]=X.useState(null),C=n.filter(Y=>Y.author===r.name),q=C.length,L=(s==null?void 0:s.name)===r.name,B=async()=>{if(!(!d||!p.trim())){_(!0);try{await d(p,r.avatar),g(!1)}catch(Y){console.error("Failed to update profile:",Y)}finally{_(!1)}}},H=async(Y,ee)=>{try{const Ce=await(await fetch(Y)).blob(),$=window.URL.createObjectURL(Ce),_e=document.createElement("a");_e.href=$,_e.download=`${ee.slice(0,20).replace(/[^a-z0-9]/gi,"_")}_${Date.now()}.png`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),window.URL.revokeObjectURL($)}catch(fe){console.error("Download failed:",fe),window.open(Y,"_blank")}},ne=(Y,ee)=>{navigator.clipboard.writeText(Y),U(ee),setTimeout(()=>U(null),2e3)};return f.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:l,children:[f.jsxs(ae.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-2xl bg-[#0A0A0A] border border-white/10 rounded-3xl overflow-hidden shadow-2xl",onClick:Y=>Y.stopPropagation(),children:[f.jsxs("div",{className:"h-32 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-brand opacity-20"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-[#0A0A0A]"}),f.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-brand/20 rounded-full blur-3xl"}),f.jsx("div",{className:"absolute top-10 -left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl"})]}),f.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-white/10 rounded-full text-white/50 hover:text-white transition-colors backdrop-blur-md border border-white/5 z-10",children:f.jsx(Za,{size:20})}),f.jsxs("div",{className:"px-8 pb-8 -mt-16 relative",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-end mb-10",children:[f.jsxs("div",{className:"relative group",children:[f.jsxs("div",{className:"w-32 h-32 rounded-full p-1.5 bg-[#0A0A0A] relative z-10",children:[f.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-4 border-[#0A0A0A] relative",children:f.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover bg-gray-800"})}),r.status==="online"&&f.jsx("div",{className:"absolute bottom-2 right-2 w-5 h-5 bg-green-500 border-4 border-[#0A0A0A] rounded-full shadow-[0_0_10px_rgba(34,197,94,0.5)]",title:"Online"})]}),L&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20 pointer-events-none",children:f.jsx("span",{className:"bg-black/80 text-white text-xs px-2 py-1 rounded backdrop-blur-md border border-white/10",children:"Change Avatar"})})]}),f.jsxs("div",{className:"flex-1 mb-2",children:[h?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:p,onChange:Y=>b(Y.target.value),className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-3xl font-bold text-white focus:outline-none focus:border-brand w-full md:w-auto",autoFocus:!0}),f.jsx("button",{onClick:B,disabled:w,className:"p-2 bg-brand hover:bg-brand-light rounded-lg text-white transition-colors",children:w?f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):f.jsx(Ei,{size:20})})]}):f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:"text-4xl font-bold text-white tracking-tight",children:r.name}),L&&f.jsx("button",{onClick:()=>g(!0),className:"p-2 text-gray-500 hover:text-white hover:bg-white/5 rounded-lg transition-colors",title:"Edit Profile",children:f.jsx(Ev,{size:18})})]}),f.jsxs("p",{className:"text-gray-400 flex items-center gap-2 mt-2 font-medium",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${r.status==="online"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-gray-600"}`}),r.status==="online"?"Online Now":`Last active ${r.lastActive}`]})]}),f.jsx("div",{className:"flex gap-3",children:f.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center min-w-[120px] backdrop-blur-sm",children:[f.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:q}),f.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-bold",children:"Generations"})]})})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2 border-b border-white/10 pb-4",children:[f.jsx(cr,{size:20,className:"text-brand"}),"Recent Masterpieces"]}),C.length>0?f.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:C.slice(0,8).map(Y=>f.jsxs("div",{onClick:()=>x(Y),className:"aspect-square rounded-xl overflow-hidden border border-white/10 relative group cursor-pointer bg-gray-900 shadow-lg",children:[f.jsx("img",{src:Y.imageUrl,alt:Y.prompt,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),f.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center backdrop-blur-[2px]",children:f.jsx(ic,{className:"text-white opacity-100 drop-shadow-lg",size:24})})]},Y.id))}):f.jsxs("div",{className:"text-center py-16 bg-white/5 rounded-2xl border border-white/5 border-dashed",children:[f.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(cr,{size:24,className:"text-gray-600"})}),f.jsx("p",{className:"text-gray-500 font-medium",children:"No masterpieces created yet."})]})]})]})]}),f.jsx($t,{children:E&&f.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/95 backdrop-blur-xl p-4 md:p-10",onClick:()=>x(null),children:f.jsxs(ae.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative max-w-7xl w-full h-full flex flex-col items-center justify-center",onClick:Y=>Y.stopPropagation(),children:[f.jsx("img",{src:E.imageUrl,alt:E.prompt,className:"max-h-[75vh] w-auto object-contain rounded-lg shadow-2xl border border-white/10"}),f.jsxs("div",{className:"mt-8 flex items-center gap-3 bg-[#0A0A0A] px-6 py-3 rounded-full border border-white/10 shadow-2xl",children:[f.jsx("span",{className:"text-white/60 text-sm font-medium mr-4 border-r border-white/10 pr-4 uppercase tracking-wider text-xs",children:E.model}),c&&f.jsxs("button",{onClick:()=>{c(E.imageUrl),x(null),l()},className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-bold px-2",children:[f.jsx(On,{size:16})," Edit"]}),f.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),f.jsxs("button",{onClick:()=>H(E.imageUrl,E.prompt),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium px-2",children:[f.jsx(ji,{size:16})," Download"]}),f.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),f.jsxs("button",{onClick:()=>ne(E.prompt,E.id),className:"flex items-center gap-2 text-white hover:text-brand transition-colors text-sm font-medium px-2",children:[O===E.id?f.jsx(Ei,{size:16}):f.jsx(Ns,{size:16})," Copy Prompt"]})]}),f.jsx("div",{className:"mt-6 max-w-2xl text-center",children:f.jsx("p",{className:"text-gray-400 text-sm font-medium leading-relaxed",children:E.prompt})}),f.jsx("button",{onClick:()=>x(null),className:"absolute top-4 right-4 p-3 text-white/50 hover:text-white transition-colors bg-white/5 hover:bg-white/10 rounded-full backdrop-blur-md border border-white/5",children:f.jsx(Za,{size:24})})]})})})]})},kw=({projects:r=[],currentUser:n,onUpdateProfile:s,onEditImage:l})=>{const[d,c]=X.useState([]),[h,g]=X.useState(null),p=async()=>{const b=await Uw.getAll();c(b)};return X.useEffect(()=>{p();const b=setInterval(p,5e3);return()=>clearInterval(b)},[]),f.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[f.jsxs("div",{className:"mb-10 text-center",children:[f.jsxs("h1",{className:"text-4xl font-display font-semibold text-white mb-3 tracking-tight",children:["The ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-brand",children:"Team"})]}),f.jsx("p",{className:"text-gray-400 text-base max-w-xl mx-auto font-medium",children:"Creative minds behind the magic."})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:d.map(b=>f.jsx(ae.div,{layoutId:`designer-${b.id}`,onClick:()=>g(b),className:"cursor-pointer group relative",children:f.jsxs("div",{className:"h-full bg-white/5 hover:bg-white/10 border border-white/5 rounded-2xl p-5 flex flex-col items-center text-center transition-all duration-300 hover:scale-[1.02] hover:shadow-xl backdrop-blur-sm",children:[f.jsxs("div",{className:"relative mb-3",children:[f.jsx("div",{className:"w-16 h-16 rounded-full p-0.5 bg-gradient-to-br from-white/10 to-white/5 border border-white/10 group-hover:border-brand/30 transition-colors",children:f.jsx("img",{src:b.avatar,alt:b.name,className:"w-full h-full rounded-full object-cover bg-gray-800"})}),f.jsx("div",{className:`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-[2px] border-[#0A0A0A] ${b.status==="online"?"bg-green-500":b.status==="generating"?"bg-brand animate-pulse":"bg-gray-600"}`})]}),f.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5 group-hover:text-brand transition-colors tracking-wide",children:b.name}),f.jsx("p",{className:"text-[11px] text-gray-500 font-medium mb-3",children:b.status==="generating"?"Generating...":b.status==="online"?"Online":`Active ${b.lastActive}`}),f.jsx("div",{className:"mt-auto bg-black/20 px-3 py-1 rounded-full border border-white/5",children:f.jsxs("span",{className:"text-[10px] font-semibold text-gray-400 group-hover:text-white transition-colors",children:[r.filter(w=>w.author===b.name).length," generations"]})})]})},b.id))}),f.jsx($t,{children:h&&f.jsx(zw,{designer:h,projects:r,currentUser:n,onClose:()=>g(null),onUpdateProfile:s,onEditImage:l})})]})},Dw=()=>{const r=localStorage.getItem("click_tools_current_user"),n=r?JSON.parse(r):null,s=(n==null?void 0:n.credits)||0,l=[{label:"Total Credits",value:"5,000",sub:"Monthly Quota",icon:f.jsx(sc,{size:20,className:"text-yellow-400"})},{label:"Credits Used",value:(5e3-s).toLocaleString(),sub:`${Math.round((5e3-s)/5e3*100)}% Used`,icon:f.jsx(Ov,{size:20,className:"text-brand"})},{label:"Remaining",value:s.toLocaleString(),sub:"Expires in 12 days",icon:f.jsx(Av,{size:20,className:"text-blue-400"})}],d=[{name:"Krea 1",used:1200,color:"bg-brand"},{name:"Flux",used:800,color:"bg-blue-500"},{name:"Nano Banana",used:300,color:"bg-yellow-500"},{name:"Others",used:150,color:"bg-gray-500"}];return f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("h1",{className:"text-4xl font-display font-bold text-white mb-2",children:["Usage ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-brand",children:"Statistics"})]}),f.jsx("p",{className:"text-gray-400",children:"Track team consumption and resource allocation."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:l.map((c,h)=>f.jsxs(ur,{className:"flex items-center gap-4 p-6",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center border border-white/10",children:c.icon}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wider",children:c.label}),f.jsx("h3",{className:"text-3xl font-bold text-white",children:c.value}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.sub})]})]},h))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs(ur,{children:[f.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[f.jsx(Tv,{size:18,className:"text-gray-400"}),"Model Consumption"]}),f.jsx("div",{className:"space-y-6",children:d.map((c,h)=>f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[f.jsx("span",{className:"text-gray-300",children:c.name}),f.jsxs("span",{className:"text-gray-500",children:[c.used," units"]})]}),f.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:f.jsx(ae.div,{initial:{width:0},animate:{width:`${c.used/5e3*100}%`},transition:{duration:1,delay:h*.1},className:`h-full ${c.color}`})})]},h))})]}),f.jsxs(ur,{children:[f.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[f.jsx(Nv,{size:18,className:"text-gray-400"}),"Daily Activity"]}),f.jsx("div",{className:"h-[200px] flex items-end justify-between gap-2 px-2",children:[40,65,30,80,55,90,45].map((c,h)=>f.jsx("div",{className:"w-full bg-white/5 rounded-t-lg relative group hover:bg-white/10 transition-colors",children:f.jsx(ae.div,{initial:{height:0},animate:{height:`${c}%`},transition:{duration:.8,delay:h*.1},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-brand/20 to-brand/80 rounded-t-lg mx-1"})},h))}),f.jsxs("div",{className:"flex justify-between mt-4 text-xs text-gray-500 px-2",children:[f.jsx("span",{children:"Mon"}),f.jsx("span",{children:"Tue"}),f.jsx("span",{children:"Wed"}),f.jsx("span",{children:"Thu"}),f.jsx("span",{children:"Fri"}),f.jsx("span",{children:"Sat"}),f.jsx("span",{children:"Sun"})]})]})]})]})},js="click_tools_current_user",Ft={login:async(r,n)=>{try{console.log(" Attempting login for user:",r);const{data:s,error:l}=await mt.from("users").select("*").eq("name",r).eq("password",n).single();if(l||!s)return console.error(" Invalid credentials"),null;console.log(" Login successful!");const d={id:s.id,name:s.name,avatar:s.avatar_url||`https://ui-avatars.com/api/?name=${s.name}&background=random`,status:"online",lastActive:"Now",credits:s.credits||0};return await mt.from("users").update({status:"online"}).eq("id",d.id),localStorage.setItem(js,JSON.stringify(d)),d}catch(s){return console.error(" Login error:",s),null}},updateStatus:async r=>{const n=Ft.getCurrentUser();if(n)try{await mt.from("users").update({status:r}).eq("id",n.id),n.status=r,localStorage.setItem(js,JSON.stringify(n)),console.log(` Status updated to ${r}`)}catch(s){console.error("Error updating status:",s)}},updateProfile:async(r,n)=>{const s=Ft.getCurrentUser();if(!s)return null;try{let l=n;n.startsWith("http")?console.log(" Avatar is already a URL, skipping upload."):(console.log(" Uploading avatar to Supabase Storage..."),l=await Tw(n,"avatars"),console.log(" Avatar uploaded:",l));const{error:d,count:c}=await mt.from("users").update({name:r,avatar_url:l}).eq("id",s.id).select("id",{count:"exact"});if(d)throw d;if(c===0)throw new Error("User not found in database. Please logout and login again.");console.log(" Profile updated in Supabase");const h={...s,name:r,avatar:l};return localStorage.setItem(js,JSON.stringify(h)),h}catch(l){return console.error("Error updating profile:",l),null}},register:async(r,n,s)=>{throw new Error("Registration is disabled. Please contact admin.")},getCurrentUser:()=>{const r=localStorage.getItem(js);return r?JSON.parse(r):null},logout:async()=>{const r=Ft.getCurrentUser();if(r)try{await mt.from("users").update({status:"offline"}).eq("id",r.id),console.log(" Status updated to offline")}catch{console.warn(" Could not update status on logout")}localStorage.removeItem(js),console.log(" Logged out successfully")}},Mw=({isOpen:r,onClose:n,onLogin:s})=>{const[l,d]=X.useState(""),[c,h]=X.useState(""),[g,p]=X.useState(!1),[b,w]=X.useState(""),_=async E=>{if(E.preventDefault(),w(""),!l.trim()){w("Username is required");return}if(!c){w("Password is required");return}p(!0);try{const x=await Ft.login(l,c);x?(s(x),n()):w("Invalid username or password")}catch{w("Connection error. Please try again.")}finally{p(!1)}};return r?f.jsx($t,{children:f.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:f.jsxs(ae.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"w-full max-w-sm bg-[#0A0A0A] border border-white/10 rounded-3xl p-8 relative overflow-hidden shadow-2xl",children:[f.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/5 text-gray-400 hover:text-white transition-colors",children:f.jsx(Za,{size:20})}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-white mb-2",children:"Welcome Back"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Enter your credentials to access the workspace."})]}),f.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase ml-1",children:"Username"}),f.jsxs("div",{className:"relative",children:[f.jsx(ks,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:16}),f.jsx("input",{type:"text",value:l,onChange:E=>d(E.target.value),placeholder:"Enter your username",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white text-sm focus:outline-none focus:border-brand/50 transition-colors",autoFocus:!0,required:!0})]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase ml-1",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(vr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:16}),f.jsx("input",{type:"password",value:c,onChange:E=>h(E.target.value),placeholder:"",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white text-sm focus:outline-none focus:border-brand/50 transition-colors",required:!0})]})]}),b&&f.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-xs justify-center bg-red-500/10 p-2 rounded-lg",children:[f.jsx(Rv,{size:14}),f.jsx("span",{children:b})]}),f.jsx(rc,{type:"submit",isLoading:g,className:"w-full py-3 mt-2",icon:f.jsx(Cv,{size:16}),children:"Sign In"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("p",{className:"text-xs text-gray-600",children:"Access is restricted to authorized team members only."})})]})})}):null},Bw=({isOpen:r,onClose:n,currentUser:s,onUpdateProfile:l,onLogout:d})=>{const[c,h]=X.useState(s.name),[g,p]=X.useState(s.avatar),[b,w]=X.useState(!1),_=X.useRef(null);lc.useEffect(()=>{h(s.name),p(s.avatar)},[s]);const E=async O=>{O.preventDefault(),w(!0);try{await l(c,g),w(!1),setTimeout(()=>{n()},500)}catch(U){console.error("Error updating profile:",U),w(!1)}},x=O=>{var C;const U=(C=O.target.files)==null?void 0:C[0];if(U){const q=new FileReader;q.onloadend=()=>{p(q.result)},q.readAsDataURL(U)}};return r?f.jsx($t,{children:f.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:f.jsxs(ae.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"w-full max-w-md bg-[#0A0A0A] border border-white/10 rounded-3xl p-8 relative overflow-hidden shadow-2xl",children:[f.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/5 text-gray-400 hover:text-white transition-colors",children:f.jsx(Za,{size:20})}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-white mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Update your personal information."})]}),f.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var O;return(O=_.current)==null?void 0:O.click()},children:[f.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-white/10 group-hover:border-brand/50 transition-colors",children:f.jsx("img",{src:g,alt:"Avatar",className:"w-full h-full object-cover"})}),f.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-full",children:f.jsx(Uv,{size:20,className:"text-white"})}),f.jsx("input",{type:"file",ref:_,onChange:x,className:"hidden",accept:"image/*"})]})}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase ml-1",children:"Display Name"}),f.jsxs("div",{className:"relative",children:[f.jsx(ks,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:16}),f.jsx("input",{type:"text",value:c,onChange:O=>h(O.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white text-sm focus:outline-none focus:border-brand/50 transition-colors"})]})]}),f.jsx(rc,{type:"submit",isLoading:b,className:"w-full py-3",icon:f.jsx(zv,{size:16}),children:"Save Changes"}),f.jsxs("button",{type:"button",onClick:d,className:"w-full py-3 flex items-center justify-center gap-2 text-red-500 hover:bg-red-500/10 rounded-xl transition-colors text-sm font-medium",children:[f.jsx(kv,{size:16}),"Sign Out"]})]})]})})}):null},qw=({currentView:r,onNavigate:n,currentUser:s,onOpenAuth:l,onOpenSettings:d})=>{const c=[{icon:f.jsx(cr,{size:18}),label:"Generate",id:"generate",active:r==="generate"},{icon:f.jsx(On,{size:18}),label:"Edit",id:"edit",active:r==="edit"},{icon:f.jsx(Mv,{size:18}),label:"Projects",id:"projects",active:r==="projects"},{icon:f.jsx(Bv,{size:18}),label:"Team",id:"team",active:r==="team"},{icon:f.jsx(qv,{size:18}),label:"Usage",id:"usage",active:r==="usage"}];return f.jsx(ae.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:[.16,1,.3,1]},className:"fixed top-6 left-0 right-0 z-50 flex justify-center items-start pointer-events-none",children:f.jsxs("div",{className:"flex items-center gap-3 pointer-events-auto",children:[f.jsxs("div",{className:"flex items-center p-1.5 glass-panel rounded-full shadow-2xl shadow-black/20 backdrop-blur-xl bg-[#050505]/80 border border-white/10",children:[f.jsxs("div",{className:"pl-4 pr-6 flex items-center gap-3 border-r border-white/10 mr-2",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-brand rounded-lg flex items-center justify-center shadow-[0_0_15px_rgba(255,0,85,0.4)]",children:f.jsx("img",{src:"https://res.cloudinary.com/dx30xwfbj/image/upload/v1763703060/35536363463_q7rajl.png",alt:"Logo",className:"w-5 h-5 invert brightness-0"})}),f.jsx("div",{className:"flex items-center gap-1 leading-none hidden md:flex",children:f.jsx("span",{className:"font-display font-bold text-sm text-white",children:"Click-Engine"})})]}),f.jsx("div",{className:"flex items-center gap-1",children:c.map((h,g)=>f.jsxs("button",{onClick:()=>n(h.id),className:`
                    relative px-4 py-2 rounded-full flex items-center gap-2 text-sm font-medium transition-all duration-300
                    ${h.active?"text-white bg-white/10 shadow-[inset_0_1px_1px_rgba(255,255,255,0.1)] border border-white/5":"text-gray-400 hover:text-white hover:bg-white/5"}
                `,children:[h.icon,f.jsx("span",{children:h.label})]},g))})]}),f.jsx("div",{className:"p-1.5 glass-panel rounded-full shadow-2xl shadow-black/20 backdrop-blur-xl bg-[#050505]/80 border border-white/10",children:s?f.jsxs("button",{onClick:d,className:"flex items-center gap-3 pr-5 pl-1.5 py-0.5 hover:bg-white/5 rounded-full transition-colors group",children:[f.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-gray-800 to-black border border-white/10 flex items-center justify-center overflow-hidden group-hover:border-brand/50 transition-colors",children:s.avatar?f.jsx("img",{src:s.avatar,alt:s.name,className:"w-full h-full object-cover"}):f.jsx(ks,{size:18,className:"text-gray-400 group-hover:text-brand transition-colors"})}),f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs font-bold text-white leading-none",children:s.name}),f.jsx("span",{className:"text-[10px] text-gray-500 leading-none mt-1",children:"Online"})]})]}):f.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-5 py-2.5 rounded-full bg-brand hover:bg-brand-light text-white text-sm font-bold transition-all shadow-[0_0_15px_rgba(255,0,85,0.3)] hover:shadow-[0_0_25px_rgba(255,0,85,0.5)]",children:[f.jsx(Dv,{size:16}),f.jsx("span",{children:"Sign In"})]})})]})})},Lw=({selectedModel:r,onSelectModel:n})=>{const[s,l]=X.useState(!1),d=[{name:"Nano Banana Pro",desc:"Native 4K image generation",time:"30s",cost:"119 units",active:!0,tags:["2 images"],supportedAspectRatios:["16:9","4:3","1:1"],supportedResolutions:["1k","2k","4k"]},{name:"Nano Banana",desc:"Smart model, best for image editing",time:"10s",cost:"32 units",active:!1,tags:["2 images"],supportedAspectRatios:["1:1"],supportedResolutions:["1k"]},{name:"Grok 2",desc:"Smartest model, best for complex prompts",time:"10s",cost:"1 unit",active:!1,tags:["High Quality","Smart"],supportedAspectRatios:["16:9","4:3","1:1"],supportedResolutions:["1k"]},{name:"FLUX 2.0",desc:"Next-gen image synthesis",time:"15s",cost:"2 units",active:!1,tags:["Ultra Quality","Inpainting"],isNew:!0,supportedAspectRatios:["16:9","4:3","1:1"],supportedResolutions:["1k","2k"]},{name:"FLUX 1.0",desc:"High fidelity generation",time:"12s",cost:"1 unit",active:!1,tags:["Balanced","Inpainting"],supportedAspectRatios:["16:9","4:3","1:1"],supportedResolutions:["1k"]}];return f.jsx(ae.div,{className:"fixed left-6 bottom-6 z-40 flex flex-col justify-end",initial:!1,children:f.jsx($t,{mode:"wait",children:s?f.jsxs(ae.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"w-80 bg-[#0A0A0A]/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[60vh]",children:[f.jsxs("div",{onClick:()=>l(!1),className:"flex items-center justify-between p-4 cursor-pointer hover:bg-white/5 transition-colors border-b border-white/5",children:[f.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Select Model"}),f.jsx(Im,{size:14,className:"text-gray-500"})]}),f.jsx("div",{className:"overflow-y-auto custom-scrollbar p-2 space-y-2 flex-1",children:d.map((c,h)=>f.jsxs("button",{onClick:()=>{n(c.name),l(!1)},className:`
                            group relative p-3 rounded-xl text-left transition-all duration-200 border w-full
                            ${c.name===r?"bg-white/5 border-brand/50 shadow-[0_0_15px_rgba(255,0,85,0.1)]":"bg-transparent border-transparent hover:bg-white/5 hover:border-white/5"}
                        `,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`font-semibold text-sm ${c.name===r?"text-white":"text-gray-300"}`,children:c.name}),c.isNew&&f.jsx("span",{className:"text-[9px] font-bold bg-blue-500 text-white px-1.5 py-0.5 rounded-full",children:"New"})]}),c.name===r&&f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-brand shadow-[0_0_8px_#FF0055]"})]}),f.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-400 font-medium mt-2",children:[f.jsxs("span",{className:"flex items-center gap-1 bg-white/5 px-1.5 py-0.5 rounded",children:[f.jsx(Pm,{size:10})," ",c.time]}),f.jsxs("span",{className:"flex items-center gap-1 bg-white/5 px-1.5 py-0.5 rounded",children:[f.jsx(Wm,{size:10})," ",c.cost]})]})]},h))}),f.jsx("div",{className:"p-3 border-t border-white/5 bg-black/20",children:f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(sc,{size:12,className:"text-yellow-400"}),(()=>{const c=localStorage.getItem("click_tools_current_user"),h=c?JSON.parse(c):null;return h!=null&&h.credits?h.credits.toLocaleString():"0"})()," Credits"]}),f.jsx("button",{className:"text-brand hover:text-brand-light transition-colors font-medium",children:"Upgrade"})]})})]},"list"):f.jsxs(ae.button,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:()=>l(!0),className:"flex items-center gap-3 px-4 py-3 bg-[#1A1A1A] border border-white/10 rounded-2xl shadow-xl hover:bg-[#222] transition-colors group",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-0.5",children:"Model"}),f.jsx("span",{className:"text-sm font-bold text-white group-hover:text-brand transition-colors",children:r})]}),f.jsx(Zm,{size:16,className:"text-gray-500"})]},"pill")})})},$w=()=>{const[r,n]=X.useState(null),[s,l]=X.useState("generate"),[d,c]=X.useState([]),[h,g]=X.useState(!1),[p,b]=X.useState(!1),[w,_]=X.useState("Nano Banana Pro"),[E,x]=X.useState(null);X.useEffect(()=>{const L=Ft.getCurrentUser();L&&n(L),pr.getAll().then(c);const B=()=>g(!0);return window.addEventListener("open-auth-modal",B),()=>{window.removeEventListener("open-auth-modal",B)}},[]);const O=async L=>{const B=Ft.getCurrentUser();n(B),g(!1)},U=async(L,B)=>{if(r)try{console.log(" Updating profile...");const H=await Ft.updateProfile(L,B);if(H)n(H),console.log(" Profile updated! New avatar:",H.avatar),await new Promise(ne=>setTimeout(ne,100));else throw console.error(" Failed to update profile"),new Error("Failed to update profile")}catch(H){throw console.error("Failed to update profile:",H),H}},C=async(L,B,H,ne,Y)=>{if(!r)return g(!0),null;await Ft.updateStatus("generating");try{const ee=await pr.create({imageUrl:"",prompt:L,author:r.name,authorAvatar:r.avatar,model:w,aspectRatio:B,resolution:H,referenceImage:ne,referenceImageMimeType:Y});return c(fe=>[ee,...fe]),ee}catch(ee){throw console.error("Error generating project:",ee),ee}finally{await Ft.updateStatus("online")}},q=L=>{x(L),l("edit")};return f.jsxs("div",{className:"min-h-screen w-full bg-background text-white selection:bg-brand selection:text-white",children:[f.jsx(qw,{currentView:s,onNavigate:l,currentUser:r,onOpenAuth:()=>g(!0),onOpenSettings:()=>b(!0)},(r==null?void 0:r.avatar)||"no-user"),s==="generate"&&r&&f.jsx(Lw,{selectedModel:w,onSelectModel:_}),f.jsxs("main",{className:"max-w-7xl mx-auto pt-28 pb-6 px-6 min-h-screen relative",children:[s==="generate"&&f.jsx(Pv,{onGenerate:C,isLoggedIn:!!r,onEditImage:q,selectedModel:w}),s==="projects"&&f.jsx(Cw,{projects:d,currentUser:r?r.name:"",onOpenAuth:()=>g(!0),onEditImage:q}),s==="team"&&(r?f.jsx(kw,{projects:d,currentUser:r?{name:r.name,avatar:r.avatar}:void 0,onUpdateProfile:U,onEditImage:q}):f.jsx(Os,{onSignIn:()=>g(!0)})),s==="usage"&&(r?f.jsx(Dw,{}):f.jsx(Os,{onSignIn:()=>g(!0)})),s==="edit"&&(r?f.jsx(Rw,{initialImage:E}):f.jsx(Os,{onSignIn:()=>g(!0)}))]}),f.jsx(Mw,{isOpen:h,onClose:()=>g(!1),onLogin:O}),r&&f.jsx(Bw,{isOpen:p,onClose:()=>b(!1),currentUser:r,onUpdateProfile:U,onLogout:()=>{Ft.logout(),n(null),b(!1),g(!0)}})]})},Xg=document.getElementById("root");if(!Xg)throw new Error("Could not find root element to mount to");const Hw=Qv.createRoot(Xg);Hw.render(f.jsx(lc.StrictMode,{children:f.jsx($w,{})}));
